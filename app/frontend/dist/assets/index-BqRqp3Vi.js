var m4=Object.defineProperty;var py=e=>{throw TypeError(e)};var g4=(e,t,r)=>t in e?m4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Kc=(e,t,r)=>g4(e,typeof t!="symbol"?t+"":t,r),Zc=(e,t,r)=>t.has(e)||py("Cannot "+r);var $=(e,t,r)=>(Zc(e,t,"read from private field"),r?r.call(e):t.get(e)),ve=(e,t,r)=>t.has(e)?py("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),le=(e,t,r,n)=>(Zc(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),qe=(e,t,r)=>(Zc(e,t,"access private method"),r);var Do=(e,t,r,n)=>({set _(s){le(e,t,s,r)},get _(){return $(e,t,n)}});import{j as a,S as $N,P as Me,c as xr,a as ys,u as _n,b as it,d as ze,e as Ng,O as _g,f as DN,C as kg,g as Sg,T as Cg,D as Tg,R as qN,h as zl,i as wo,k as VN,I as BN,l as GN,m as WN,A as x4,n as dr,o as y4,p as li,q as mn,r as v4,s as b4,t as w4,v as j4,F as N4,w as _4,x as k4,y as S4,z as C4,B as zN,E as HN,G as T4,H as UN,J as KN,K as ZN,L as YN,M as QN,N as XN,Q as JN,U as E4,V as P4,W as e2,X as A4,Y as R4,Z as I4}from"./ui-Ec6iVIjp.js";import{a as Hl,r as m,t as M4,c as D,g as t2,b as qo}from"./vendor-DruJ8Nrn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var r2,my=Hl;r2=my.createRoot,my.hydrateRoot;function O4(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,s,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();s=c.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~n?n:~i?i:s.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var n2={exports:{}},s2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=m;function F4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L4=typeof Object.is=="function"?Object.is:F4,$4=Ka.useState,D4=Ka.useEffect,q4=Ka.useLayoutEffect,V4=Ka.useDebugValue;function B4(e,t){var r=t(),n=$4({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return q4(function(){s.value=r,s.getSnapshot=t,Yc(s)&&i({inst:s})},[e,r,t]),D4(function(){return Yc(s)&&i({inst:s}),e(function(){Yc(s)&&i({inst:s})})},[e]),V4(r),r}function Yc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!L4(e,r)}catch{return!0}}function G4(e,t){return t()}var W4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?G4:B4;s2.useSyncExternalStore=Ka.useSyncExternalStore!==void 0?Ka.useSyncExternalStore:W4;n2.exports=s2;var Ul=n2.exports;const z4=M4.useInsertionEffect,H4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",a2=H4?m.useLayoutEffect:m.useEffect,U4=z4||a2,Eg=e=>{const t=m.useRef([e,(...r)=>t[0](...r)]).current;return U4(()=>{t[0]=e}),t[1]},K4="popstate",Pg="pushState",Ag="replaceState",Z4="hashchange",gy=[K4,Pg,Ag,Z4],Y4=e=>{for(const t of gy)addEventListener(t,e);return()=>{for(const t of gy)removeEventListener(t,e)}},i2=(e,t)=>Ul.useSyncExternalStore(Y4,e,t),Q4=()=>location.search,X4=({ssrSearch:e=""}={})=>i2(Q4,()=>e),xy=()=>location.pathname,J4=({ssrPath:e}={})=>i2(xy,e?()=>e:xy),eA=(e,{replace:t=!1,state:r=null}={})=>history[t?Ag:Pg](r,"",e),tA=(e={})=>[J4(e),eA],yy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[yy]>"u"){for(const e of[Pg,Ag]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,yy,{value:!0})}const rA=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",o2=(e="")=>e==="/"?"":e,nA=(e,t)=>e[0]==="~"?e.slice(1):o2(t)+e,sA=(e="",t)=>rA(vy(o2(e)),vy(t)),vy=e=>{try{return decodeURI(e)}catch{return e}},l2={hook:tA,searchHook:X4,parser:O4,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},c2=m.createContext(l2),ci=()=>m.useContext(c2),d2={},u2=m.createContext(d2),aA=()=>m.useContext(u2),jo=e=>{const[t,r]=e.hook(e);return[sA(e.base,t),Eg((n,s)=>r(nA(n,e.base),s))]},No=()=>jo(ci()),f2=(e,t,r,n)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=s.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},h2=({children:e,...t})=>{var d,f;const r=ci(),n=t.hook?l2:r;let s=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=m.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,(p!==n[h]||p!==s[h])&&(s=u)}return m.createElement(c2.Provider,{value:s,children:e})},by=({children:e,component:t},r)=>t?m.createElement(t,{params:r}):typeof e=="function"?e(r):e,iA=e=>{let t=m.useRef(d2);const r=t.current;return t.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some(([n,s])=>s!==r[n])?e:r},gm=({path:e,nest:t,match:r,...n})=>{const s=ci(),[i]=jo(s),[o,l,c]=r??f2(s.parser,e,i,t),u=iA({...aA(),...l});if(!o)return null;const d=c?m.createElement(h2,{base:c},by(n,u)):by(n,u);return m.createElement(u2.Provider,{value:u,children:d})},Mi=m.forwardRef((e,t)=>{const r=ci(),[n,s]=jo(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,x=Eg(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),s(o,e)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&m.isValidElement(u)?m.cloneElement(u,{onClick:x,href:g}):m.createElement("a",{...p,onClick:x,href:g,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),p2=e=>Array.isArray(e)?e.flatMap(t=>p2(t&&t.type===m.Fragment?t.props.children:t)):[e],oA=({children:e,location:t})=>{const r=ci(),[n]=jo(r);for(const s of p2(e)){let i=0;if(m.isValidElement(s)&&(i=f2(r.parser,s.props.path,t||n,s.props.nest))[0])return m.cloneElement(s,{match:i})}return null},lA=e=>{const{to:t,href:r=t}=e,n=ci(),[,s]=jo(n),i=Eg(()=>s(t||r,e)),{ssrContext:o}=n;return a2(()=>{i()},[]),o&&(o.redirectTo=t),null},Oi={v:[]},wy=()=>Oi.v.forEach(e=>e()),cA=e=>(Oi.v.push(e)===1&&addEventListener("hashchange",wy),()=>{Oi.v=Oi.v.filter(t=>t!==e),Oi.v.length||removeEventListener("hashchange",wy)}),dA=()=>"/"+location.hash.replace(/^#?\/?/,""),uA=(e,{state:t=null,replace:r=!1}={})=>{const[n,s]=e.replace(/^#?\/?/,"").split("?"),i=location.pathname+(s?`?${s}`:location.search)+`#/${n}`,o=location.href,l=new URL(i,location.origin).href;r?history.replaceState(t,"",i):history.pushState(t,"",i);const c=typeof HashChangeEvent<"u"?new HashChangeEvent("hashchange",{oldURL:o,newURL:l}):new Event("hashchange",{detail:{oldURL:o,newURL:l}});dispatchEvent(c)},m2=({ssrPath:e="/"}={})=>[Ul.useSyncExternalStore(cA,dA,()=>e),uA];m2.hrefs=e=>"#"+e;var di=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Us=typeof window>"u"||"Deno"in globalThis;function Ht(){}function fA(e,t){return typeof e=="function"?e(t):e}function xm(e){return typeof e=="number"&&e>=0&&e!==1/0}function g2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function os(e,t){return typeof e=="function"?e(t):e}function Ar(e,t){return typeof e=="function"?e(t):e}function jy(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Rg(o,t.options))return!1}else if(!to(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function Ny(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ks(t.options.mutationKey)!==Ks(i))return!1}else if(!to(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Rg(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ks)(e)}function Ks(e){return JSON.stringify(e,(t,r)=>ym(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function to(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>to(e[r],t[r])):!1}function x2(e,t){if(e===t)return e;const r=_y(e)&&_y(t);if(r||ym(e)&&ym(t)){const n=r?e:Object.keys(e),s=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=x2(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return s===o&&c===s?e:l}return t}function cl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function _y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ym(e){if(!ky(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!ky(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ky(e){return Object.prototype.toString.call(e)==="[object Object]"}function hA(e){return new Promise(t=>{setTimeout(t,e)})}function vm(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?x2(e,t):t}function pA(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function mA(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Ig=Symbol();function y2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ig?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function v2(e,t){return typeof e=="function"?e(...t):!!e}var Is,Yn,Oa,CN,gA=(CN=class extends di{constructor(){super();ve(this,Is);ve(this,Yn);ve(this,Oa);le(this,Oa,t=>{if(!Us&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){$(this,Yn)||this.setEventListener($(this,Oa))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Yn))==null||t.call(this),le(this,Yn,void 0))}setEventListener(t){var r;le(this,Oa,t),(r=$(this,Yn))==null||r.call(this),le(this,Yn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){$(this,Is)!==t&&(le(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof $(this,Is)=="boolean"?$(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,Yn=new WeakMap,Oa=new WeakMap,CN),Mg=new gA,Fa,Qn,La,TN,xA=(TN=class extends di{constructor(){super();ve(this,Fa,!0);ve(this,Qn);ve(this,La);le(this,La,t=>{if(!Us&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){$(this,Qn)||this.setEventListener($(this,La))}onUnsubscribe(){var t;this.hasListeners()||((t=$(this,Qn))==null||t.call(this),le(this,Qn,void 0))}setEventListener(t){var r;le(this,La,t),(r=$(this,Qn))==null||r.call(this),le(this,Qn,t(this.setOnline.bind(this)))}setOnline(t){$(this,Fa)!==t&&(le(this,Fa,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return $(this,Fa)}},Fa=new WeakMap,Qn=new WeakMap,La=new WeakMap,TN),dl=new xA;function bm(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function yA(e){return Math.min(1e3*2**e,3e4)}function b2(e){return(e??"online")==="online"?dl.isOnline():!0}var w2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Qc(e){return e instanceof w2}function j2(e){let t=!1,r=0,n=!1,s;const i=bm(),o=g=>{var y;n||(h(new w2(g)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Mg.isFocused()&&(e.networkMode==="always"||dl.isOnline())&&e.canRun(),d=()=>b2(e.networkMode)&&e.canRun(),f=g=>{var y;n||(n=!0,(y=e.onSuccess)==null||y.call(e,g),s==null||s(),i.resolve(g))},h=g=>{var y;n||(n=!0,(y=e.onError)==null||y.call(e,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var y;s=b=>{(n||u())&&g(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),x=()=>{if(n)return;let g;const y=r===0?e.initialPromise:void 0;try{g=y??e.fn()}catch(b){g=Promise.reject(b)}Promise.resolve(g).then(f).catch(b=>{var P;if(n)return;const v=e.retry??(Us?0:3),j=e.retryDelay??yA,N=typeof j=="function"?j(r,b):j,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!_){h(b);return}r++,(P=e.onFail)==null||P.call(e,r,b),hA(N).then(()=>u()?void 0:p()).then(()=>{t?h(b):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}var vA=e=>setTimeout(e,0);function bA(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=vA;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var At=bA(),Ms,EN,N2=(EN=class{constructor(){ve(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xm(this.gcTime)&&le(this,Ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Us?1/0:5*60*1e3))}clearGcTimeout(){$(this,Ms)&&(clearTimeout($(this,Ms)),le(this,Ms,void 0))}},Ms=new WeakMap,EN),$a,Da,pr,Os,Lt,xo,Fs,Er,fn,PN,wA=(PN=class extends N2{constructor(t){super();ve(this,Er);ve(this,$a);ve(this,Da);ve(this,pr);ve(this,Os);ve(this,Lt);ve(this,xo);ve(this,Fs);le(this,Fs,!1),le(this,xo,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Os,t.client),le(this,pr,$(this,Os).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,$a,jA(this.options)),this.state=t.state??$(this,$a),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=$(this,Lt))==null?void 0:t.promise}setOptions(t){this.options={...$(this,xo),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&$(this,pr).remove(this)}setData(t,r){const n=vm(this.state.data,t,this.options);return qe(this,Er,fn).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){qe(this,Er,fn).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=$(this,Lt))==null?void 0:n.promise;return(s=$(this,Lt))==null||s.cancel(t),r?r.then(Ht).catch(Ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState($(this,$a))}isActive(){return this.observers.some(t=>Ar(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ig||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>os(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!g2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,Lt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=$(this,Lt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),$(this,pr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||($(this,Lt)&&($(this,Fs)?$(this,Lt).cancel({revert:!0}):$(this,Lt).cancelRetry()),this.scheduleGc()),$(this,pr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Er,fn).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if($(this,Lt))return $(this,Lt).continueRetry(),$(this,Lt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(le(this,Fs,!0),n.signal)})},i=()=>{const f=y2(this.options,r),h={client:$(this,Os),queryKey:this.queryKey,meta:this.meta};return s(h),le(this,Fs,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:$(this,Os),state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),le(this,Da,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&qe(this,Er,fn).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,x,g;Qc(f)&&f.silent||qe(this,Er,fn).call(this,{type:"error",error:f}),Qc(f)||((p=(h=$(this,pr).config).onError)==null||p.call(h,f,this),(g=(x=$(this,pr).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return le(this,Lt,j2({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,x,g;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(p=(h=$(this,pr).config).onSuccess)==null||p.call(h,f,this),(g=(x=$(this,pr).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{qe(this,Er,fn).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{qe(this,Er,fn).call(this,{type:"pause"})},onContinue:()=>{qe(this,Er,fn).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),$(this,Lt).start()}},$a=new WeakMap,Da=new WeakMap,pr=new WeakMap,Os=new WeakMap,Lt=new WeakMap,xo=new WeakMap,Fs=new WeakMap,Er=new WeakSet,fn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,..._2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Qc(s)&&s.revert&&$(this,Da)?{...$(this,Da),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),At.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),$(this,pr).notify({query:this,type:"updated",action:t})})},PN);function _2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:b2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jA(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zr,AN,NA=(AN=class extends di{constructor(t={}){super();ve(this,zr);this.config=t,le(this,zr,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Rg(s,r);let o=this.get(i);return o||(o=new wA({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){$(this,zr).has(t.queryHash)||($(this,zr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=$(this,zr).get(t.queryHash);r&&(t.destroy(),r===t&&$(this,zr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){At.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return $(this,zr).get(t)}getAll(){return[...$(this,zr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>jy(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>jy(t,n)):r}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){At.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){At.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},zr=new WeakMap,AN),Hr,Bt,Ls,Ur,Bn,RN,_A=(RN=class extends N2{constructor(t){super();ve(this,Ur);ve(this,Hr);ve(this,Bt);ve(this,Ls);this.mutationId=t.mutationId,le(this,Bt,t.mutationCache),le(this,Hr,[]),this.state=t.state||k2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){$(this,Hr).includes(t)||($(this,Hr).push(t),this.clearGcTimeout(),$(this,Bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Hr,$(this,Hr).filter(r=>r!==t)),this.scheduleGc(),$(this,Bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){$(this,Hr).length||(this.state.status==="pending"?this.scheduleGc():$(this,Bt).remove(this))}continue(){var t;return((t=$(this,Ls))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,c,u,d,f,h,p,x,g,y,b,v,j,N,_,P,C,E;const r=()=>{qe(this,Ur,Bn).call(this,{type:"continue"})};le(this,Ls,j2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,M)=>{qe(this,Ur,Bn).call(this,{type:"failed",failureCount:S,error:M})},onPause:()=>{qe(this,Ur,Bn).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>$(this,Bt).canRun(this)}));const n=this.state.status==="pending",s=!$(this,Ls).canStart();try{if(n)r();else{qe(this,Ur,Bn).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=$(this,Bt).config).onMutate)==null?void 0:o.call(i,t,this));const M=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));M!==this.state.context&&qe(this,Ur,Bn).call(this,{type:"pending",context:M,variables:t,isPaused:s})}const S=await $(this,Ls).start();return await((d=(u=$(this,Bt).config).onSuccess)==null?void 0:d.call(u,S,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,S,t,this.state.context)),await((x=(p=$(this,Bt).config).onSettled)==null?void 0:x.call(p,S,null,this.state.variables,this.state.context,this)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,S,null,t,this.state.context)),qe(this,Ur,Bn).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(b=$(this,Bt).config).onError)==null?void 0:v.call(b,S,t,this.state.context,this)),await((N=(j=this.options).onError)==null?void 0:N.call(j,S,t,this.state.context)),await((P=(_=$(this,Bt).config).onSettled)==null?void 0:P.call(_,void 0,S,this.state.variables,this.state.context,this)),await((E=(C=this.options).onSettled)==null?void 0:E.call(C,void 0,S,t,this.state.context)),S}finally{qe(this,Ur,Bn).call(this,{type:"error",error:S})}}finally{$(this,Bt).runNext(this)}}},Hr=new WeakMap,Bt=new WeakMap,Ls=new WeakMap,Ur=new WeakSet,Bn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),At.batch(()=>{$(this,Hr).forEach(n=>{n.onMutationUpdate(t)}),$(this,Bt).notify({mutation:this,type:"updated",action:t})})},RN);function k2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hn,Pr,yo,IN,kA=(IN=class extends di{constructor(t={}){super();ve(this,hn);ve(this,Pr);ve(this,yo);this.config=t,le(this,hn,new Set),le(this,Pr,new Map),le(this,yo,0)}build(t,r,n){const s=new _A({mutationCache:this,mutationId:++Do(this,yo)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){$(this,hn).add(t);const r=Vo(t);if(typeof r=="string"){const n=$(this,Pr).get(r);n?n.push(t):$(this,Pr).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if($(this,hn).delete(t)){const r=Vo(t);if(typeof r=="string"){const n=$(this,Pr).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&$(this,Pr).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Vo(t);if(typeof r=="string"){const n=$(this,Pr).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Vo(t);if(typeof r=="string"){const s=(n=$(this,Pr).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){At.batch(()=>{$(this,hn).forEach(t=>{this.notify({type:"removed",mutation:t})}),$(this,hn).clear(),$(this,Pr).clear()})}getAll(){return Array.from($(this,hn))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ny(r,n))}findAll(t={}){return this.getAll().filter(r=>Ny(t,r))}notify(t){At.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return At.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ht))))}},hn=new WeakMap,Pr=new WeakMap,yo=new WeakMap,IN);function Vo(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Sy(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},b=y2(t.options,t.fetchOptions),v=async(j,N,_)=>{if(g)return Promise.reject();if(N==null&&j.pages.length)return Promise.resolve(j);const P={client:t.client,queryKey:t.queryKey,pageParam:N,direction:_?"backward":"forward",meta:t.options.meta};y(P);const C=await b(P),{maxPages:E}=t.options,S=_?mA:pA;return{pages:S(j.pages,C,E),pageParams:S(j.pageParams,N,E)}};if(s&&i.length){const j=s==="backward",N=j?SA:Cy,_={pages:i,pageParams:o},P=N(n,_);l=await v(_,P,j)}else{const j=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:Cy(n,l);if(c>0&&N==null)break;l=await v(l,N),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var g,y;return(y=(g=t.options).persister)==null?void 0:y.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Cy(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function SA(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var xt,Xn,Jn,qa,Va,es,Ba,Ga,MN,CA=(MN=class{constructor(e={}){ve(this,xt);ve(this,Xn);ve(this,Jn);ve(this,qa);ve(this,Va);ve(this,es);ve(this,Ba);ve(this,Ga);le(this,xt,e.queryCache||new NA),le(this,Xn,e.mutationCache||new kA),le(this,Jn,e.defaultOptions||{}),le(this,qa,new Map),le(this,Va,new Map),le(this,es,0)}mount(){Do(this,es)._++,$(this,es)===1&&(le(this,Ba,Mg.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,xt).onFocus())})),le(this,Ga,dl.subscribe(async e=>{e&&(await this.resumePausedMutations(),$(this,xt).onOnline())})))}unmount(){var e,t;Do(this,es)._--,$(this,es)===0&&((e=$(this,Ba))==null||e.call(this),le(this,Ba,void 0),(t=$(this,Ga))==null||t.call(this),le(this,Ga,void 0))}isFetching(e){return $(this,xt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return $(this,Xn).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,xt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=$(this,xt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(os(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return $(this,xt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=$(this,xt).get(n.queryHash),i=s==null?void 0:s.state.data,o=fA(t,i);if(o!==void 0)return $(this,xt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return At.batch(()=>$(this,xt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=$(this,xt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=$(this,xt);At.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=$(this,xt);return At.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=At.batch(()=>$(this,xt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Ht).catch(Ht)}invalidateQueries(e,t={}){return At.batch(()=>($(this,xt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=At.batch(()=>$(this,xt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ht)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ht)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=$(this,xt).build(this,t);return r.isStaleByTime(os(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ht).catch(Ht)}fetchInfiniteQuery(e){return e.behavior=Sy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ht).catch(Ht)}ensureInfiniteQueryData(e){return e.behavior=Sy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return dl.isOnline()?$(this,Xn).resumePausedMutations():Promise.resolve()}getQueryCache(){return $(this,xt)}getMutationCache(){return $(this,Xn)}getDefaultOptions(){return $(this,Jn)}setDefaultOptions(e){le(this,Jn,e)}setQueryDefaults(e,t){$(this,qa).set(Ks(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...$(this,qa).values()],r={};return t.forEach(n=>{to(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){$(this,Va).set(Ks(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...$(this,Va).values()],r={};return t.forEach(n=>{to(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...$(this,Jn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Rg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ig&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...$(this,Jn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){$(this,xt).clear(),$(this,Xn).clear()}},xt=new WeakMap,Xn=new WeakMap,Jn=new WeakMap,qa=new WeakMap,Va=new WeakMap,es=new WeakMap,Ba=new WeakMap,Ga=new WeakMap,MN),tr,He,vo,Gt,$s,Wa,ts,rs,bo,za,Ha,Ds,qs,ns,Ua,Xe,Fi,wm,jm,Nm,_m,km,Sm,Cm,S2,ON,TA=(ON=class extends di{constructor(t,r){super();ve(this,Xe);ve(this,tr);ve(this,He);ve(this,vo);ve(this,Gt);ve(this,$s);ve(this,Wa);ve(this,ts);ve(this,rs);ve(this,bo);ve(this,za);ve(this,Ha);ve(this,Ds);ve(this,qs);ve(this,ns);ve(this,Ua,new Set);this.options=r,le(this,tr,t),le(this,rs,null),le(this,ts,bm()),this.options.experimental_prefetchInRender||$(this,ts).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&($(this,He).addObserver(this),Ty($(this,He),this.options)?qe(this,Xe,Fi).call(this):this.updateResult(),qe(this,Xe,_m).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tm($(this,He),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tm($(this,He),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,Xe,km).call(this),qe(this,Xe,Sm).call(this),$(this,He).removeObserver(this)}setOptions(t){const r=this.options,n=$(this,He);if(this.options=$(this,tr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ar(this.options.enabled,$(this,He))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,Xe,Cm).call(this),$(this,He).setOptions(this.options),r._defaulted&&!cl(this.options,r)&&$(this,tr).getQueryCache().notify({type:"observerOptionsUpdated",query:$(this,He),observer:this});const s=this.hasListeners();s&&Ey($(this,He),n,this.options,r)&&qe(this,Xe,Fi).call(this),this.updateResult(),s&&($(this,He)!==n||Ar(this.options.enabled,$(this,He))!==Ar(r.enabled,$(this,He))||os(this.options.staleTime,$(this,He))!==os(r.staleTime,$(this,He)))&&qe(this,Xe,wm).call(this);const i=qe(this,Xe,jm).call(this);s&&($(this,He)!==n||Ar(this.options.enabled,$(this,He))!==Ar(r.enabled,$(this,He))||i!==$(this,ns))&&qe(this,Xe,Nm).call(this,i)}getOptimisticResult(t){const r=$(this,tr).getQueryCache().build($(this,tr),t),n=this.createResult(r,t);return PA(this,n)&&(le(this,Gt,n),le(this,Wa,this.options),le(this,$s,$(this,He).state)),n}getCurrentResult(){return $(this,Gt)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),Reflect.get(n,s))})}trackProp(t){$(this,Ua).add(t)}getCurrentQuery(){return $(this,He)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=$(this,tr).defaultQueryOptions(t),n=$(this,tr).getQueryCache().build($(this,tr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return qe(this,Xe,Fi).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),$(this,Gt)))}createResult(t,r){var S;const n=$(this,He),s=this.options,i=$(this,Gt),o=$(this,$s),l=$(this,Wa),u=t!==n?t.state:$(this,vo),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const M=this.hasListeners(),O=!M&&Ty(t,r),A=M&&Ey(t,n,r,s);(O||A)&&(f={...f,..._2(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:g,status:y}=f;p=f.data;let b=!1;if(r.placeholderData!==void 0&&p===void 0&&y==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,b=!0):M=typeof r.placeholderData=="function"?r.placeholderData((S=$(this,Ha))==null?void 0:S.state.data,$(this,Ha)):r.placeholderData,M!==void 0&&(y="success",p=vm(i==null?void 0:i.data,M,r),h=!0)}if(r.select&&p!==void 0&&!b)if(i&&p===(o==null?void 0:o.data)&&r.select===$(this,bo))p=$(this,za);else try{le(this,bo,r.select),p=r.select(p),p=vm(i==null?void 0:i.data,p,r),le(this,za,p),le(this,rs,null)}catch(M){le(this,rs,M)}$(this,rs)&&(x=$(this,rs),p=$(this,za),g=Date.now(),y="error");const v=f.fetchStatus==="fetching",j=y==="pending",N=y==="error",_=j&&v,P=p!==void 0,E={status:y,fetchStatus:f.fetchStatus,isPending:j,isSuccess:y==="success",isError:N,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!j,isLoadingError:N&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:N&&P,isStale:Og(t,r),refetch:this.refetch,promise:$(this,ts)};if(this.options.experimental_prefetchInRender){const M=B=>{E.status==="error"?B.reject(E.error):E.data!==void 0&&B.resolve(E.data)},O=()=>{const B=le(this,ts,E.promise=bm());M(B)},A=$(this,ts);switch(A.status){case"pending":t.queryHash===n.queryHash&&M(A);break;case"fulfilled":(E.status==="error"||E.data!==A.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==A.reason)&&O();break}}return E}updateResult(){const t=$(this,Gt),r=this.createResult($(this,He),this.options);if(le(this,$s,$(this,He).state),le(this,Wa,this.options),$(this,$s).data!==void 0&&le(this,Ha,$(this,He)),cl(r,t))return;le(this,Gt,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!$(this,Ua).size)return!0;const o=new Set(i??$(this,Ua));return this.options.throwOnError&&o.add("error"),Object.keys($(this,Gt)).some(l=>{const c=l;return $(this,Gt)[c]!==t[c]&&o.has(c)})};qe(this,Xe,S2).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,Xe,_m).call(this)}},tr=new WeakMap,He=new WeakMap,vo=new WeakMap,Gt=new WeakMap,$s=new WeakMap,Wa=new WeakMap,ts=new WeakMap,rs=new WeakMap,bo=new WeakMap,za=new WeakMap,Ha=new WeakMap,Ds=new WeakMap,qs=new WeakMap,ns=new WeakMap,Ua=new WeakMap,Xe=new WeakSet,Fi=function(t){qe(this,Xe,Cm).call(this);let r=$(this,He).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ht)),r},wm=function(){qe(this,Xe,km).call(this);const t=os(this.options.staleTime,$(this,He));if(Us||$(this,Gt).isStale||!xm(t))return;const n=g2($(this,Gt).dataUpdatedAt,t)+1;le(this,Ds,setTimeout(()=>{$(this,Gt).isStale||this.updateResult()},n))},jm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval($(this,He)):this.options.refetchInterval)??!1},Nm=function(t){qe(this,Xe,Sm).call(this),le(this,ns,t),!(Us||Ar(this.options.enabled,$(this,He))===!1||!xm($(this,ns))||$(this,ns)===0)&&le(this,qs,setInterval(()=>{(this.options.refetchIntervalInBackground||Mg.isFocused())&&qe(this,Xe,Fi).call(this)},$(this,ns)))},_m=function(){qe(this,Xe,wm).call(this),qe(this,Xe,Nm).call(this,qe(this,Xe,jm).call(this))},km=function(){$(this,Ds)&&(clearTimeout($(this,Ds)),le(this,Ds,void 0))},Sm=function(){$(this,qs)&&(clearInterval($(this,qs)),le(this,qs,void 0))},Cm=function(){const t=$(this,tr).getQueryCache().build($(this,tr),this.options);if(t===$(this,He))return;const r=$(this,He);le(this,He,t),le(this,vo,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},S2=function(t){At.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r($(this,Gt))}),$(this,tr).getQueryCache().notify({query:$(this,He),type:"observerResultsUpdated"})})},ON);function EA(e,t){return Ar(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Ty(e,t){return EA(e,t)||e.state.data!==void 0&&Tm(e,t,t.refetchOnMount)}function Tm(e,t,r){if(Ar(t.enabled,e)!==!1&&os(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Og(e,t)}return!1}function Ey(e,t,r,n){return(e!==t||Ar(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Og(e,r)}function Og(e,t){return Ar(t.enabled,e)!==!1&&e.isStaleByTime(os(t.staleTime,e))}function PA(e,t){return!cl(e.getCurrentResult(),t)}var ss,as,rr,pn,Nn,nl,Em,FN,AA=(FN=class extends di{constructor(r,n){super();ve(this,Nn);ve(this,ss);ve(this,as);ve(this,rr);ve(this,pn);le(this,ss,r),this.setOptions(n),this.bindMethods(),qe(this,Nn,nl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=$(this,ss).defaultMutationOptions(r),cl(this.options,n)||$(this,ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:$(this,rr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ks(n.mutationKey)!==Ks(this.options.mutationKey)?this.reset():((s=$(this,rr))==null?void 0:s.state.status)==="pending"&&$(this,rr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=$(this,rr))==null||r.removeObserver(this)}onMutationUpdate(r){qe(this,Nn,nl).call(this),qe(this,Nn,Em).call(this,r)}getCurrentResult(){return $(this,as)}reset(){var r;(r=$(this,rr))==null||r.removeObserver(this),le(this,rr,void 0),qe(this,Nn,nl).call(this),qe(this,Nn,Em).call(this)}mutate(r,n){var s;return le(this,pn,n),(s=$(this,rr))==null||s.removeObserver(this),le(this,rr,$(this,ss).getMutationCache().build($(this,ss),this.options)),$(this,rr).addObserver(this),$(this,rr).execute(r)}},ss=new WeakMap,as=new WeakMap,rr=new WeakMap,pn=new WeakMap,Nn=new WeakSet,nl=function(){var n;const r=((n=$(this,rr))==null?void 0:n.state)??k2();le(this,as,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Em=function(r){At.batch(()=>{var n,s,i,o,l,c,u,d;if($(this,pn)&&this.hasListeners()){const f=$(this,as).variables,h=$(this,as).context;(r==null?void 0:r.type)==="success"?((s=(n=$(this,pn)).onSuccess)==null||s.call(n,r.data,f,h),(o=(i=$(this,pn)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=$(this,pn)).onError)==null||c.call(l,r.error,f,h),(d=(u=$(this,pn)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f($(this,as))})})},FN),C2=m.createContext(void 0),T2=e=>{const t=m.useContext(C2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},RA=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(C2.Provider,{value:e,children:t})),E2=m.createContext(!1),IA=()=>m.useContext(E2);E2.Provider;function MA(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var OA=m.createContext(MA()),FA=()=>m.useContext(OA),LA=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$A=e=>{m.useEffect(()=>{e.clearReset()},[e])},DA=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||v2(r,[e.error,n])),qA=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},VA=(e,t)=>e.isLoading&&e.isFetching&&!t,BA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Py=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function GA(e,t,r){var f,h,p,x,g;const n=T2(),s=IA(),i=FA(),o=n.defaultQueryOptions(e);(h=(f=n.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",qA(o),LA(o,i),$A(i);const l=!n.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(n,o)),u=c.getOptimisticResult(o),d=!s&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(y=>{const b=d?c.subscribe(At.batchCalls(y)):Ht;return c.updateResult(),b},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o)},[o,c]),BA(o,u))throw Py(o,c,i);if(DA({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((x=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||x.call(p,o,u),o.experimental_prefetchInRender&&!Us&&VA(u,s)){const y=l?Py(o,c,i):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;y==null||y.catch(Ht).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Ke(e,t){return GA(e,TA)}function ye(e,t){const r=T2(),[n]=m.useState(()=>new AA(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(At.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(Ht)},[n]);if(s.error&&v2(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function yr(){const[e,t]=m.useState([]);return{toast:n=>{const s=Math.random().toString(36).substring(2,10),i={...n,id:s,duration:n.duration||3e3};t(o=>[...o,i]),setTimeout(()=>{t(o=>o.filter(l=>l.id!==s))},n.duration||3e3)},toasts:e}}const WA=()=>{const{toasts:e}=yr();return a.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 w-72",children:e.map(t=>a.jsx("div",{className:`p-4 rounded-md shadow-md ${t.variant==="destructive"?"bg-red-500 text-white":t.variant==="success"?"bg-green-500 text-white":"bg-white text-gray-800 border border-gray-200"} transition-all duration-300 animate-in fade-in slide-in-from-right`,children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("h3",{className:"font-medium",children:t.title}),t.description&&a.jsx("p",{className:"text-sm opacity-90",children:t.description})]})},t.id))})};function P2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=P2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function bn(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=P2(e))&&(n&&(n+=" "),n+=t);return n}const Fg="-",zA=e=>{const t=UA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Fg);return l[0]===""&&l.length!==1&&l.shift(),A2(l,t)||HA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},A2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?A2(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Fg);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},Ay=/^\[(.+)\]$/,HA=e=>{if(Ay.test(e)){const t=Ay.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},UA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ZA(Object.entries(e.classGroups),r).forEach(([i,o])=>{Pm(o,n,i,t)}),n},Pm=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:Ry(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(KA(s)){Pm(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Pm(o,Ry(t,i),r,n)})})},Ry=(e,t)=>{let r=e;return t.split(Fg).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KA=e=>e.isThemeGetter,ZA=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,YA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},R2="!",QA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(R2),x=p?h.substring(1):h,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},XA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},JA=e=>({cache:YA(e.cacheSize),parseClassName:QA(e),...zA(e)}),eR=/\s+/,tR=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(eR);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,g=n(x?h.substring(0,p):h);if(!g){if(!x){l=u+(l.length>0?" "+l:l);continue}if(g=n(h),!g){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=XA(d).join(":"),b=f?y+R2:y,v=b+g;if(i.includes(v))continue;i.push(v);const j=s(g,x);for(let N=0;N<j.length;++N){const _=j[N];i.push(b+_)}l=u+(l.length>0?" "+l:l)}return l};function rR(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=I2(t))&&(n&&(n+=" "),n+=r);return n}const I2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=I2(e[n]))&&(r&&(r+=" "),r+=t);return r};function nR(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=JA(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=tR(c,r);return s(c,d),d}return function(){return i(rR.apply(null,arguments))}}const ct=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},M2=/^\[(?:([a-z-]+):)?(.+)\]$/i,sR=/^\d+\/\d+$/,aR=new Set(["px","full","screen"]),iR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ln=e=>Ta(e)||aR.has(e)||sR.test(e),$n=e=>ui(e,"length",yR),Ta=e=>!!e&&!Number.isNaN(Number(e)),Xc=e=>ui(e,"number",Ta),ki=e=>!!e&&Number.isInteger(Number(e)),uR=e=>e.endsWith("%")&&Ta(e.slice(0,-1)),$e=e=>M2.test(e),Dn=e=>iR.test(e),fR=new Set(["length","size","percentage"]),hR=e=>ui(e,fR,O2),pR=e=>ui(e,"position",O2),mR=new Set(["image","url"]),gR=e=>ui(e,mR,bR),xR=e=>ui(e,"",vR),Si=()=>!0,ui=(e,t,r)=>{const n=M2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},yR=e=>oR.test(e)&&!lR.test(e),O2=()=>!1,vR=e=>cR.test(e),bR=e=>dR.test(e),wR=()=>{const e=ct("colors"),t=ct("spacing"),r=ct("blur"),n=ct("brightness"),s=ct("borderColor"),i=ct("borderRadius"),o=ct("borderSpacing"),l=ct("borderWidth"),c=ct("contrast"),u=ct("grayscale"),d=ct("hueRotate"),f=ct("invert"),h=ct("gap"),p=ct("gradientColorStops"),x=ct("gradientColorStopPositions"),g=ct("inset"),y=ct("margin"),b=ct("opacity"),v=ct("padding"),j=ct("saturate"),N=ct("scale"),_=ct("sepia"),P=ct("skew"),C=ct("space"),E=ct("translate"),S=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",$e,t],A=()=>[$e,t],B=()=>["",ln,$n],k=()=>["auto",Ta,$e],w=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],T=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",$e],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Ta,$e];return{cacheSize:500,separator:":",theme:{colors:[Si],spacing:[ln,$n],blur:["none","",Dn,$e],brightness:W(),borderColor:[e],borderRadius:["none","","full",Dn,$e],borderSpacing:A(),borderWidth:B(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[uR,$n],inset:O(),margin:O(),opacity:W(),padding:A(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",$e]}],container:["container"],columns:[{columns:[Dn]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...w(),$e]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ki,$e]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",$e]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",ki,$e]}],"grid-cols":[{"grid-cols":[Si]}],"col-start-end":[{col:["auto",{span:["full",ki,$e]},$e]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[Si]}],"row-start-end":[{row:["auto",{span:[ki,$e]},$e]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",$e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",$e]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",$e,t]}],"min-w":[{"min-w":[$e,t,"min","max","fit"]}],"max-w":[{"max-w":[$e,t,"none","full","min","max","fit","prose",{screen:[Dn]},Dn]}],h:[{h:[$e,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[$e,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[$e,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Dn,$n]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xc]}],"font-family":[{font:[Si]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",$e]}],"line-clamp":[{"line-clamp":["none",Ta,Xc]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ln,$e]}],"list-image":[{"list-image":["none",$e]}],"list-style-type":[{list:["none","disc","decimal",$e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...T(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ln,$n]}],"underline-offset":[{"underline-offset":["auto",ln,$e]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...w(),pR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},gR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...T(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:T()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...T()]}],"outline-offset":[{"outline-offset":[ln,$e]}],"outline-w":[{outline:[ln,$n]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ln,$n]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Dn,xR]}],"shadow-color":[{shadow:[Si]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dn,$e]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",$e]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",$e]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",$e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[ki,$e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",$e]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",$e]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",$e]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ln,$n,Xc]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jR=nR(wR);function ne(...e){return jR(bn(e))}const ut=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ne("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ut.displayName="Card";const bt=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ne("flex flex-col space-y-1.5 p-6",e),...t}));bt.displayName="CardHeader";const wt=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:ne("text-2xl font-semibold leading-none tracking-tight",e),...t}));wt.displayName="CardTitle";const ks=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));ks.displayName="CardDescription";const ft=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ne("p-6 pt-0",e),...t}));ft.displayName="CardContent";const Lg=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ne("flex items-center p-6 pt-0",e),...t}));Lg.displayName="CardFooter";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),F2=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _R={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,..._R,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:F2("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(kR,{ref:i,iconNode:t,className:F2(`lucide-${NR(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=U("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=U("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=U("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=U("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=U("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=U("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=U("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=U("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=U("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=U("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=U("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=U("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=U("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=U("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=U("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=U("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=U("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=U("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=U("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=U("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=U("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=U("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=U("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=U("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=U("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=U("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=U("FileArchive",[["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v16a2 2 0 0 0 .274 1.01",key:"gkbcor"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=U("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=U("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=U("Files",[["path",{d:"M20 7h-3a2 2 0 0 1-2-2V2",key:"x099mo"}],["path",{d:"M9 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h7l4 4v10a2 2 0 0 1-2 2Z",key:"18t6ie"}],["path",{d:"M3 7.6v12.8A1.6 1.6 0 0 0 4.6 22h9.8",key:"1nja0z"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=U("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=U("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=U("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=U("GitMerge",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=U("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=U("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=U("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=U("LayoutPanelTop",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=U("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=U("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=U("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=U("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=U("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=U("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=U("MousePointerClick",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=U("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=U("MoveHorizontal",[["path",{d:"m18 8 4 4-4 4",key:"1ak13k"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=U("MoveVertical",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m8 18 4 4 4-4",key:"bh5tu3"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=U("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=U("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=U("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=U("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=U("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=U("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=U("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=U("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=U("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=U("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=U("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=U("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=U("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=U("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=U("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=U("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=U("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=U("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=U("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=U("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=U("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=U("Variable",[["path",{d:"M8 21s-4-3-4-9 4-9 4-9",key:"uto9ud"}],["path",{d:"M16 3s4 3 4 9-4 9-4 9",key:"4w2vsq"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=U("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=U("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function x5(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(ut,{className:"w-full max-w-md mx-4",children:a.jsxs(ft,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(LR,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function y5({children:e}){return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4 sm:p-6 md:p-8",children:a.jsxs("div",{className:"w-full max-w-7xl grid grid-cols-1 md:grid-cols-12 gap-4 lg:gap-8 items-start",children:[a.jsx("div",{className:"md:col-span-8 hidden md:block",children:a.jsxs("div",{className:"min-h-[700px] max-h-[calc(100vh-80px)] h-[85vh] bg-gradient-to-br from-blue-800 to-indigo-900 rounded-xl shadow-xl overflow-hidden relative",children:[a.jsxs("div",{className:"absolute top-4 md:top-6 lg:top-8 left-4 md:left-6 lg:left-8 flex items-center z-10",children:[a.jsx("div",{className:"h-10 md:h-12 w-10 md:w-12 bg-white/10 rounded-full flex items-center justify-center",children:a.jsx(q2,{className:"h-6 md:h-7 w-6 md:w-7 text-white"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white",children:"hidemium"}),a.jsx("p",{className:"text-xs text-white/70",children:"Anti-detect browser management"})]})]}),a.jsx("div",{className:"absolute top-1/2 left-0 right-0 -translate-y-1/2 flex flex-col items-center p-4 sm:p-6 md:p-8 lg:p-10",children:a.jsxs("div",{className:"w-full flex flex-col items-center justify-center max-w-lg",children:[a.jsx("div",{className:"w-full rounded-lg overflow-hidden border border-white/20 shadow-xl mb-6 md:mb-8",children:a.jsx("img",{src:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=2070",alt:"Product Screenshot",className:"w-full"})}),a.jsxs("div",{className:"text-center mb-6 md:mb-10",children:[a.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-2 md:mb-3",children:'"Market Script"'}),a.jsx("p",{className:"text-sm md:text-base text-white/80",children:"Thousands of cross-platform scripts are available on our app market."})]})]})}),a.jsx("div",{className:"absolute bottom-6 md:bottom-8 lg:bottom-12 left-6 md:left-8 lg:left-12 right-6 md:right-8 lg:right-12 z-10",children:a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center md:space-x-8 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-white/10 p-2 rounded-lg",children:a.jsx(V2,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-md font-semibold text-white",children:"Multiple Browsers"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"Create and manage browser profiles"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 bg-white/10 p-2 rounded-lg",children:a.jsx(d5,{className:"h-5 w-5 text-white"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("h4",{className:"text-md font-semibold text-white",children:"Advanced Protection"}),a.jsx("p",{className:"mt-1 text-xs text-white/70",children:"Mask your browser fingerprint"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:a.jsx("svg",{viewBox:"0 0 500 150",preserveAspectRatio:"none",className:"w-full h-40",children:a.jsx("path",{d:"M0,150 C150,50 350,50 500,150 L500,00 L0,0 Z",className:"fill-blue-700/30"})})})]})}),a.jsx("div",{className:"col-span-1 md:col-span-4 flex items-center justify-center min-h-[700px] max-h-[calc(100vh-80px)] h-[85vh]",children:a.jsx("div",{className:"w-full bg-white rounded-xl shadow-lg border border-gray-100 py-8 md:py-10 px-6 md:px-8",children:e})})]})})}var Ze;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ze||(Ze={}));var Vy;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Vy||(Vy={}));const he=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Wn=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return Number.isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},X=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Cn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cn.create=e=>new Cn(e);const Mm=(e,t)=>{let r;switch(e.code){case X.invalid_type:e.received===he.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ze.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ze.joinValues(e.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ze.joinValues(e.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${Ze.joinValues(e.options)}, received '${e.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ze.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case X.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case X.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ze.assertNever(e)}return{message:r}};let v5=Mm;function b5(){return v5}const w5=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function oe(e,t){const r=b5(),n=w5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Mm?void 0:Mm].filter(s=>!!s)});e.common.issues.push(n)}class ur{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ae;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ur.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ae;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ae=Object.freeze({status:"aborted"}),Li=e=>({status:"dirty",value:e}),vr=e=>({status:"valid",value:e}),By=e=>e.status==="aborted",Gy=e=>e.status==="dirty",Ya=e=>e.status==="valid",hl=e=>typeof Promise<"u"&&e instanceof Promise;var me;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(me||(me={}));class ms{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Wy=(e,t)=>{if(Ya(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cn(e.common.issues);return this._error=r,this._error}}};function We(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Ue{get description(){return this._def.description}_getType(t){return Wn(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Wn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ur,ctx:{common:t.parent.common,data:t.data,parsedType:Wn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(hl(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wn(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Wy(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wn(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return Ya(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>Ya(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Wn(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(hl(s)?s:Promise.resolve(s));return Wy(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:X.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Xa({schema:this,typeName:Re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return cs.create(this,this._def)}nullable(){return Ja.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Xr.create(this)}promise(){return xl.create(this,this._def)}or(t){return ml.create([this,t],this._def)}and(t){return gl.create(this,t,this._def)}transform(t){return new Xa({...We(this._def),schema:this,typeName:Re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Lm({...We(this._def),innerType:this,defaultValue:r,typeName:Re.ZodDefault})}brand(){return new W5({typeName:Re.ZodBranded,type:this,...We(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new $m({...We(this._def),innerType:this,catchValue:r,typeName:Re.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Bg.create(this,t)}readonly(){return Dm.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const j5=/^c[^\s-]{8,}$/i,N5=/^[0-9a-z]+$/,_5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,k5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,S5=/^[a-z0-9_-]{21}$/i,C5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,T5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,E5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ad;const A5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,R5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,I5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M5=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,O5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,F5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H2="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",L5=new RegExp(`^${H2}$`);function U2(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function $5(e){return new RegExp(`^${U2(e)}$`)}function D5(e){let t=`${H2}T${U2(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function q5(e,t){return!!((t==="v4"||!t)&&A5.test(e)||(t==="v6"||!t)&&I5.test(e))}function V5(e,t){if(!C5.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function B5(e,t){return!!((t==="v4"||!t)&&R5.test(e)||(t==="v6"||!t)&&M5.test(e))}class is extends Ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const i=this._getOrReturnCtx(t);return oe(i,{code:X.invalid_type,expected:he.string,received:i.parsedType}),Ae}const n=new ur;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?oe(s,{code:X.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&oe(s,{code:X.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")E5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"email",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")ad||(ad=new RegExp(P5,"u")),ad.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"emoji",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")k5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"uuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")S5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"nanoid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")j5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cuid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")N5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cuid2",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")_5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"ulid",code:X.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),oe(s,{validation:"url",code:X.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"regex",code:X.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?D5(i).test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?L5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?$5(i).test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:X.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?T5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"duration",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?q5(t.data,i.version)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"ip",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?V5(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"jwt",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?B5(t.data,i.version)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cidr",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?O5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"base64",code:X.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?F5.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"base64url",code:X.invalid_string,message:i.message}),n.dirty()):Ze.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:X.invalid_string,...me.errToObj(n)})}_addCheck(t){return new is({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...me.errToObj(t)})}url(t){return this._addCheck({kind:"url",...me.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...me.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...me.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...me.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...me.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...me.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...me.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...me.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...me.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...me.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...me.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...me.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...me.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...me.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...me.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...me.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...me.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...me.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...me.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...me.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...me.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...me.errToObj(r)})}nonempty(t){return this.min(1,me.errToObj(t))}trim(){return new is({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new is({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}is.create=e=>new is({checks:[],typeName:Re.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...We(e)});function G5(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class no extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const i=this._getOrReturnCtx(t);return oe(i,{code:X.invalid_type,expected:he.number,received:i.parsedType}),Ae}let n;const s=new ur;for(const i of this._def.checks)i.kind==="int"?Ze.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:X.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?G5(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:X.not_finite,message:i.message}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,me.toString(r))}setLimit(t,r,n,s){return new no({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(t){return new no({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:me.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:me.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:me.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:me.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:me.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}no.create=e=>new no({checks:[],typeName:Re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class so extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let n;const s=new ur;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:X.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return oe(r,{code:X.invalid_type,expected:he.bigint,received:r.parsedType}),Ae}gte(t,r){return this.setLimit("min",t,!0,me.toString(r))}gt(t,r){return this.setLimit("min",t,!1,me.toString(r))}lte(t,r){return this.setLimit("max",t,!0,me.toString(r))}lt(t,r){return this.setLimit("max",t,!1,me.toString(r))}setLimit(t,r,n,s){return new so({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:me.toString(s)}]})}_addCheck(t){return new so({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:me.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:me.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:me.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:me.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:me.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}so.create=e=>new so({checks:[],typeName:Re.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...We(e)});class Om extends Ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.boolean,received:n.parsedType}),Ae}return vr(t.data)}}Om.create=e=>new Om({typeName:Re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...We(e)});class pl extends Ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const i=this._getOrReturnCtx(t);return oe(i,{code:X.invalid_type,expected:he.date,received:i.parsedType}),Ae}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return oe(i,{code:X.invalid_date}),Ae}const n=new ur;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:X.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:X.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ze.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:me.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:me.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pl.create=e=>new pl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Re.ZodDate,...We(e)});class zy extends Ue{_parse(t){if(this._getType(t)!==he.symbol){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.symbol,received:n.parsedType}),Ae}return vr(t.data)}}zy.create=e=>new zy({typeName:Re.ZodSymbol,...We(e)});class Hy extends Ue{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.undefined,received:n.parsedType}),Ae}return vr(t.data)}}Hy.create=e=>new Hy({typeName:Re.ZodUndefined,...We(e)});class Uy extends Ue{_parse(t){if(this._getType(t)!==he.null){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.null,received:n.parsedType}),Ae}return vr(t.data)}}Uy.create=e=>new Uy({typeName:Re.ZodNull,...We(e)});class Ky extends Ue{constructor(){super(...arguments),this._any=!0}_parse(t){return vr(t.data)}}Ky.create=e=>new Ky({typeName:Re.ZodAny,...We(e)});class Zy extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return vr(t.data)}}Zy.create=e=>new Zy({typeName:Re.ZodUnknown,...We(e)});class gs extends Ue{_parse(t){const r=this._getOrReturnCtx(t);return oe(r,{code:X.invalid_type,expected:he.never,received:r.parsedType}),Ae}}gs.create=e=>new gs({typeName:Re.ZodNever,...We(e)});class Yy extends Ue{_parse(t){if(this._getType(t)!==he.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.void,received:n.parsedType}),Ae}return vr(t.data)}}Yy.create=e=>new Yy({typeName:Re.ZodVoid,...We(e)});class Xr extends Ue{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==he.array)return oe(r,{code:X.invalid_type,expected:he.array,received:r.parsedType}),Ae;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(oe(r,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new ms(r,o,r.path,l)))).then(o=>ur.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new ms(r,o,r.path,l)));return ur.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Xr({...this._def,minLength:{value:t,message:me.toString(r)}})}max(t,r){return new Xr({...this._def,maxLength:{value:t,message:me.toString(r)}})}length(t,r){return new Xr({...this._def,exactLength:{value:t,message:me.toString(r)}})}nonempty(t){return this.min(1,t)}}Xr.create=(e,t)=>new Xr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Re.ZodArray,...We(t)});function va(e){if(e instanceof kt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=cs.create(va(n))}return new kt({...e._def,shape:()=>t})}else return e instanceof Xr?new Xr({...e._def,type:va(e.element)}):e instanceof cs?cs.create(va(e.unwrap())):e instanceof Ja?Ja.create(va(e.unwrap())):e instanceof Zs?Zs.create(e.items.map(t=>va(t))):e}class kt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ze.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==he.object){const u=this._getOrReturnCtx(t);return oe(u,{code:X.invalid_type,expected:he.object,received:u.parsedType}),Ae}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof gs&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ms(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof gs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(oe(s,{code:X.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ms(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ur.mergeObjectSync(n,u)):ur.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return me.errToObj,new kt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:me.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new kt({...this._def,unknownKeys:"strip"})}passthrough(){return new kt({...this._def,unknownKeys:"passthrough"})}extend(t){return new kt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new kt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Re.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new kt({...this._def,catchall:t})}pick(t){const r={};for(const n of Ze.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new kt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ze.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new kt({...this._def,shape:()=>r})}deepPartial(){return va(this)}partial(t){const r={};for(const n of Ze.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new kt({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ze.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof cs;)i=i._def.innerType;r[n]=i}return new kt({...this._def,shape:()=>r})}keyof(){return K2(Ze.objectKeys(this.shape))}}kt.create=(e,t)=>new kt({shape:()=>e,unknownKeys:"strip",catchall:gs.create(),typeName:Re.ZodObject,...We(t)});kt.strictCreate=(e,t)=>new kt({shape:()=>e,unknownKeys:"strict",catchall:gs.create(),typeName:Re.ZodObject,...We(t)});kt.lazycreate=(e,t)=>new kt({shape:e,unknownKeys:"strip",catchall:gs.create(),typeName:Re.ZodObject,...We(t)});class ml extends Ue{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Cn(l.ctx.common.issues));return oe(r,{code:X.invalid_union,unionErrors:o}),Ae}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Cn(c));return oe(r,{code:X.invalid_union,unionErrors:l}),Ae}}get options(){return this._def.options}}ml.create=(e,t)=>new ml({options:e,typeName:Re.ZodUnion,...We(t)});function Fm(e,t){const r=Wn(e),n=Wn(t);if(e===t)return{valid:!0,data:e};if(r===he.object&&n===he.object){const s=Ze.objectKeys(t),i=Ze.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=Fm(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===he.array&&n===he.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=Fm(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===he.date&&n===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class gl extends Ue{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(By(i)||By(o))return Ae;const l=Fm(i.value,o.value);return l.valid?((Gy(i)||Gy(o))&&r.dirty(),{status:r.value,value:l.data}):(oe(n,{code:X.invalid_intersection_types}),Ae)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}gl.create=(e,t,r)=>new gl({left:e,right:t,typeName:Re.ZodIntersection,...We(r)});class Zs extends Ue{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.array)return oe(n,{code:X.invalid_type,expected:he.array,received:n.parsedType}),Ae;if(n.data.length<this._def.items.length)return oe(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ae;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ms(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ur.mergeArray(r,o)):ur.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Zs({...this._def,rest:t})}}Zs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Zs({items:e,typeName:Re.ZodTuple,rest:null,...We(t)})};class Qy extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.map)return oe(n,{code:X.invalid_type,expected:he.map,received:n.parsedType}),Ae;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new ms(n,l,n.path,[u,"key"])),value:i._parse(new ms(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ae;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Qy.create=(e,t,r)=>new Qy({valueType:t,keyType:e,typeName:Re.ZodMap,...We(r)});class ao extends Ue{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==he.set)return oe(n,{code:X.invalid_type,expected:he.set,received:n.parsedType}),Ae;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(oe(n,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(oe(n,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ae;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new ms(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new ao({...this._def,minSize:{value:t,message:me.toString(r)}})}max(t,r){return new ao({...this._def,maxSize:{value:t,message:me.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}ao.create=(e,t)=>new ao({valueType:e,minSize:null,maxSize:null,typeName:Re.ZodSet,...We(t)});class Xy extends Ue{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Xy.create=(e,t)=>new Xy({getter:e,typeName:Re.ZodLazy,...We(t)});class Jy extends Ue{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return oe(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),Ae}return{status:"valid",value:t.data}}get value(){return this._def.value}}Jy.create=(e,t)=>new Jy({value:e,typeName:Re.ZodLiteral,...We(t)});function K2(e,t){return new Qa({values:e,typeName:Re.ZodEnum,...We(t)})}class Qa extends Ue{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return oe(r,{expected:Ze.joinValues(n),received:r.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return oe(r,{received:r.data,code:X.invalid_enum_value,options:n}),Ae}return vr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Qa.create(t,{...this._def,...r})}exclude(t,r=this._def){return Qa.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Qa.create=K2;class ev extends Ue{_parse(t){const r=Ze.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==he.string&&n.parsedType!==he.number){const s=Ze.objectValues(r);return oe(n,{expected:Ze.joinValues(s),received:n.parsedType,code:X.invalid_type}),Ae}if(this._cache||(this._cache=new Set(Ze.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ze.objectValues(r);return oe(n,{received:n.data,code:X.invalid_enum_value,options:s}),Ae}return vr(t.data)}get enum(){return this._def.values}}ev.create=(e,t)=>new ev({values:e,typeName:Re.ZodNativeEnum,...We(t)});class xl extends Ue{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==he.promise&&r.common.async===!1)return oe(r,{code:X.invalid_type,expected:he.promise,received:r.parsedType}),Ae;const n=r.parsedType===he.promise?r.data:Promise.resolve(r.data);return vr(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}xl.create=(e,t)=>new xl({type:e,typeName:Re.ZodPromise,...We(t)});class Xa extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ae;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ae:c.status==="dirty"||r.value==="dirty"?Li(c.value):c});{if(r.value==="aborted")return Ae;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ae:l.status==="dirty"||r.value==="dirty"?Li(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ae:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ya(o))return Ae;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ya(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ae);Ze.assertNever(s)}}Xa.create=(e,t,r)=>new Xa({schema:e,typeName:Re.ZodEffects,effect:t,...We(r)});Xa.createWithPreprocess=(e,t,r)=>new Xa({schema:t,effect:{type:"preprocess",transform:e},typeName:Re.ZodEffects,...We(r)});class cs extends Ue{_parse(t){return this._getType(t)===he.undefined?vr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cs.create=(e,t)=>new cs({innerType:e,typeName:Re.ZodOptional,...We(t)});class Ja extends Ue{_parse(t){return this._getType(t)===he.null?vr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ja.create=(e,t)=>new Ja({innerType:e,typeName:Re.ZodNullable,...We(t)});class Lm extends Ue{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===he.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Lm.create=(e,t)=>new Lm({innerType:e,typeName:Re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...We(t)});class $m extends Ue{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hl(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cn(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$m.create=(e,t)=>new $m({innerType:e,typeName:Re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...We(t)});class tv extends Ue{_parse(t){if(this._getType(t)!==he.nan){const n=this._getOrReturnCtx(t);return oe(n,{code:X.invalid_type,expected:he.nan,received:n.parsedType}),Ae}return{status:"valid",value:t.data}}}tv.create=e=>new tv({typeName:Re.ZodNaN,...We(e)});class W5 extends Ue{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Bg extends Ue{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ae:i.status==="dirty"?(r.dirty(),Li(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ae:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Bg({in:t,out:r,typeName:Re.ZodPipeline})}}class Dm extends Ue{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ya(s)&&(s.value=Object.freeze(s.value)),s);return hl(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Dm.create=(e,t)=>new Dm({innerType:e,typeName:Re.ZodReadonly,...We(t)});var Re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Re||(Re={}));const be=is.create,Rr=Om.create;gs.create;Xr.create;const na=kt.create;ml.create;gl.create;Zs.create;const z5=Qa.create;xl.create;cs.create;Ja.create;var So=e=>e.type==="checkbox",Ts=e=>e instanceof Date,Ut=e=>e==null;const Z2=e=>typeof e=="object";var jt=e=>!Ut(e)&&!Array.isArray(e)&&Z2(e)&&!Ts(e),Y2=e=>jt(e)&&e.target?So(e.target)?e.target.checked:e.target.value:e,H5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Q2=(e,t)=>e.has(H5(t)),U5=e=>{const t=e.constructor&&e.constructor.prototype;return jt(t)&&t.hasOwnProperty("isPrototypeOf")},Gg=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Gg&&(e instanceof Blob||n))&&(r||jt(e)))if(t=r?[]:{},!r&&!U5(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Mt(e[s]));else return e;return t}var Yl=e=>Array.isArray(e)?e.filter(Boolean):[],vt=e=>e===void 0,se=(e,t,r)=>{if(!t||!jt(e))return r;const n=Yl(t.split(/[,[\].]+?/)).reduce((s,i)=>Ut(s)?s:s[i],e);return vt(n)||n===e?vt(e[t])?r:e[t]:n},lr=e=>typeof e=="boolean",Wg=e=>/^\w*$/.test(e),X2=e=>Yl(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(e,t,r)=>{let n=-1;const s=Wg(t)?[t]:X2(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=jt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const yl={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ir={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},cn={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J2=D.createContext(null),Ql=()=>D.useContext(J2),K5=e=>{const{children:t,...r}=e;return D.createElement(J2.Provider,{value:r},t)};var e_=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Ir.all&&(t._proxyFormState[o]=!n||Ir.all),r&&(r[o]=!0),e[o]}});return s};const zg=typeof window<"u"?m.useLayoutEffect:m.useEffect;function Z5(e){const t=Ql(),{control:r=t.control,disabled:n,name:s,exact:i}=e||{},[o,l]=D.useState(r._formState),c=D.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return zg(()=>r._subscribe({name:s,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[s,n,i]),D.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),D.useMemo(()=>e_(o,r,c.current,!1),[o,r])}var Zr=e=>typeof e=="string",t_=(e,t,r,n,s)=>Zr(e)?(n&&t.watch.add(e),se(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),se(r,i))):(n&&(t.watchAll=!0),r);function Y5(e){const t=Ql(),{control:r=t.control,name:n,defaultValue:s,disabled:i,exact:o}=e||{},l=D.useRef(s),[c,u]=D.useState(r._getWatch(n,l.current));return zg(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:d=>!i&&u(t_(n,r._names,d.values||r._formValues,!1,l.current))}),[n,r,i,o]),D.useEffect(()=>r._removeUnmounted()),c}function Q5(e){const t=Ql(),{name:r,disabled:n,control:s=t.control,shouldUnregister:i}=e,o=Q2(s._names.array,r),l=Y5({control:s,name:r,defaultValue:se(s._formValues,r,se(s._defaultValues,r,e.defaultValue)),exact:!0}),c=Z5({control:s,name:r,exact:!0}),u=D.useRef(e),d=D.useRef(s.register(r,{...e.rules,value:l,...lr(e.disabled)?{disabled:e.disabled}:{}})),f=D.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!se(c.validatingFields,r)},error:{enumerable:!0,get:()=>se(c.errors,r)}}),[c,r]),h=D.useCallback(y=>d.current.onChange({target:{value:Y2(y),name:r},type:yl.CHANGE}),[r]),p=D.useCallback(()=>d.current.onBlur({target:{value:se(s._formValues,r),name:r},type:yl.BLUR}),[r,s._formValues]),x=D.useCallback(y=>{const b=se(s._fields,r);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:v=>y.setCustomValidity(v),reportValidity:()=>y.reportValidity()})},[s._fields,r]),g=D.useMemo(()=>({name:r,value:l,...lr(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:x}),[r,n,c.disabled,h,p,x,l]);return D.useEffect(()=>{const y=s._options.shouldUnregister||i;s.register(r,{...u.current.rules,...lr(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(v,j)=>{const N=se(s._fields,v);N&&N._f&&(N._f.mount=j)};if(b(r,!0),y){const v=Mt(se(s._options.defaultValues,r));Qe(s._defaultValues,r,v),vt(se(s._formValues,r))&&Qe(s._formValues,r,v)}return!o&&s.register(r),()=>{(o?y&&!s._state.action:y)?s.unregister(r):b(r,!1)}},[r,s,o,i]),D.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),D.useMemo(()=>({field:g,formState:c,fieldState:f}),[g,c,f])}const X5=e=>e.render(Q5(e));var r_=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Qi=e=>Array.isArray(e)?e:[e],rv=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},qm=e=>Ut(e)||!Z2(e);function Un(e,t){if(qm(e)||qm(t))return e===t;if(Ts(e)&&Ts(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const i=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=t[s];if(Ts(i)&&Ts(o)||jt(i)&&jt(o)||Array.isArray(i)&&Array.isArray(o)?!Un(i,o):i!==o)return!1}}return!0}var zt=e=>jt(e)&&!Object.keys(e).length,Hg=e=>e.type==="file",Mr=e=>typeof e=="function",vl=e=>{if(!Gg)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},n_=e=>e.type==="select-multiple",Ug=e=>e.type==="radio",J5=e=>Ug(e)||So(e),id=e=>vl(e)&&e.isConnected;function eI(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=vt(e)?n++:e[t[n++]];return e}function tI(e){for(const t in e)if(e.hasOwnProperty(t)&&!vt(e[t]))return!1;return!0}function Et(e,t){const r=Array.isArray(t)?t:Wg(t)?[t]:X2(t),n=r.length===1?e:eI(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(jt(n)&&zt(n)||Array.isArray(n)&&tI(n))&&Et(e,r.slice(0,-1)),e}var s_=e=>{for(const t in e)if(Mr(e[t]))return!0;return!1};function bl(e,t={}){const r=Array.isArray(e);if(jt(e)||r)for(const n in e)Array.isArray(e[n])||jt(e[n])&&!s_(e[n])?(t[n]=Array.isArray(e[n])?[]:{},bl(e[n],t[n])):Ut(e[n])||(t[n]=!0);return t}function a_(e,t,r){const n=Array.isArray(e);if(jt(e)||n)for(const s in e)Array.isArray(e[s])||jt(e[s])&&!s_(e[s])?vt(t)||qm(r[s])?r[s]=Array.isArray(e[s])?bl(e[s],[]):{...bl(e[s])}:a_(e[s],Ut(t)?{}:t[s],r[s]):r[s]=!Un(e[s],t[s]);return r}var Ci=(e,t)=>a_(e,t,bl(t));const nv={value:!1,isValid:!1},sv={value:!0,isValid:!0};var i_=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vt(e[0].attributes.value)?vt(e[0].value)||e[0].value===""?sv:{value:e[0].value,isValid:!0}:sv:nv}return nv},o_=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>vt(e)?e:t?e===""?NaN:e&&+e:r&&Zr(e)?new Date(e):n?n(e):e;const av={isValid:!1,value:null};var l_=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,av):av;function iv(e){const t=e.ref;return Hg(t)?t.files:Ug(t)?l_(e.refs).value:n_(t)?[...t.selectedOptions].map(({value:r})=>r):So(t)?i_(e.refs).value:o_(vt(t.value)?e.ref.value:t.value,e)}var rI=(e,t,r,n)=>{const s={};for(const i of e){const o=se(t,i);o&&Qe(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},wl=e=>e instanceof RegExp,Ti=e=>vt(e)?e:wl(e)?e.source:jt(e)?wl(e.value)?e.value.source:e.value:e,ov=e=>({isOnSubmit:!e||e===Ir.onSubmit,isOnBlur:e===Ir.onBlur,isOnChange:e===Ir.onChange,isOnAll:e===Ir.all,isOnTouch:e===Ir.onTouched});const lv="AsyncFunction";var nI=e=>!!e&&!!e.validate&&!!(Mr(e.validate)&&e.validate.constructor.name===lv||jt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===lv)),sI=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),cv=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Xi=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=se(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Xi(l,t))break}else if(jt(l)&&Xi(l,t))break}}};function dv(e,t,r){const n=se(e,r);if(n||Wg(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=se(t,i),l=se(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var aI=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return zt(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Ir.all))},iI=(e,t,r)=>!e||!t||e===t||Qi(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),oI=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,lI=(e,t)=>!Yl(se(e,t)).length&&Et(e,t),cI=(e,t,r)=>{const n=Qi(se(e,r));return Qe(n,"root",t[r]),Qe(e,r,n),e},sl=e=>Zr(e);function uv(e,t,r="validate"){if(sl(e)||Array.isArray(e)&&e.every(sl)||lr(e)&&!e)return{type:r,message:sl(e)?e:"",ref:t}}var da=e=>jt(e)&&!wl(e)?e:{value:e,message:""},fv=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:g,valueAsNumber:y,mount:b}=e._f,v=se(r,g);if(!b||t.has(g))return{};const j=l?l[0]:o,N=A=>{s&&j.reportValidity&&(j.setCustomValidity(lr(A)?"":A||""),j.reportValidity())},_={},P=Ug(o),C=So(o),E=P||C,S=(y||Hg(o))&&vt(o.value)&&vt(v)||vl(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,M=r_.bind(null,g,n,_),O=(A,B,k,w=cn.maxLength,T=cn.minLength)=>{const I=A?B:k;_[g]={type:A?w:T,message:I,ref:o,...M(A?w:T,I)}};if(i?!Array.isArray(v)||!v.length:c&&(!E&&(S||Ut(v))||lr(v)&&!v||C&&!i_(l).isValid||P&&!l_(l).isValid)){const{value:A,message:B}=sl(c)?{value:!!c,message:c}:da(c);if(A&&(_[g]={type:cn.required,message:B,ref:j,...M(cn.required,B)},!n))return N(B),_}if(!S&&(!Ut(f)||!Ut(h))){let A,B;const k=da(h),w=da(f);if(!Ut(v)&&!isNaN(v)){const T=o.valueAsNumber||v&&+v;Ut(k.value)||(A=T>k.value),Ut(w.value)||(B=T<w.value)}else{const T=o.valueAsDate||new Date(v),I=V=>new Date(new Date().toDateString()+" "+V),F=o.type=="time",R=o.type=="week";Zr(k.value)&&v&&(A=F?I(v)>I(k.value):R?v>k.value:T>new Date(k.value)),Zr(w.value)&&v&&(B=F?I(v)<I(w.value):R?v<w.value:T<new Date(w.value))}if((A||B)&&(O(!!A,k.message,w.message,cn.max,cn.min),!n))return N(_[g].message),_}if((u||d)&&!S&&(Zr(v)||i&&Array.isArray(v))){const A=da(u),B=da(d),k=!Ut(A.value)&&v.length>+A.value,w=!Ut(B.value)&&v.length<+B.value;if((k||w)&&(O(k,A.message,B.message),!n))return N(_[g].message),_}if(p&&!S&&Zr(v)){const{value:A,message:B}=da(p);if(wl(A)&&!v.match(A)&&(_[g]={type:cn.pattern,message:B,ref:o,...M(cn.pattern,B)},!n))return N(B),_}if(x){if(Mr(x)){const A=await x(v,r),B=uv(A,j);if(B&&(_[g]={...B,...M(cn.validate,B.message)},!n))return N(B.message),_}else if(jt(x)){let A={};for(const B in x){if(!zt(A)&&!n)break;const k=uv(await x[B](v,r),j,B);k&&(A={...k,...M(B,k.message)},N(k.message),n&&(_[g]=A))}if(!zt(A)&&(_[g]={ref:j,...A},!n))return _}}return N(!0),_};const dI={mode:Ir.onSubmit,reValidateMode:Ir.onChange,shouldFocusError:!0};function uI(e={}){let t={...dI,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=jt(t.defaultValues)||jt(t.values)?Mt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Mt(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:rv(),state:rv()},p=t.criteriaMode===Ir.all,x=L=>G=>{clearTimeout(u),u=setTimeout(L,G)},g=async L=>{if(!t.disabled&&(d.isValid||f.isValid||L)){const G=t.resolver?zt((await C()).errors):await S(n,!0);G!==r.isValid&&h.state.next({isValid:G})}},y=(L,G)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((L||Array.from(l.mount)).forEach(H=>{H&&(G?Qe(r.validatingFields,H,G):Et(r.validatingFields,H))}),h.state.next({validatingFields:r.validatingFields,isValidating:!zt(r.validatingFields)}))},b=(L,G=[],H,Y,Q=!0,K=!0)=>{if(Y&&H&&!t.disabled){if(o.action=!0,K&&Array.isArray(se(n,L))){const de=H(se(n,L),Y.argA,Y.argB);Q&&Qe(n,L,de)}if(K&&Array.isArray(se(r.errors,L))){const de=H(se(r.errors,L),Y.argA,Y.argB);Q&&Qe(r.errors,L,de),lI(r.errors,L)}if((d.touchedFields||f.touchedFields)&&K&&Array.isArray(se(r.touchedFields,L))){const de=H(se(r.touchedFields,L),Y.argA,Y.argB);Q&&Qe(r.touchedFields,L,de)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ci(s,i)),h.state.next({name:L,isDirty:O(L,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qe(i,L,G)},v=(L,G)=>{Qe(r.errors,L,G),h.state.next({errors:r.errors})},j=L=>{r.errors=L,h.state.next({errors:r.errors,isValid:!1})},N=(L,G,H,Y)=>{const Q=se(n,L);if(Q){const K=se(i,L,vt(H)?se(s,L):H);vt(K)||Y&&Y.defaultChecked||G?Qe(i,L,G?K:iv(Q._f)):k(L,K),o.mount&&g()}},_=(L,G,H,Y,Q)=>{let K=!1,de=!1;const Oe={name:L};if(!t.disabled){if(!H||Y){(d.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=Oe.isDirty=O(),K=de!==Oe.isDirty);const Fe=Un(se(s,L),G);de=!!se(r.dirtyFields,L),Fe?Et(r.dirtyFields,L):Qe(r.dirtyFields,L,!0),Oe.dirtyFields=r.dirtyFields,K=K||(d.dirtyFields||f.dirtyFields)&&de!==!Fe}if(H){const Fe=se(r.touchedFields,L);Fe||(Qe(r.touchedFields,L,H),Oe.touchedFields=r.touchedFields,K=K||(d.touchedFields||f.touchedFields)&&Fe!==H)}K&&Q&&h.state.next(Oe)}return K?Oe:{}},P=(L,G,H,Y)=>{const Q=se(r.errors,L),K=(d.isValid||f.isValid)&&lr(G)&&r.isValid!==G;if(t.delayError&&H?(c=x(()=>v(L,H)),c(t.delayError)):(clearTimeout(u),c=null,H?Qe(r.errors,L,H):Et(r.errors,L)),(H?!Un(Q,H):Q)||!zt(Y)||K){const de={...Y,...K&&lr(G)?{isValid:G}:{},errors:r.errors,name:L};r={...r,...de},h.state.next(de)}},C=async L=>{y(L,!0);const G=await t.resolver(i,t.context,rI(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(L),G},E=async L=>{const{errors:G}=await C(L);if(L)for(const H of L){const Y=se(G,H);Y?Qe(r.errors,H,Y):Et(r.errors,H)}else r.errors=G;return G},S=async(L,G,H={valid:!0})=>{for(const Y in L){const Q=L[Y];if(Q){const{_f:K,...de}=Q;if(K){const Oe=l.array.has(K.name),Fe=Q._f&&nI(Q._f);Fe&&d.validatingFields&&y([Y],!0);const dt=await fv(Q,l.disabled,i,p,t.shouldUseNativeValidation&&!G,Oe);if(Fe&&d.validatingFields&&y([Y]),dt[K.name]&&(H.valid=!1,G))break;!G&&(se(dt,K.name)?Oe?cI(r.errors,dt,K.name):Qe(r.errors,K.name,dt[K.name]):Et(r.errors,K.name))}!zt(de)&&await S(de,G,H)}}return H.valid},M=()=>{for(const L of l.unMount){const G=se(n,L);G&&(G._f.refs?G._f.refs.every(H=>!id(H)):!id(G._f.ref))&&te(L)}l.unMount=new Set},O=(L,G)=>!t.disabled&&(L&&G&&Qe(i,L,G),!Un(V(),s)),A=(L,G,H)=>t_(L,l,{...o.mount?i:vt(G)?s:Zr(L)?{[L]:G}:G},H,G),B=L=>Yl(se(o.mount?i:s,L,t.shouldUnregister?se(s,L,[]):[])),k=(L,G,H={})=>{const Y=se(n,L);let Q=G;if(Y){const K=Y._f;K&&(!K.disabled&&Qe(i,L,o_(G,K)),Q=vl(K.ref)&&Ut(G)?"":G,n_(K.ref)?[...K.ref.options].forEach(de=>de.selected=Q.includes(de.value)):K.refs?So(K.ref)?K.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(Q)?de.checked=!!Q.find(Oe=>Oe===de.value):de.checked=Q===de.value||!!Q)}):K.refs.forEach(de=>de.checked=de.value===Q):Hg(K.ref)?K.ref.value="":(K.ref.value=Q,K.ref.type||h.state.next({name:L,values:Mt(i)})))}(H.shouldDirty||H.shouldTouch)&&_(L,Q,H.shouldTouch,H.shouldDirty,!0),H.shouldValidate&&R(L)},w=(L,G,H)=>{for(const Y in G){if(!G.hasOwnProperty(Y))return;const Q=G[Y],K=`${L}.${Y}`,de=se(n,K);(l.array.has(L)||jt(Q)||de&&!de._f)&&!Ts(Q)?w(K,Q,H):k(K,Q,H)}},T=(L,G,H={})=>{const Y=se(n,L),Q=l.array.has(L),K=Mt(G);Qe(i,L,K),Q?(h.array.next({name:L,values:Mt(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&H.shouldDirty&&h.state.next({name:L,dirtyFields:Ci(s,i),isDirty:O(L,K)})):Y&&!Y._f&&!Ut(K)?w(L,K,H):k(L,K,H),cv(L,l)&&h.state.next({...r}),h.state.next({name:o.mount?L:void 0,values:Mt(i)})},I=async L=>{o.mount=!0;const G=L.target;let H=G.name,Y=!0;const Q=se(n,H),K=Fe=>{Y=Number.isNaN(Fe)||Ts(Fe)&&isNaN(Fe.getTime())||Un(Fe,se(i,H,Fe))},de=ov(t.mode),Oe=ov(t.reValidateMode);if(Q){let Fe,dt;const Dt=G.type?iv(Q._f):Y2(L),Je=L.type===yl.BLUR||L.type===yl.FOCUS_OUT,Rt=!sI(Q._f)&&!t.resolver&&!se(r.errors,H)&&!Q._f.deps||oI(Je,se(r.touchedFields,H),r.isSubmitted,Oe,de),ke=cv(H,l,Je);Qe(i,H,Dt),Je?(Q._f.onBlur&&Q._f.onBlur(L),c&&c(0)):Q._f.onChange&&Q._f.onChange(L);const ae=_(H,Dt,Je),Nt=!zt(ae)||ke;if(!Je&&h.state.next({name:H,type:L.type,values:Mt(i)}),Rt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Je&&g():Je||g()),Nt&&h.state.next({name:H,...ke?{}:ae});if(!Je&&ke&&h.state.next({...r}),t.resolver){const{errors:Ft}=await C([H]);if(K(Dt),Y){const qt=dv(r.errors,n,H),Ln=dv(Ft,n,qt.name||H);Fe=Ln.error,H=Ln.name,dt=zt(Ft)}}else y([H],!0),Fe=(await fv(Q,l.disabled,i,p,t.shouldUseNativeValidation))[H],y([H]),K(Dt),Y&&(Fe?dt=!1:(d.isValid||f.isValid)&&(dt=await S(n,!0)));Y&&(Q._f.deps&&R(Q._f.deps),P(H,dt,Fe,ae))}},F=(L,G)=>{if(se(r.errors,G)&&L.focus)return L.focus(),1},R=async(L,G={})=>{let H,Y;const Q=Qi(L);if(t.resolver){const K=await E(vt(L)?L:Q);H=zt(K),Y=L?!Q.some(de=>se(K,de)):H}else L?(Y=(await Promise.all(Q.map(async K=>{const de=se(n,K);return await S(de&&de._f?{[K]:de}:de)}))).every(Boolean),!(!Y&&!r.isValid)&&g()):Y=H=await S(n);return h.state.next({...!Zr(L)||(d.isValid||f.isValid)&&H!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:H}:{},errors:r.errors}),G.shouldFocus&&!Y&&Xi(n,F,L?Q:l.mount),Y},V=L=>{const G={...o.mount?i:s};return vt(L)?G:Zr(L)?se(G,L):L.map(H=>se(G,H))},W=(L,G)=>({invalid:!!se((G||r).errors,L),isDirty:!!se((G||r).dirtyFields,L),error:se((G||r).errors,L),isValidating:!!se(r.validatingFields,L),isTouched:!!se((G||r).touchedFields,L)}),q=L=>{L&&Qi(L).forEach(G=>Et(r.errors,G)),h.state.next({errors:L?r.errors:{}})},z=(L,G,H)=>{const Y=(se(n,L,{_f:{}})._f||{}).ref,Q=se(r.errors,L)||{},{ref:K,message:de,type:Oe,...Fe}=Q;Qe(r.errors,L,{...Fe,...G,ref:Y}),h.state.next({name:L,errors:r.errors,isValid:!1}),H&&H.shouldFocus&&Y&&Y.focus&&Y.focus()},Z=(L,G)=>Mr(L)?h.state.subscribe({next:H=>L(A(void 0,G),H)}):A(L,G,!0),ce=L=>h.state.subscribe({next:G=>{iI(L.name,G.name,L.exact)&&aI(G,L.formState||d,fe,L.reRenderRoot)&&L.callback({values:{...i},...r,...G})}}).unsubscribe,Te=L=>(o.mount=!0,f={...f,...L.formState},ce({...L,formState:f})),te=(L,G={})=>{for(const H of L?Qi(L):l.mount)l.mount.delete(H),l.array.delete(H),G.keepValue||(Et(n,H),Et(i,H)),!G.keepError&&Et(r.errors,H),!G.keepDirty&&Et(r.dirtyFields,H),!G.keepTouched&&Et(r.touchedFields,H),!G.keepIsValidating&&Et(r.validatingFields,H),!t.shouldUnregister&&!G.keepDefaultValue&&Et(s,H);h.state.next({values:Mt(i)}),h.state.next({...r,...G.keepDirty?{isDirty:O()}:{}}),!G.keepIsValid&&g()},pe=({disabled:L,name:G})=>{(lr(L)&&o.mount||L||l.disabled.has(G))&&(L?l.disabled.add(G):l.disabled.delete(G))},Ee=(L,G={})=>{let H=se(n,L);const Y=lr(G.disabled)||lr(t.disabled);return Qe(n,L,{...H||{},_f:{...H&&H._f?H._f:{ref:{name:L}},name:L,mount:!0,...G}}),l.mount.add(L),H?pe({disabled:lr(G.disabled)?G.disabled:t.disabled,name:L}):N(L,!0,G.value),{...Y?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Ti(G.min),max:Ti(G.max),minLength:Ti(G.minLength),maxLength:Ti(G.maxLength),pattern:Ti(G.pattern)}:{},name:L,onChange:I,onBlur:I,ref:Q=>{if(Q){Ee(L,G),H=se(n,L);const K=vt(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,de=J5(K),Oe=H._f.refs||[];if(de?Oe.find(Fe=>Fe===K):K===H._f.ref)return;Qe(n,L,{_f:{...H._f,...de?{refs:[...Oe.filter(id),K,...Array.isArray(se(s,L))?[{}]:[]],ref:{type:K.type,name:L}}:{ref:K}}}),N(L,!1,void 0,K)}else H=se(n,L,{}),H._f&&(H._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(Q2(l.array,L)&&o.action)&&l.unMount.add(L)}}},ge=()=>t.shouldFocusError&&Xi(n,F,l.mount),Ie=L=>{lr(L)&&(h.state.next({disabled:L}),Xi(n,(G,H)=>{const Y=se(n,H);Y&&(G.disabled=Y._f.disabled||L,Array.isArray(Y._f.refs)&&Y._f.refs.forEach(Q=>{Q.disabled=Y._f.disabled||L}))},0,!1))},Ce=(L,G)=>async H=>{let Y;H&&(H.preventDefault&&H.preventDefault(),H.persist&&H.persist());let Q=Mt(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:K,values:de}=await C();r.errors=K,Q=de}else await S(n);if(l.disabled.size)for(const K of l.disabled)Qe(Q,K,void 0);if(Et(r.errors,"root"),zt(r.errors)){h.state.next({errors:{}});try{await L(Q,H)}catch(K){Y=K}}else G&&await G({...r.errors},H),ge(),setTimeout(ge);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(r.errors)&&!Y,submitCount:r.submitCount+1,errors:r.errors}),Y)throw Y},ot=(L,G={})=>{se(n,L)&&(vt(G.defaultValue)?T(L,Mt(se(s,L))):(T(L,G.defaultValue),Qe(s,L,Mt(G.defaultValue))),G.keepTouched||Et(r.touchedFields,L),G.keepDirty||(Et(r.dirtyFields,L),r.isDirty=G.defaultValue?O(L,Mt(se(s,L))):O()),G.keepError||(Et(r.errors,L),d.isValid&&g()),h.state.next({...r}))},st=(L,G={})=>{const H=L?Mt(L):s,Y=Mt(H),Q=zt(L),K=Q?s:Y;if(G.keepDefaultValues||(s=H),!G.keepValues){if(G.keepDirtyValues){const de=new Set([...l.mount,...Object.keys(Ci(s,i))]);for(const Oe of Array.from(de))se(r.dirtyFields,Oe)?Qe(K,Oe,se(i,Oe)):T(Oe,se(K,Oe))}else{if(Gg&&vt(L))for(const de of l.mount){const Oe=se(n,de);if(Oe&&Oe._f){const Fe=Array.isArray(Oe._f.refs)?Oe._f.refs[0]:Oe._f.ref;if(vl(Fe)){const dt=Fe.closest("form");if(dt){dt.reset();break}}}}for(const de of l.mount)T(de,se(K,de))}i=Mt(K),h.array.next({values:{...K}}),h.state.next({values:{...K}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!G.keepIsValid||!!G.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:Q?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Un(L,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Q?{}:G.keepDirtyValues?G.keepDefaultValues&&i?Ci(s,i):r.dirtyFields:G.keepDefaultValues&&L?Ci(s,L):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},xe=(L,G)=>st(Mr(L)?L(i):L,G),mt=(L,G={})=>{const H=se(n,L),Y=H&&H._f;if(Y){const Q=Y.refs?Y.refs[0]:Y.ref;Q.focus&&(Q.focus(),G.shouldSelect&&Mr(Q.select)&&Q.select())}},fe=L=>{r={...r,...L}},lt={control:{register:Ee,unregister:te,getFieldState:W,handleSubmit:Ce,setError:z,_subscribe:ce,_runSchema:C,_getWatch:A,_getDirty:O,_setValid:g,_setFieldArray:b,_setDisabledField:pe,_setErrors:j,_getFieldArray:B,_reset:st,_resetDefaultValues:()=>Mr(t.defaultValues)&&t.defaultValues().then(L=>{xe(L,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:M,_disableForm:Ie,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:Te,trigger:R,register:Ee,handleSubmit:Ce,watch:Z,setValue:T,getValues:V,reset:xe,resetField:ot,clearErrors:q,unregister:te,setError:z,setFocus:mt,getFieldState:W};return{...lt,formControl:lt}}function ds(e={}){const t=D.useRef(void 0),r=D.useRef(void 0),[n,s]=D.useState({isDirty:!1,isValidating:!1,isLoading:Mr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Mr(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:uI(e),formState:n},e.formControl&&e.defaultValues&&!Mr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,zg(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),D.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),D.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!zt(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),D.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),D.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),D.useEffect(()=>{e.values&&!Un(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),D.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=e_(n,i),t.current}const hv=(e,t,r)=>{if(e&&"reportValidity"in e){const n=se(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},c_=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?hv(n.ref,r,e):n.refs&&n.refs.forEach(s=>hv(s,r,e))}},fI=(e,t)=>{t.shouldUseNativeValidation&&c_(e,t);const r={};for(const n in e){const s=se(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(hI(t.names||Object.keys(e),n)){const o=Object.assign({},se(r,n));Qe(o,"root",i),Qe(r,n,o)}else Qe(r,n,i)}return r},hI=(e,t)=>e.some(r=>r.startsWith(t+"."));var pI=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=r_(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},Vs=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&c_({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:fI(pI(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}};const pv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,mv=bn,Xl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return mv(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=pv(d)||pv(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[g,y]=x;return Array.isArray(y)?y.includes({...i,...l}[g]):{...i,...l}[g]===y})?[...u,f,h]:u},[]);return mv(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},Kg=Xl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ee=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?$N:"button";return a.jsx(o,{className:ne(Kg({variant:t,size:r,className:e})),ref:i,...s})});ee.displayName="Button";var mI="Label",d_=m.forwardRef((e,t)=>a.jsx(Me.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d_.displayName=mI;var u_=d_;const gI=Xl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=m.forwardRef(({className:e,...t},r)=>a.jsx(u_,{ref:r,className:ne(gI(),e),...t}));Le.displayName=u_.displayName;const Bs=K5,f_=m.createContext({}),_e=({...e})=>a.jsx(f_.Provider,{value:{name:e.name},children:a.jsx(X5,{...e})}),Jl=()=>{const e=m.useContext(f_),t=m.useContext(h_),{getFieldState:r,formState:n}=Ql(),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},h_=m.createContext({}),we=m.forwardRef(({className:e,...t},r)=>{const n=m.useId();return a.jsx(h_.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:ne("space-y-2",e),...t})})});we.displayName="FormItem";const je=m.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:s}=Jl();return a.jsx(Le,{ref:r,className:ne(n&&"text-destructive",e),htmlFor:s,...t})});je.displayName="FormLabel";const Ne=m.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:i}=Jl();return a.jsx($N,{ref:t,id:n,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});Ne.displayName="FormControl";const er=m.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Jl();return a.jsx("p",{ref:r,id:n,className:ne("text-sm text-muted-foreground",e),...t})});er.displayName="FormDescription";const De=m.forwardRef(({className:e,children:t,...r},n)=>{const{error:s,formMessageId:i}=Jl(),o=s?String(s==null?void 0:s.message):t;return o?a.jsx("p",{ref:n,id:i,className:ne("text-sm font-medium text-destructive",e),...r,children:o}):null});De.displayName="FormMessage";const Ve=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:ne("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ve.displayName="Input";function ec(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var tc="Checkbox",[xI,jH]=xr(tc),[yI,Zg]=xI(tc);function vI(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,p]=_n({prop:r,defaultProp:s??!1,onChange:c,caller:tc}),[x,g]=m.useState(null),[y,b]=m.useState(null),v=m.useRef(!1),j=x?!!o||!!x.closest("form"):!0,N={checked:h,disabled:i,setChecked:p,control:x,setControl:g,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:us(s)?!1:s,isFormControl:j,bubbleInput:y,setBubbleInput:b};return a.jsx(yI,{scope:t,...N,children:bI(f)?f(N):n})}var p_="CheckboxTrigger",m_=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:p,bubbleInput:x}=Zg(p_,e),g=it(s,d),y=m.useRef(c);return m.useEffect(()=>{const b=i==null?void 0:i.form;if(b){const v=()=>f(y.current);return b.addEventListener("reset",v),()=>b.removeEventListener("reset",v)}},[i,f]),a.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":us(c)?"mixed":c,"aria-required":u,"data-state":b_(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:g,onKeyDown:ze(t,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:ze(r,b=>{f(v=>us(v)?!0:!v),x&&p&&(h.current=b.isPropagationStopped(),h.current||b.stopPropagation())})})});m_.displayName=p_;var Yg=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(vI,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>a.jsxs(a.Fragment,{children:[a.jsx(m_,{...f,ref:t,__scopeCheckbox:r}),h&&a.jsx(v_,{__scopeCheckbox:r})]})})});Yg.displayName=tc;var g_="CheckboxIndicator",x_=m.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Zg(g_,r);return a.jsx(ys,{present:n||us(i.checked)||i.checked===!0,children:a.jsx(Me.span,{"data-state":b_(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});x_.displayName=g_;var y_="CheckboxBubbleInput",v_=m.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:p}=Zg(y_,e),x=it(r,p),g=ec(i),y=Ng(n);m.useEffect(()=>{const v=h;if(!v)return;const j=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(j,"checked").set,P=!s.current;if(g!==i&&_){const C=new Event("click",{bubbles:P});v.indeterminate=us(i),_.call(v,us(i)?!1:i),v.dispatchEvent(C)}},[h,g,i,s]);const b=m.useRef(us(i)?!1:i);return a.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:x,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});v_.displayName=y_;function bI(e){return typeof e=="function"}function us(e){return e==="indeterminate"}function b_(e){return us(e)?"indeterminate":e?"checked":"unchecked"}const Yt=m.forwardRef(({className:e,...t},r)=>a.jsx(Yg,{ref:r,className:ne("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(x_,{className:ne("flex items-center justify-center text-current"),children:a.jsx(fi,{className:"h-4 w-4"})})}));Yt.displayName=Yg.displayName;class Pt{static saveAuth(t,r){try{localStorage.setItem(this.TOKEN_KEY,t),localStorage.setItem(this.USER_KEY,JSON.stringify(r))}catch(n){console.error("Failed to save auth data:",n)}}static getToken(){try{return localStorage.getItem(this.TOKEN_KEY)}catch(t){return console.error("Failed to get token:",t),null}}static getUser(){try{const t=localStorage.getItem(this.USER_KEY);return t?JSON.parse(t):null}catch(t){return console.error("Failed to get user:",t),null}}static clearAuth(){try{localStorage.removeItem(this.TOKEN_KEY),localStorage.removeItem(this.USER_KEY)}catch(t){console.error("Failed to clear auth data:",t)}}static hasToken(){return!!this.getToken()}static isTokenExpired(){const t=this.getToken();if(!t)return!0;try{const r=JSON.parse(atob(t.split(".")[1])),n=Math.floor(Date.now()/1e3);return r.exp<n}catch(r){return console.error("Failed to decode token:",r),!0}}static shouldRefreshToken(){const t=this.getToken();if(!t)return!1;try{const r=JSON.parse(atob(t.split(".")[1])),n=Math.floor(Date.now()/1e3);return r.exp-n<300}catch{return!1}}}Kc(Pt,"TOKEN_KEY","auth_token"),Kc(Pt,"USER_KEY","auth_user");class J{static isElectron(){var t;return typeof window<"u"&&((t=window.platform)==null?void 0:t.isElectron)===!0}static async request(t,r,n){const s={"Content-Type":"application/json"},i=Pt.getToken();if(i&&(s.Authorization=`Bearer ${i}`),!this.isElectron())return await fetch(r,{method:t,headers:s,body:n?JSON.stringify(n):void 0});const o=await window.electronAPI.backendRequest(t,r,n,s);let l=200,c="OK",u=o;return o&&typeof o=="object"&&(o.status?(l=o.status,c=o.statusText||(l>=400?"Error":"OK"),u=o.ok===!1?o:o.data||o):o.error?(l=o.error.status||500,c=o.error.message||"Internal Server Error",u=o):o.success===!1&&(l=400,c="Bad Request")),new Response(JSON.stringify(u),{status:l,statusText:c,headers:{"Content-Type":"application/json"}})}static async launchProfile(t){if(!this.isElectron())throw new Error("Profile launch is only available in Electron mode");return await window.electronAPI.profileLaunch(t)}static async executeWorkflow(t,r,n){if(!this.isElectron())throw new Error("Workflow execution is only available in Electron mode");return await window.electronAPI.workflowExecute(t,r,n)}static onBackendReady(t){this.isElectron()&&window.electronAPI.onBackendReady(t)}static onProfileLaunched(t){this.isElectron()&&window.electronAPI.onProfileLaunched(t)}static onWorkflowCompleted(t){this.isElectron()&&window.electronAPI.onWorkflowCompleted(t)}static removeAllListeners(t){this.isElectron()&&window.electronAPI.removeAllListeners(t)}}const ir={async login(e){const r=await(await J.request("POST","/api/auth/login",e)).json();return r.token&&r.user?(Pt.saveAuth(r.token,r.user),r.user):r},async register(e){const r=await(await J.request("POST","/api/auth/register",e)).json();return r.token&&r.user?(Pt.saveAuth(r.token,r.user),r.user):r},async logout(){await J.request("POST","/api/auth/logout"),Pt.clearAuth()},async forgotPassword(e){return await(await J.request("POST","/api/auth/forgot-password",{username:e})).json()},async resetPassword(e){return await(await J.request("POST","/api/auth/reset-password",e)).json()},async getCurrentUser(){try{if(!Pt.hasToken()||Pt.isTokenExpired())return Pt.clearAuth(),null;const t=await(await J.request("GET","/api/auth/user")).json();if(t){const r=Pt.getToken();r&&Pt.saveAuth(r,t)}return t}catch(e){if(e instanceof Error&&e.message.includes("401"))return Pt.clearAuth(),null;throw e}},async updateUser(e){return await(await J.request("PATCH","/api/auth/user",e)).json()},async verifyToken(e){try{return{valid:!0,user:await(await J.request("POST","/api/auth/verify-token",{token:e})).json()}}catch{return{valid:!1}}},hasRole(e,t){return t?e==="admin"&&t.role==="admin"||e==="user"&&(t.role==="user"||t.role==="admin"):!1},getInitials(e){var n,s;if(!(e!=null&&e.firstName)&&!(e!=null&&e.lastName))return"";const t=((n=e.firstName)==null?void 0:n.charAt(0))||"",r=((s=e.lastName)==null?void 0:s.charAt(0))||"";return`${t}${r}`.toUpperCase()},restoreSession(){try{return!Pt.hasToken()||Pt.isTokenExpired()?(Pt.clearAuth(),null):Pt.getUser()}catch(e){return console.error("Failed to restore session:",e),Pt.clearAuth(),null}},hasValidSession(){return Pt.hasToken()&&!Pt.isTokenExpired()}},Se=new CA({defaultOptions:{queries:{refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),w_=m.createContext(null),wI=({children:e})=>{const{toast:t}=yr(),[r,n]=m.useState(null),[s,i]=m.useState(!1);m.useEffect(()=>{const _=ir.restoreSession();_&&n(_),i(!0)},[]);const{data:o,isLoading:l,error:c}=Ke({queryKey:["/api/user"],queryFn:()=>ir.getCurrentUser(),enabled:s&&ir.hasValidSession(),retry:!1,staleTime:5*60*1e3});m.useEffect(()=>{o?n(o):c&&s&&(console.log("Auth error detected, clearing session:",c),ir.restoreSession(),n(null))},[o,c,s]);const u=ye({mutationFn:_=>ir.login(_),onSuccess:_=>{n(_),Se.invalidateQueries({queryKey:["/api/user"]}),t({title:"ng nhp thnh cng",description:`Cho mng tr li, ${_.username}!`})},onError:_=>{t({title:"ng nhp tht bi",description:_.message,variant:"destructive"})}}),d=ye({mutationFn:_=>ir.register(_),onSuccess:_=>{n(_),Se.invalidateQueries({queryKey:["/api/user"]}),t({title:"ng k thnh cng",description:"Ti khon ca bn  c to thnh cng"})},onError:_=>{t({title:"ng k tht bi",description:_.message,variant:"destructive"})}}),f=ye({mutationFn:()=>ir.logout(),onSuccess:()=>{n(null),Se.invalidateQueries({queryKey:["/api/user"]}),t({title:"ng xut thnh cng",description:"Bn  ng xut khi h thng"})},onError:_=>{t({title:"ng xut tht bi",description:_.message,variant:"destructive"})}}),h=ye({mutationFn:_=>ir.forgotPassword(_),onSuccess:_=>(t({title:"Yu cu thnh cng",description:_.message}),_),onError:_=>(t({title:"Yu cu tht bi",description:_.message,variant:"destructive"}),{success:!1,message:_.message})}),p=ye({mutationFn:_=>ir.updateUser(_),onSuccess:_=>{n(_),Se.invalidateQueries({queryKey:["/api/user"]}),t({title:"Cp nht thnh cng",description:"Thng tin ti khon ca bn  c cp nht"})},onError:_=>{t({title:"Cp nht tht bi",description:_.message,variant:"destructive"})}}),N={user:r,isLoading:l,error:c,login:async _=>{await u.mutateAsync(_)},register:async _=>{await d.mutateAsync(_)},logout:async()=>{await f.mutateAsync()},forgotPassword:async _=>await h.mutateAsync(_),updateUser:async _=>{await p.mutateAsync(_)},hasRole:_=>ir.hasRole(_,r)};return a.jsx(w_.Provider,{value:N,children:e})};function hi(){const e=m.useContext(w_);if(!e)throw new Error("useAuth must be used within an AuthProvider");const t=()=>{if(!e.user)return"";const{firstName:r,lastName:n}=e.user,s=r||"",i=n||"";return`${s.charAt(0)}${i.charAt(0)}`.toUpperCase()};return{...e,user:e.user,getInitials:t}}const jI=na({username:be().min(2,"Tn ng nhp phi c t nht 2 k t"),password:be().min(6,"Mt khu phi c t nht 6 k t"),rememberMe:Rr().optional()}),NI=na({fullName:be().min(2,"Tn phi c t nht 2 k t"),email:be().email("Email khng hp l"),contact:be().min(5,"Thng tin lin h phi c t nht 5 k t"),password:be().min(6,"Mt khu phi c t nht 6 k t"),confirmPassword:be(),referralCode:be().optional(),agreeTerms:Rr().refine(e=>e===!0,{message:"Bn phi ng  vi cc iu khon dch v"})}).refine(e=>e.password===e.confirmPassword,{message:"Mt khu xc nhn khng khp",path:["confirmPassword"]}),_I=na({username:be().min(2,"Tn ng nhp phi c t nht 2 k t")});function kI(){const{user:e,isLoading:t,login:r,register:n,forgotPassword:s}=hi(),[i,o]=m.useState("login"),[l,c]=m.useState(!1),[u,d]=m.useState(!1),[f,h]=m.useState(!1),{toast:p}=yr(),x=S=>{o(S)},g=()=>c(!l),y=()=>d(!u),[b,v]=No(),j=ds({resolver:Vs(jI),defaultValues:{username:"",password:"",rememberMe:!1}}),N=ds({resolver:Vs(NI),defaultValues:{fullName:"",email:"",contact:"",password:"",confirmPassword:"",referralCode:"",agreeTerms:!1}}),_=ds({resolver:Vs(_I),defaultValues:{username:""}}),P=async S=>{try{h(!0),await r({username:S.username,password:S.password})}catch(M){console.error("Login error:",M)}finally{h(!1)}},C=async S=>{try{h(!0),await n({username:S.email,password:S.password,firstName:S.fullName,lastName:"",email:S.email,role:"user"})}catch(M){console.error("Registration error:",M)}finally{h(!1)}},E=async S=>{try{h(!0),await s(S.username),p({title:"Yu cu  c gi",description:"Vui lng kim tra email ca bn  t li mt khu"}),x("login")}catch(M){console.error("Forgot password error:",M)}finally{h(!1)}};return m.useEffect(()=>{e&&v("/")},[e,v]),a.jsxs(y5,{children:[i==="login"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Rm,{className:"h-14 w-14 mx-auto text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-4",children:"ng nhp"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Nhp thng tin ng nhp  truy cp ti khon ca bn"})]}),a.jsx(Bs,{...j,children:a.jsxs("form",{onSubmit:j.handleSubmit(P),className:"space-y-4",children:[a.jsx(_e,{control:j.control,name:"username",render:({field:S})=>a.jsxs(we,{children:[a.jsx(je,{className:"text-gray-700",children:"Tn ng nhp"}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{placeholder:"Nhp tn ng nhp ca bn",className:"pl-10 border-gray-300 focus:border-primary",...S})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:j.control,name:"password",render:({field:S})=>a.jsxs(we,{children:[a.jsx(je,{className:"text-gray-700",children:"Mt khu"}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{type:l?"text":"password",placeholder:"Nhp mt khu",className:"pl-10 pr-10 border-gray-300 focus:border-primary",...S}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:g,children:l?a.jsx(Jc,{className:"h-4 w-4"}):a.jsx(ed,{className:"h-4 w-4"})})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_e,{control:j.control,name:"rememberMe",render:({field:S})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yt,{id:"remember-me",checked:S.value,onCheckedChange:S.onChange,className:"data-[state=checked]:bg-primary border-gray-300"}),a.jsx("label",{htmlFor:"remember-me",className:"text-sm font-medium text-gray-700 leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Ghi nh ng nhp"})]})}),a.jsx("div",{className:"text-sm",children:a.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary/90 transition-colors",onClick:S=>{S.preventDefault(),x("forgotPassword")},children:"Qun mt khu?"})})]}),a.jsx(ee,{type:"submit",className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium shadow-md",disabled:f||t,children:f?"ang ng nhp...":"ng nhp"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn cha c ti khon?"," ",a.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary/90 transition-colors",onClick:S=>{S.preventDefault(),x("register")},children:"ng k"})]})})]}),i==="register"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx(gn,{className:"h-14 w-14 mx-auto text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-4",children:"ng k"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"To ti khon  qun l du vn tay trnh duyt"})]}),a.jsx(Bs,{...N,children:a.jsxs("form",{onSubmit:N.handleSubmit(C),className:"space-y-4",children:[a.jsx(_e,{control:N.control,name:"fullName",render:({field:S})=>a.jsxs(we,{children:[a.jsxs(je,{className:"text-gray-700 flex items-center",children:["Tn ",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{placeholder:"Nhp tn ca bn",className:"pl-10 border-gray-300 focus:border-primary",...S})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"email",render:({field:S})=>a.jsxs(we,{children:[a.jsxs(je,{className:"text-gray-700 flex items-center",children:["Email ",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(TR,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{placeholder:"Nhp a ch email ca bn",className:"pl-10 border-gray-300 focus:border-primary",...S})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"contact",render:({field:S})=>a.jsxs(we,{children:[a.jsxs(je,{className:"text-gray-700 flex items-center",children:["Lin h h tr"," ",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(i5,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{placeholder:"Nhp gmail, s in thoi, Facebook, telegram...",className:"pl-10 border-gray-300 focus:border-primary",...S})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"password",render:({field:S})=>a.jsxs(we,{children:[a.jsxs(je,{className:"text-gray-700 flex items-center",children:["Mt khu ",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{type:l?"text":"password",placeholder:"Nhp mt khu ca bn",className:"pl-10 pr-10 border-gray-300 focus:border-primary",...S}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:g,children:l?a.jsx(Jc,{className:"h-4 w-4"}):a.jsx(ed,{className:"h-4 w-4"})})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"confirmPassword",render:({field:S})=>a.jsxs(we,{children:[a.jsxs(je,{className:"text-gray-700 flex items-center",children:["Xc nhn mt khu"," ",a.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{type:u?"text":"password",placeholder:"Nhp li mt khu ca bn",className:"pl-10 pr-10 border-gray-300 focus:border-primary",...S}),a.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",onClick:y,children:u?a.jsx(Jc,{className:"h-4 w-4"}):a.jsx(ed,{className:"h-4 w-4"})})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"referralCode",render:({field:S})=>a.jsxs(we,{children:[a.jsx(je,{className:"text-gray-700",children:"M gii thiu (Tu chn)"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"Nhp m gii thiu",className:"border-gray-300 focus:border-primary",...S})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(_e,{control:N.control,name:"agreeTerms",render:({field:S})=>a.jsxs(we,{className:"flex flex-row items-start space-x-3 space-y-0 mt-4",children:[a.jsx(Ne,{children:a.jsx(Yt,{checked:S.value,onCheckedChange:S.onChange,className:"data-[state=checked]:bg-primary border-gray-300"})}),a.jsxs("div",{className:"space-y-1 leading-none",children:[a.jsxs(je,{className:"text-sm text-gray-700",children:["Ti ng  vi"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"iu khon dch v"})," ","v"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Chnh sch bo mt"})]}),a.jsx(De,{className:"text-xs"})]})]})}),a.jsx(ee,{type:"submit",className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium shadow-md",disabled:f||t,children:f?"ang x l...":"ng k ti khon"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:[" c ti khon?"," ",a.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary/90 transition-colors",onClick:S=>{S.preventDefault(),x("login")},children:"ng nhp"})]})})]}),i==="forgotPassword"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx(Rm,{className:"h-14 w-14 mx-auto text-blue-600"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mt-4",children:"Qun mt khu"}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Nhp tn ng nhp ca bn  nhn lin kt t li mt khu"})]}),a.jsx(Bs,{..._,children:a.jsxs("form",{onSubmit:_.handleSubmit(E),className:"space-y-4",children:[a.jsx(_e,{control:_.control,name:"username",render:({field:S})=>a.jsxs(we,{children:[a.jsx(je,{className:"text-gray-700",children:"Tn ng nhp"}),a.jsx(Ne,{children:a.jsxs("div",{className:"relative",children:[a.jsx(gn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-500"}),a.jsx(Ve,{placeholder:"Nhp tn ng nhp ca bn",className:"pl-10 border-gray-300 focus:border-primary",...S})]})}),a.jsx(De,{className:"text-xs"})]})}),a.jsx(ee,{type:"submit",className:"w-full mt-6 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium shadow-md",disabled:f||t,children:f?"ang x l...":"Gi lin kt t li"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Bn nh mt khu?"," ",a.jsx("a",{href:"#",className:"font-medium text-primary hover:text-primary/90 transition-colors",onClick:S=>{S.preventDefault(),x("login")},children:"Quay li ng nhp"})]})})]})]})}const Rn=qN,SI=DN,j_=m.forwardRef(({className:e,...t},r)=>a.jsx(_g,{ref:r,className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));j_.displayName=_g.displayName;const tn=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(SI,{children:[a.jsx(j_,{}),a.jsxs(kg,{ref:n,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(Sg,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(jn,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tn.displayName=kg.displayName;const In=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});In.displayName="DialogHeader";const gr=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});gr.displayName="DialogFooter";const rn=m.forwardRef(({className:e,...t},r)=>a.jsx(Cg,{ref:r,className:ne("text-lg font-semibold leading-none tracking-tight",e),...t}));rn.displayName=Cg.displayName;const nn=m.forwardRef(({className:e,...t},r)=>a.jsx(Tg,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));nn.displayName=Tg.displayName;var Qg="Radio",[CI,N_]=xr(Qg),[TI,EI]=CI(Qg),__=m.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...d}=e,[f,h]=m.useState(null),p=it(t,y=>h(y)),x=m.useRef(!1),g=f?u||!!f.closest("form"):!0;return a.jsxs(TI,{scope:r,checked:s,disabled:o,children:[a.jsx(Me.button,{type:"button",role:"radio","aria-checked":s,"data-state":T_(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:ze(e.onClick,y=>{s||c==null||c(),g&&(x.current=y.isPropagationStopped(),x.current||y.stopPropagation())})}),g&&a.jsx(C_,{control:f,bubbles:!x.current,name:n,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});__.displayName=Qg;var k_="RadioIndicator",S_=m.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...s}=e,i=EI(k_,r);return a.jsx(ys,{present:n||i.checked,children:a.jsx(Me.span,{"data-state":T_(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});S_.displayName=k_;var PI="RadioBubbleInput",C_=m.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),l=it(o,i),c=ec(r),u=Ng(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),a.jsx(Me.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C_.displayName=PI;function T_(e){return e?"checked":"unchecked"}var AI=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],rc="RadioGroup",[RI,NH]=xr(rc,[zl,N_]),E_=zl(),P_=N_(),[II,MI]=RI(rc),A_=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...h}=e,p=E_(r),x=wo(u),[g,y]=_n({prop:i,defaultProp:s??null,onChange:f,caller:rc});return a.jsx(II,{scope:r,name:n,required:o,disabled:l,value:g,onValueChange:y,children:a.jsx(VN,{asChild:!0,...p,orientation:c,dir:x,loop:d,children:a.jsx(Me.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:x,...h,ref:t})})})});A_.displayName=rc;var R_="RadioGroupItem",I_=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...s}=e,i=MI(R_,r),o=i.disabled||n,l=E_(r),c=P_(r),u=m.useRef(null),d=it(t,u),f=i.value===s.value,h=m.useRef(!1);return m.useEffect(()=>{const p=g=>{AI.includes(g.key)&&(h.current=!0)},x=()=>h.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",x),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",x)}},[]),a.jsx(BN,{asChild:!0,...l,focusable:!o,active:f,children:a.jsx(__,{disabled:o,required:i.required,checked:f,...c,...s,name:i.name,ref:d,onCheck:()=>i.onValueChange(s.value),onKeyDown:ze(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:ze(s.onFocus,()=>{var p;h.current&&((p=u.current)==null||p.click())})})})});I_.displayName=R_;var OI="RadioGroupIndicator",M_=m.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,s=P_(r);return a.jsx(S_,{...s,...n,ref:t})});M_.displayName=OI;var O_=A_,F_=I_,FI=M_;const Ys=m.forwardRef(({className:e,...t},r)=>a.jsx(O_,{className:ne("grid gap-2",e),...t,ref:r}));Ys.displayName=O_.displayName;const Qt=m.forwardRef(({className:e,...t},r)=>a.jsx(F_,{ref:r,className:ne("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(FI,{className:"flex items-center justify-center",children:a.jsx(D2,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qt.displayName=F_.displayName;function Vm(e,[t,r]){return Math.min(r,Math.max(t,e))}var L_=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LI="VisuallyHidden",$I=m.forwardRef((e,t)=>a.jsx(Me.span,{...e,ref:t,style:{...L_,...e.style}}));$I.displayName=LI;var DI=[" ","Enter","ArrowUp","ArrowDown"],qI=[" ","Enter"],Qs="Select",[nc,sc,VI]=WN(Qs),[pi,_H]=xr(Qs,[VI,GN]),ac=GN(),[BI,vs]=pi(Qs),[GI,WI]=pi(Qs),$_=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,g=ac(t),[y,b]=m.useState(null),[v,j]=m.useState(null),[N,_]=m.useState(!1),P=wo(u),[C,E]=_n({prop:n,defaultProp:s??!1,onChange:i,caller:Qs}),[S,M]=_n({prop:o,defaultProp:l,onChange:c,caller:Qs}),O=m.useRef(null),A=y?x||!!y.closest("form"):!0,[B,k]=m.useState(new Set),w=Array.from(B).map(T=>T.props.value).join(";");return a.jsx(S4,{...g,children:a.jsxs(BI,{required:p,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:j,valueNodeHasChildren:N,onValueNodeHasChildrenChange:_,contentId:li(),value:S,onValueChange:M,open:C,onOpenChange:E,dir:P,triggerPointerDownPosRef:O,disabled:h,children:[a.jsx(nc.Provider,{scope:t,children:a.jsx(GI,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(T=>{k(I=>new Set(I).add(T))},[]),onNativeOptionRemove:m.useCallback(T=>{k(I=>{const F=new Set(I);return F.delete(T),F})},[]),children:r})}),A?a.jsxs(lk,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:S,onChange:T=>M(T.target.value),disabled:h,form:x,children:[S===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},w):null]})})};$_.displayName=Qs;var D_="SelectTrigger",q_=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=ac(r),o=vs(D_,r),l=o.disabled||n,c=it(t,o.onTriggerChange),u=sc(r),d=m.useRef("touch"),[f,h,p]=dk(g=>{const y=u().filter(j=>!j.disabled),b=y.find(j=>j.value===o.value),v=uk(y,g,b);v!==void 0&&o.onValueChange(v.value)}),x=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(x4,{asChild:!0,...i,children:a.jsx(Me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ck(o.value)?"":void 0,...s,ref:c,onClick:ze(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&x(g)}),onPointerDown:ze(s.onPointerDown,g=>{d.current=g.pointerType;const y=g.target;y.hasPointerCapture(g.pointerId)&&y.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(x(g),g.preventDefault())}),onKeyDown:ze(s.onKeyDown,g=>{const y=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(y&&g.key===" ")&&DI.includes(g.key)&&(x(),g.preventDefault())})})})});q_.displayName=D_;var V_="SelectValue",B_=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=vs(V_,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=it(t,c.onValueNodeChange);return dr(()=>{u(d)},[u,d]),a.jsx(Me.span,{...l,ref:f,style:{pointerEvents:"none"},children:ck(c.value)?a.jsx(a.Fragment,{children:o}):i})});B_.displayName=V_;var zI="SelectIcon",G_=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Me.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});G_.displayName=zI;var HI="SelectPortal",W_=e=>a.jsx(y4,{asChild:!0,...e});W_.displayName=HI;var Xs="SelectContent",z_=m.forwardRef((e,t)=>{const r=vs(Xs,e.__scopeSelect),[n,s]=m.useState();if(dr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Hl.createPortal(a.jsx(H_,{scope:e.__scopeSelect,children:a.jsx(nc.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(U_,{...e,ref:t})});z_.displayName=Xs;var Tr=10,[H_,bs]=pi(Xs),UI="SelectContentImpl",KI=j4("SelectContent.RemoveScroll"),U_=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y,...b}=e,v=vs(Xs,r),[j,N]=m.useState(null),[_,P]=m.useState(null),C=it(t,te=>N(te)),[E,S]=m.useState(null),[M,O]=m.useState(null),A=sc(r),[B,k]=m.useState(!1),w=m.useRef(!1);m.useEffect(()=>{if(j)return v4(j)},[j]),b4();const T=m.useCallback(te=>{const[pe,...Ee]=A().map(Ce=>Ce.ref.current),[ge]=Ee.slice(-1),Ie=document.activeElement;for(const Ce of te)if(Ce===Ie||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===pe&&_&&(_.scrollTop=0),Ce===ge&&_&&(_.scrollTop=_.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==Ie))return},[A,_]),I=m.useCallback(()=>T([E,j]),[T,E,j]);m.useEffect(()=>{B&&I()},[B,I]);const{onOpenChange:F,triggerPointerDownPosRef:R}=v;m.useEffect(()=>{if(j){let te={x:0,y:0};const pe=ge=>{var Ie,Ce;te={x:Math.abs(Math.round(ge.pageX)-(((Ie=R.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((Ce=R.current)==null?void 0:Ce.y)??0))}},Ee=ge=>{te.x<=10&&te.y<=10?ge.preventDefault():j.contains(ge.target)||F(!1),document.removeEventListener("pointermove",pe),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ee,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ee,{capture:!0})}}},[j,F,R]),m.useEffect(()=>{const te=()=>F(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[F]);const[V,W]=dk(te=>{const pe=A().filter(Ie=>!Ie.disabled),Ee=pe.find(Ie=>Ie.ref.current===document.activeElement),ge=uk(pe,te,Ee);ge&&setTimeout(()=>ge.ref.current.focus())}),q=m.useCallback((te,pe,Ee)=>{const ge=!w.current&&!Ee;(v.value!==void 0&&v.value===pe||ge)&&(S(te),ge&&(w.current=!0))},[v.value]),z=m.useCallback(()=>j==null?void 0:j.focus(),[j]),Z=m.useCallback((te,pe,Ee)=>{const ge=!w.current&&!Ee;(v.value!==void 0&&v.value===pe||ge)&&O(te)},[v.value]),ce=n==="popper"?Bm:K_,Te=ce===Bm?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:g,avoidCollisions:y}:{};return a.jsx(H_,{scope:r,content:j,viewport:_,onViewportChange:P,itemRefCallback:q,selectedItem:E,onItemLeave:z,itemTextRefCallback:Z,focusSelectedItem:I,selectedItemText:M,position:n,isPositioned:B,searchRef:V,children:a.jsx(w4,{as:KI,allowPinchZoom:!0,children:a.jsx(N4,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ze(s,te=>{var pe;(pe=v.trigger)==null||pe.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(_4,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(ce,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...b,...Te,onPlaced:()=>k(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ze(b.onKeyDown,te=>{const pe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!pe&&te.key.length===1&&W(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ge=A().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ie=te.target,Ce=ge.indexOf(Ie);ge=ge.slice(Ce+1)}setTimeout(()=>T(ge)),te.preventDefault()}})})})})})})});U_.displayName=UI;var ZI="SelectItemAlignedPosition",K_=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=vs(Xs,r),o=bs(Xs,r),[l,c]=m.useState(null),[u,d]=m.useState(null),f=it(t,C=>d(C)),h=sc(r),p=m.useRef(!1),x=m.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,j=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&y&&b){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=M.left-E.left,Ce=S.left-Ie,ot=C.left-Ce,st=C.width+ot,xe=Math.max(st,E.width),mt=window.innerWidth-Tr,fe=Vm(Ce,[Tr,Math.max(Tr,mt-xe)]);l.style.minWidth=st+"px",l.style.left=fe+"px"}else{const Ie=E.right-M.right,Ce=window.innerWidth-S.right-Ie,ot=window.innerWidth-C.right-Ce,st=C.width+ot,xe=Math.max(st,E.width),mt=window.innerWidth-Tr,fe=Vm(Ce,[Tr,Math.max(Tr,mt-xe)]);l.style.minWidth=st+"px",l.style.right=fe+"px"}const O=h(),A=window.innerHeight-Tr*2,B=g.scrollHeight,k=window.getComputedStyle(u),w=parseInt(k.borderTopWidth,10),T=parseInt(k.paddingTop,10),I=parseInt(k.borderBottomWidth,10),F=parseInt(k.paddingBottom,10),R=w+T+B+F+I,V=Math.min(y.offsetHeight*5,R),W=window.getComputedStyle(g),q=parseInt(W.paddingTop,10),z=parseInt(W.paddingBottom,10),Z=C.top+C.height/2-Tr,ce=A-Z,Te=y.offsetHeight/2,te=y.offsetTop+Te,pe=w+T+te,Ee=R-pe;if(pe<=Z){const Ie=O.length>0&&y===O[O.length-1].ref.current;l.style.bottom="0px";const Ce=u.clientHeight-g.offsetTop-g.offsetHeight,ot=Math.max(ce,Te+(Ie?z:0)+Ce+I),st=pe+ot;l.style.height=st+"px"}else{const Ie=O.length>0&&y===O[0].ref.current;l.style.top="0px";const ot=Math.max(Z,w+g.offsetTop+(Ie?q:0)+Te)+Ee;l.style.height=ot+"px",g.scrollTop=pe-Z+g.offsetTop}l.style.margin=`${Tr}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=A+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,g,y,b,i.dir,n]);dr(()=>j(),[j]);const[N,_]=m.useState();dr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const P=m.useCallback(C=>{C&&x.current===!0&&(j(),v==null||v(),x.current=!1)},[j,v]);return a.jsx(QI,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(Me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});K_.displayName=ZI;var YI="SelectPopperPosition",Bm=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Tr,...i}=e,o=ac(r);return a.jsx(k4,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bm.displayName=YI;var[QI,Xg]=pi(Xs,{}),Gm="SelectViewport",Z_=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=bs(Gm,r),o=Xg(Gm,r),l=it(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(nc.Slot,{scope:r,children:a.jsx(Me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-Tr*2,g=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(g,y);if(b<x){const v=b+p,j=Math.min(x,v),N=v-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Z_.displayName=Gm;var Y_="SelectGroup",[XI,JI]=pi(Y_),e3=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=li();return a.jsx(XI,{scope:r,id:s,children:a.jsx(Me.div,{role:"group","aria-labelledby":s,...n,ref:t})})});e3.displayName=Y_;var Q_="SelectLabel",X_=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=JI(Q_,r);return a.jsx(Me.div,{id:s.id,...n,ref:t})});X_.displayName=Q_;var jl="SelectItem",[t3,J_]=pi(jl),ek=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=vs(jl,r),c=bs(jl,r),u=l.value===n,[d,f]=m.useState(i??""),[h,p]=m.useState(!1),x=it(t,v=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,v,n,s)}),g=li(),y=m.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(t3,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(v=>{f(j=>j||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(nc.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Me.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ze(o.onFocus,()=>p(!0)),onBlur:ze(o.onBlur,()=>p(!1)),onClick:ze(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:ze(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:ze(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:ze(o.onPointerMove,v=>{var j;y.current=v.pointerType,s?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(o.onPointerLeave,v=>{var j;v.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:ze(o.onKeyDown,v=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&v.key===" "||(qI.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});ek.displayName=jl;var $i="SelectItemText",tk=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=vs($i,r),l=bs($i,r),c=J_($i,r),u=WI($i,r),[d,f]=m.useState(null),h=it(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return dr(()=>(g(x),()=>y(x)),[g,y,x]),a.jsxs(a.Fragment,{children:[a.jsx(Me.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Hl.createPortal(i.children,o.valueNode):null]})});tk.displayName=$i;var rk="SelectItemIndicator",nk=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return J_(rk,r).isSelected?a.jsx(Me.span,{"aria-hidden":!0,...n,ref:t}):null});nk.displayName=rk;var Wm="SelectScrollUpButton",sk=m.forwardRef((e,t)=>{const r=bs(Wm,e.__scopeSelect),n=Xg(Wm,e.__scopeSelect),[s,i]=m.useState(!1),o=it(t,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ik,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});sk.displayName=Wm;var zm="SelectScrollDownButton",ak=m.forwardRef((e,t)=>{const r=bs(zm,e.__scopeSelect),n=Xg(zm,e.__scopeSelect),[s,i]=m.useState(!1),o=it(t,n.onScrollButtonChange);return dr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(ik,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});ak.displayName=zm;var ik=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=bs("SelectScrollButton",r),o=m.useRef(null),l=sc(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),dr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ze(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{c()})})}),r3="SelectSeparator",ok=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Me.div,{"aria-hidden":!0,...n,ref:t})});ok.displayName=r3;var Hm="SelectArrow",n3=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ac(r),i=vs(Hm,r),o=bs(Hm,r);return i.open&&o.position==="popper"?a.jsx(C4,{...s,...n,ref:t}):null});n3.displayName=Hm;var s3="SelectBubbleInput",lk=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=it(n,s),o=ec(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Me.select,{...r,style:{...L_,...r.style},ref:i,defaultValue:t})});lk.displayName=s3;function ck(e){return e===""||e===void 0}function dk(e){const t=mn(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function uk(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=a3(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function a3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var i3=$_,fk=q_,o3=B_,l3=G_,c3=W_,hk=z_,d3=Z_,pk=X_,mk=ek,u3=tk,f3=nk,gk=sk,xk=ak,yk=ok;const rt=i3,nt=o3,et=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(fk,{ref:n,className:ne("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(l3,{asChild:!0,children:a.jsx(_o,{className:"h-4 w-4 opacity-50"})})]}));et.displayName=fk.displayName;const vk=m.forwardRef(({className:e,...t},r)=>a.jsx(gk,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(FR,{className:"h-4 w-4"})}));vk.displayName=gk.displayName;const bk=m.forwardRef(({className:e,...t},r)=>a.jsx(xk,{ref:r,className:ne("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(_o,{className:"h-4 w-4"})}));bk.displayName=xk.displayName;const tt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(c3,{children:a.jsxs(hk,{ref:s,className:ne("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(vk,{}),a.jsx(d3,{className:ne("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(bk,{})]})}));tt.displayName=hk.displayName;const h3=m.forwardRef(({className:e,...t},r)=>a.jsx(pk,{ref:r,className:ne("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));h3.displayName=pk.displayName;const re=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(mk,{ref:n,className:ne("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(f3,{children:a.jsx(fi,{className:"h-4 w-4"})})}),a.jsx(u3,{children:t})]}));re.displayName=mk.displayName;const p3=m.forwardRef(({className:e,...t},r)=>a.jsx(yk,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));p3.displayName=yk.displayName;var ic="Switch",[m3,kH]=xr(ic),[g3,x3]=m3(ic),wk=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=m.useState(null),x=it(t,j=>p(j)),g=m.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,v]=_n({prop:s,defaultProp:i??!1,onChange:u,caller:ic});return a.jsxs(g3,{scope:r,checked:b,disabled:l,children:[a.jsx(Me.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":kk(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ze(e.onClick,j=>{v(N=>!N),y&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),y&&a.jsx(_k,{control:h,bubbles:!g.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});wk.displayName=ic;var jk="SwitchThumb",Nk=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=x3(jk,r);return a.jsx(Me.span,{"data-state":kk(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Nk.displayName=jk;var y3="SwitchBubbleInput",_k=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),l=it(o,i),c=ec(r),u=Ng(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&p){const x=new Event("click",{bubbles:n});p.call(d,r),d.dispatchEvent(x)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_k.displayName=y3;function kk(e){return e?"checked":"unchecked"}var Sk=wk,v3=Nk;const or=m.forwardRef(({className:e,...t},r)=>a.jsx(Sk,{className:ne("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(v3,{className:ne("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));or.displayName=Sk.displayName;const oc=m.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:ne("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));oc.displayName="Textarea";var Ck={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gv=D.createContext&&D.createContext(Ck),b3=["attr","size","title"];function w3(e,t){if(e==null)return{};var r=j3(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j3(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(this,arguments)}function xv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _l(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xv(Object(r),!0).forEach(function(n){N3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N3(e,t,r){return t=_3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _3(e){var t=k3(e,"string");return typeof t=="symbol"?t:t+""}function k3(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tk(e){return e&&e.map((t,r)=>D.createElement(t.tag,_l({key:r},t.attr),Tk(t.child)))}function mi(e){return t=>D.createElement(S3,Nl({attr:_l({},e.attr)},t),Tk(e.child))}function S3(e){var t=r=>{var{attr:n,size:s,title:i}=e,o=w3(e,b3),l=s||r.size||"1em",c;return r.className&&(c=r.className),e.className&&(c=(c?c+" ":"")+e.className),D.createElement("svg",Nl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:_l(_l({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&D.createElement("title",null,i),e.children)};return gv!==void 0?D.createElement(gv.Consumer,null,r=>t(r)):t(Ck)}function C3(e){return mi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function T3(e){return mi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M640 264v-16c0-8.84-7.16-16-16-16H344v-40h72c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32H224c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h72v40H16c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h104v40H64c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h304v40h-56c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h160c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32h-56v-40h104c8.84 0 16-7.16 16-16zM256 128V64h128v64H256zm-64 320H96v-64h96v64zm352 0h-96v-64h96v64z"},child:[]}]})(e)}function E3(e){return mi({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function P3(e){return mi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function A3(e){return mi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function R3(e){return mi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V86a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v340a6 6 0 0 1-6 6zm-42-92v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm0-96v24c0 6.627-5.373 12-12 12H204c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h200c6.627 0 12 5.373 12 12zm-252 12c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36zm0 96c0 19.882-16.118 36-36 36s-36-16.118-36-36 16.118-36 36-36 36 16.118 36 36z"},child:[]}]})(e)}const I3=na({name:be().min(2,"Profile name must be at least 2 characters"),proxy:be(),proxyMethod:be().optional(),proxyGroupId:be().optional(),proxyHost:be().optional(),proxyUsername:be().optional(),proxyPassword:be().optional(),proxyList:be().optional(),userAgent:be().optional(),language:be().optional(),timezone:be().optional(),resolution:be().optional(),hardwareConcurrency:be().optional(),deviceMemory:be().optional(),vendor:be().optional(),webglRenderer:be().optional(),webGLNoiseValue:be().optional(),availHeight:be().optional(),availWidth:be().optional(),height:be().optional(),width:be().optional(),colorDepth:be().optional(),canvasNoiseValue:be().optional(),audioContextNoiseValue:be().optional(),webRTC:be().optional(),customWebRtcIp:be().optional().refine(e=>{if(!e)return!0;const t=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,r=/^([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}$/;return t.test(e)||r.test(e)},{message:"Invalid IP address format"}),fontList:be().optional(),platform:be().optional(),productSub:be().optional(),clientRectValue:be().optional(),fingerprintType:z5(["random","custom"]),webrtcProtection:Rr().default(!1),canvasProtection:Rr().default(!1),timezoneSpoof:Rr().default(!1),webglNoise:Rr().default(!1),audioContext:Rr().default(!1),notes:be().optional()}).superRefine(({webRTC:e,customWebRtcIp:t},r)=>{e==="custom"&&!t&&r.addIssue({code:X.custom,message:"Custom IP is required when WebRTC Behavior is set to Custom IP",path:["customWebRtcIp"]})}),M3=na({count:be().min(1,"Number of profiles is required"),prefix:be().min(1,"Prefix is required"),proxy:be(),randomizeUserAgent:Rr().default(!0),enableWebRtcProtection:Rr().default(!0),matchTimezone:Rr().default(!0)});function O3({isOpen:e,onOpenChange:t,initialProfileData:r,activeTab:n,setActiveTab:s,selectedVendorId:i,showCustomWebRtcIp:o,handleVendorChange:l,handleWebRtcChange:c,vendors:u,renderers:d,proxyGroups:f,userAgents:h,hardwareConcurrency:p,deviceMemory:x,resolutions:g,browserLanguages:y,timezones:b,isLoadingVendors:v,isLoadingRenderers:j,isLoadingProxyGroups:N,onCreate:_,onUpdate:P}){const C=ds({resolver:Vs(I3),defaultValues:{name:"",proxy:"none",proxyMethod:"none",proxyGroupId:"",proxyHost:"",proxyUsername:"",proxyPassword:"",proxyList:"",fingerprintType:"random",webrtcProtection:!1,canvasProtection:!1,timezoneSpoof:!1,webglNoise:!1,audioContext:!1,webRTC:void 0,customWebRtcIp:""}}),E=ds({resolver:Vs(M3),defaultValues:{count:"5",prefix:"Profile",proxy:"none",randomizeUserAgent:!0,enableWebRtcProtection:!0,matchTimezone:!0}}),S=E.watch("proxy"),M=w=>{const T={name:w.name,proxySource:w.proxyMethod,proxyList:w.proxyMethod==="import"?w.proxyHost:void 0,fingerprintMethod:w.fingerprintType};w.fingerprintType==="custom"&&Object.assign(T,{userAgent:w.userAgent,resolution:w.resolution,language:w.language,timezone:w.timezone,vendor:w.vendor,renderer:w.webglRenderer,hardwareConcurrency:w.hardwareConcurrency?Number(w.hardwareConcurrency):void 0,deviceMemory:w.deviceMemory?Number(w.deviceMemory):void 0,canvas:w.canvasProtection,webGL:w.webglNoise,audioContext:w.audioContext,clientRects:w.clientRects,fonts:w.fontList,webRtcMode:w.webRTC,webRtcCustomIp:w.webRTC==="custom"?w.customWebRtcIp:void 0}),Object.keys(T).forEach(I=>T[I]===void 0&&delete T[I]),console.log("Submitting Individual Payload:",T),_(T).then(()=>{t(!1),C.reset()}).catch(I=>{console.error("Failed to create profile:",I)})},O=w=>{let T;w.proxy==="proxy-group"?T="select group":w.proxy==="import"?T="import":T="none";const I={count:w.count?Number(w.count):void 0,prefix:w.prefix,proxySource:T,selectedProxyGroup:w.proxy==="proxy-group"?w.proxyGroupId:void 0,proxyList:w.proxy==="import"?w.proxyList:void 0};Object.keys(I).forEach(F=>I[F]===void 0&&delete I[F]),console.log("Submitting Bulk Payload:",I),_(I).then(()=>{t(!1),E.reset()}).catch(F=>{console.error("Failed to create bulk profiles:",F)})};C.watch("proxy");const A=C.watch("proxyMethod"),B=C.watch("fingerprintType"),k=w=>{C.setValue("webRTC",w),c(w)};return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsx(tn,{className:"sm:max-w-[600px] p-0 overflow-y-auto max-h-[90vh]",children:a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx(rn,{className:"text-2xl font-bold text-blue-900",children:"Add Browser Profile"}),a.jsx(nn,{className:"text-blue-600 mt-1",children:"Create new antidetect browser profiles"})]}),a.jsx("button",{onClick:()=>t(!1),className:"p-2 hover:bg-blue-100 rounded-full transition-colors","aria-label":"Close dialog",children:a.jsx(E3,{className:"text-blue-900 text-xl"})})]}),a.jsxs("div",{className:"flex gap-4 mb-6",children:[a.jsxs("button",{onClick:()=>s("individual"),className:`flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="individual"?"bg-blue-600 text-white":"bg-blue-100 text-blue-900 hover:bg-blue-200"}`,children:[a.jsx(P3,{}),a.jsx("span",{children:"Add Individual Profile"})]}),a.jsxs("button",{onClick:()=>s("bulk"),className:`flex-1 py-3 px-4 rounded-lg flex items-center justify-center gap-2 transition-colors ${n==="bulk"?"bg-blue-600 text-white":"bg-blue-100 text-blue-900 hover:bg-blue-200"}`,children:[a.jsx(A3,{}),a.jsx("span",{children:"Add Bulk Profiles"})]})]}),n==="individual"&&a.jsx(Bs,{...C,children:a.jsxs("form",{onSubmit:C.handleSubmit(M),className:"space-y-4",children:[a.jsx(_e,{control:C.control,name:"name",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Profile Name"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"My Profile",...w})}),a.jsx(De,{})]})}),a.jsx(_e,{control:C.control,name:"proxyMethod",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Method"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select Proxy Method"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"none",children:"No Proxy"}),a.jsx(re,{value:"import",children:"Add Simple Proxy"})]})]}),a.jsx(De,{})]})}),A==="import"&&a.jsx("div",{className:"space-y-4 p-3 bg-blue-50 rounded-md border border-blue-200",children:a.jsx(_e,{control:C.control,name:"proxyHost",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{className:"font-medium",children:"Proxy"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"IP:PORT or IP:PORT:USERNAME:PASSWORD",...w})}),a.jsx(er,{children:"Example: 192.168.1.1:8080 or 192.168.1.1:8080:user:pass"}),a.jsx(De,{})]})})}),a.jsx(_e,{control:C.control,name:"fingerprintType",render:({field:w})=>a.jsxs(we,{className:"space-y-3",children:[a.jsx(je,{children:"Fingerprint Type"}),a.jsx(Ne,{children:a.jsxs(Ys,{onValueChange:w.onChange,defaultValue:w.value,className:"flex flex-col space-y-1",children:[a.jsxs(we,{className:"flex items-center space-x-3 space-y-0",children:[a.jsx(Ne,{children:a.jsx(Qt,{value:"random"})}),a.jsx(je,{className:"font-normal",children:"Random (Automatic)"})]}),a.jsxs(we,{className:"flex items-center space-x-3 space-y-0",children:[a.jsx(Ne,{children:a.jsx(Qt,{value:"custom"})}),a.jsx(je,{className:"font-normal",children:"Custom (Manual)"})]})]})}),a.jsx(De,{})]})}),B==="custom"&&a.jsxs("div",{className:"space-y-6 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Custom Fingerprint Settings"}),a.jsx(_e,{control:C.control,name:"userAgent",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"User Agent"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select User Agent"})})}),a.jsx(tt,{children:h.map((T,I)=>a.jsx(re,{value:T.value,children:T.label},I))})]}),a.jsx(De,{})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:C.control,name:"vendor",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Vendor"}),a.jsxs(rt,{onValueChange:T=>{w.onChange(T),l(T)},defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select Vendor"})})}),a.jsx(tt,{children:v?a.jsx(re,{value:"loading",children:"Loading..."}):u.map(T=>a.jsx(re,{value:T.id,children:T.name},T.id))})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:C.control,name:"webglRenderer",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"WebGL Renderer"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,disabled:!i,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select Renderer"})})}),a.jsx(tt,{children:i?j?a.jsx(re,{value:"loading",children:"Loading..."}):(d==null?void 0:d.length)>0?d.map(T=>a.jsx(re,{value:T.id,children:T.name},T.id)):a.jsx(re,{value:"no-renderers",children:"No renderers available"}):a.jsx(re,{value:"select-vendor",children:"Select a vendor first"})})]}),a.jsx(De,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:C.control,name:"hardwareConcurrency",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Hardware Concurrency"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"CPU cores"})})}),a.jsx(tt,{children:p.map(T=>a.jsx(re,{value:T.value,children:T.label},T.value))})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:C.control,name:"deviceMemory",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Device Memory"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Memory"})})}),a.jsx(tt,{children:x.map(T=>a.jsx(re,{value:T.value,children:T.label},T.value))})]}),a.jsx(De,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:C.control,name:"resolution",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Screen Resolution"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select resolution"})})}),a.jsx(tt,{children:g.map(T=>a.jsx(re,{value:T.value,children:T.label},T.value))})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:C.control,name:"timezone",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Timezone"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select timezone"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"UTC",children:"UTC"}),a.jsx(re,{value:"America/New_York",children:"New York (GMT-5)"}),a.jsx(re,{value:"America/Los_Angeles",children:"Los Angeles (GMT-8)"}),a.jsx(re,{value:"Europe/London",children:"London (GMT+0)"}),a.jsx(re,{value:"Europe/Paris",children:"Paris (GMT+1)"}),a.jsx(re,{value:"Asia/Tokyo",children:"Tokyo (GMT+9)"})]})]}),a.jsx(De,{})]})})]}),a.jsx(_e,{control:C.control,name:"language",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Browser Language"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select language"})})}),a.jsx(tt,{children:y.map(T=>a.jsx(re,{value:T.value,children:T.label},T.value))})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:C.control,name:"webRTC",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"WebRTC Behavior"}),a.jsxs(rt,{onValueChange:T=>{k(T)},defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select WebRTC behavior"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"real",children:"Real IP"}),a.jsx(re,{value:"proxy",children:"Use Proxy IP"}),a.jsx(re,{value:"disabled",children:"Disabled"}),a.jsx(re,{value:"custom",children:"Custom IP"})]})]}),a.jsx(De,{})]})}),o&&a.jsx(_e,{control:C.control,name:"customWebRtcIp",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Custom WebRTC IP"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"Enter IP address (e.g. 192.168.1.1)",...w})}),a.jsx(er,{children:"Enter a valid IPv4 or IPv6 address"}),a.jsx(De,{})]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:"Protection Settings"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:C.control,name:"fontList",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Font List"}),a.jsx(er,{children:"Customize font fingerprint"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})}),a.jsx(_e,{control:C.control,name:"canvasProtection",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Canvas Protection"}),a.jsx(er,{children:"Prevent canvas fingerprinting"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:C.control,name:"clientRects",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Client Rects"}),a.jsx(er,{children:"Modify client rects fingerprint"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})}),a.jsx(_e,{control:C.control,name:"webglNoise",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"WebGL Noise"}),a.jsx(er,{children:"Add noise to WebGL"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})})]}),a.jsx(_e,{control:C.control,name:"audioContext",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Audio Context"}),a.jsx(er,{children:"Modify audio context fingerprint"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})})]})]}),a.jsx(_e,{control:C.control,name:"notes",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Notes (Optional)"}),a.jsx(Ne,{children:a.jsx(oc,{placeholder:"Add notes about this profile",className:"min-h-[80px]",...w})}),a.jsx(De,{})]})}),a.jsxs(gr,{children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(ee,{type:"submit",children:"Create Profile"})]})]})}),n==="bulk"&&a.jsx(Bs,{...E,children:a.jsxs("form",{onSubmit:E.handleSubmit(O),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:E.control,name:"count",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Number of Profiles"}),a.jsx(Ne,{children:a.jsx(Ve,{type:"number",min:"1",placeholder:"5",...w})}),a.jsx(De,{})]})}),a.jsx(_e,{control:E.control,name:"prefix",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Profile Name Prefix"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"Profile",...w})}),a.jsx(De,{})]})})]}),a.jsx(_e,{control:E.control,name:"proxy",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Method"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select Proxy Method"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"none",children:"No Proxy"}),a.jsx(re,{value:"proxy-group",children:"Select Proxy Group"}),a.jsx(re,{value:"import",children:"Import Proxy List"})]})]}),a.jsx(De,{})]})}),S==="proxy-group"&&a.jsx(_e,{control:E.control,name:"proxyGroupId",render:({field:w})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Group"}),a.jsxs(rt,{onValueChange:w.onChange,defaultValue:w.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select Proxy Group"})})}),a.jsx(tt,{children:N?a.jsx(re,{value:"loading",children:"Loading..."}):f.map(T=>a.jsx(re,{value:T.id,children:T.name},T.id))})]}),a.jsx(De,{})]})}),S==="import"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{children:"Proxy List"}),a.jsxs("label",{htmlFor:"proxy-file-upload",className:"text-sm text-primary cursor-pointer flex items-center gap-1 hover:underline",children:[a.jsx("span",{className:"h-4 w-4",children:""}),"Import from file"]}),a.jsx("input",{id:"proxy-file-upload",type:"file",accept:".txt,.csv,.xlsx,.xls",className:"hidden",onChange:w=>{var I;const T=(I=w.target.files)==null?void 0:I[0];if(T){const F=new FileReader;F.onload=R=>{var W;const V=(W=R.target)==null?void 0:W.result;E.setValue("proxyList",V)},F.readAsText(T)}}})]}),a.jsx(_e,{control:E.control,name:"proxyList",render:({field:w})=>a.jsxs(we,{children:[a.jsx(Ne,{children:a.jsx("textarea",{rows:6,className:"flex min-h-[100px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 resize-none",placeholder:"Enter proxy list (one per line). Format: IP:PORT or IP:PORT:USERNAME:PASSWORD",...w})}),a.jsxs(er,{className:"flex items-center gap-1",children:[a.jsx("span",{className:"h-3 w-3",children:""}),a.jsx("span",{children:"Format example: 192.168.1.1:8080 or 192.168.1.1:8080:username:password"})]}),a.jsx(De,{})]})})]}),a.jsx(_e,{control:E.control,name:"randomizeUserAgent",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Randomize User Agents"}),a.jsx(er,{children:"Use different user agents for each profile"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})}),a.jsx(_e,{control:E.control,name:"enableWebRtcProtection",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Enable WebRTC Protection"}),a.jsx(er,{children:"Prevent WebRTC leaks for all profiles"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})}),a.jsx(_e,{control:E.control,name:"matchTimezone",render:({field:w})=>a.jsxs(we,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(je,{children:"Match Timezone with Proxy"}),a.jsx(er,{children:"Set timezone based on proxy location"})]}),a.jsx(Ne,{children:a.jsx(or,{checked:w.value,onCheckedChange:w.onChange})})]})}),a.jsxs(gr,{children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(ee,{type:"submit",children:"Create Profiles"})]})]})})]})})})})}const Jg=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:ne("w-full caption-bottom text-sm",e),...t})}));Jg.displayName="Table";const ex=m.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:ne("[&_tr]:border-b",e),...t}));ex.displayName="TableHeader";const tx=m.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:ne("[&_tr:last-child]:border-0",e),...t}));tx.displayName="TableBody";const F3=m.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:ne("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));F3.displayName="TableFooter";const Gs=m.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:ne("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Gs.displayName="TableRow";const Kt=m.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:ne("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Kt.displayName="TableHead";const Ot=m.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:ne("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ot.displayName="TableCell";const L3=m.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:ne("mt-4 text-sm text-muted-foreground",e),...t}));L3.displayName="TableCaption";const $3=Xl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function io({className:e,variant:t,...r}){return a.jsx("div",{className:ne($3({variant:t}),e),...r})}const rx=E4,nx=P4,D3=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(zN,{ref:s,className:ne("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx($g,{className:"ml-auto h-4 w-4"})]}));D3.displayName=zN.displayName;const q3=m.forwardRef(({className:e,...t},r)=>a.jsx(HN,{ref:r,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));q3.displayName=HN.displayName;const lc=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(T4,{children:a.jsx(UN,{ref:n,sideOffset:t,className:ne("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));lc.displayName=UN.displayName;const Zt=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(KN,{ref:n,className:ne("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Zt.displayName=KN.displayName;const V3=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(ZN,{ref:s,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(YN,{children:a.jsx(fi,{className:"h-4 w-4"})})}),t]}));V3.displayName=ZN.displayName;const B3=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(QN,{ref:n,className:ne("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(YN,{children:a.jsx(D2,{className:"h-2 w-2 fill-current"})})}),t]}));B3.displayName=QN.displayName;const Ek=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(XN,{ref:n,className:ne("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Ek.displayName=XN.displayName;const Ws=m.forwardRef(({className:e,...t},r)=>a.jsx(JN,{ref:r,className:ne("-mx-1 my-1 h-px bg-muted",e),...t}));Ws.displayName=JN.displayName;function G3({profiles:e,selectedProfiles:t,onSelectionChange:r,onEdit:n,onDelete:s,onQuickLaunch:i,onExport:o,onBulkLaunch:l,onAddToGroup:c,onBulkDelete:u}){const[d,f]=m.useState(1),[h,p]=m.useState(""),[x,g]=m.useState("all"),[y,b]=m.useState("all"),[v,j]=m.useState("all"),N=10,_=e.filter(w=>{const T=w.name.toLowerCase().includes(h.toLowerCase())||w.browserType.toLowerCase().includes(h.toLowerCase()),I=x==="all"||w.status===x,F=y==="all"||y===w.name,R=v==="all"||v==="none"&&!w.group||w.group===v;return T&&I&&F&&R}),P=Math.ceil(_.length/N),C=d*N,E=C-N,S=_.slice(E,C),M=w=>{const T=t.includes(w)?t.filter(I=>I!==w):[...t,w];r(T)},O=()=>{if(t.length===S.length)r([]);else{const w=S.map(T=>T.id);r(w)}},A=S.length>0&&t.length===S.length,B=t.length>0&&t.length<S.length,k=w=>{switch(w.toLowerCase()){case"chrome":return a.jsx(Am,{className:"text-primary-500"});case"firefox":return a.jsx(ul,{className:"text-purple-500"});default:return a.jsx(ul,{className:"text-blue-500"})}};return a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-3",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsx(wt,{children:"My Profiles"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Sn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),a.jsx(Ve,{placeholder:"Search profiles...",className:"pl-8",value:h,onChange:w=>p(w.target.value)})]}),a.jsxs(rt,{value:x,onValueChange:g,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by status"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Status"}),a.jsx(re,{value:"active",children:"Active"}),a.jsx(re,{value:"idle",children:"Idle"})]})]}),a.jsxs(rt,{value:y,onValueChange:b,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by name"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Names"}),Array.from(new Set(e.map(w=>w.name))).map(w=>a.jsx(re,{value:w,children:w},w))]})]}),a.jsxs(rt,{value:v,onValueChange:j,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by group"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Groups"}),a.jsx(re,{value:"none",children:"No Group"}),Array.from(new Set(e.map(w=>w.group).filter(Boolean))).map(w=>a.jsx(re,{value:w,children:w},w))]})]})]})]}),t.length>0&&a.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-blue-50 p-2 rounded-md border border-blue-200",children:a.jsxs("div",{className:"flex items-center gap-2",children:[l&&a.jsxs(ee,{size:"sm",variant:"default",onClick:l,children:[a.jsx(en,{className:"h-4 w-4 mr-1"})," Launch Selected..."]}),c&&a.jsxs(ee,{size:"sm",variant:"outline",onClick:c,children:[a.jsx(ko,{className:"h-4 w-4 mr-1"})," Add to Group"]}),u&&a.jsxs(ee,{size:"sm",variant:"destructive",onClick:()=>u(t),children:[a.jsx(ro,{className:"h-4 w-4 mr-1"})," Delete All"]})]})})]})}),a.jsxs(ft,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Jg,{children:[a.jsx(ex,{children:a.jsxs(Gs,{children:[a.jsx(Kt,{className:"w-[50px]",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Yt,{checked:A,onCheckedChange:O,"aria-label":"Select all profiles",className:`data-[state=checked]:bg-blue-600 ${B?"bg-blue-400":""}`})})}),a.jsx(Kt,{className:"w-[180px]",children:"Name"}),a.jsx(Kt,{children:"OS / Browser"}),a.jsx(Kt,{children:"Proxy"}),a.jsx(Kt,{children:"Last Used"}),a.jsx(Kt,{children:"Status"}),a.jsx(Kt,{className:"text-right",children:"Actions"})]})}),a.jsx(tx,{children:S.length===0?a.jsx(Gs,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No profiles found. Create a new profile to get started."})}):S.map(w=>a.jsxs(Gs,{className:`h-[60px] cursor-pointer transition-colors ${t.includes(w.id)?"bg-blue-50":""}`,"data-state":t.includes(w.id)?"selected":"","data-profile-id":w.id,onClick:()=>M(w.id),children:[a.jsx(Ot,{children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Yt,{checked:t.includes(w.id),onCheckedChange:()=>M(w.id),"aria-label":`Select ${w.name}`,className:"data-[state=checked]:bg-blue-600",onClick:T=>T.stopPropagation()})})}),a.jsx(Ot,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-8 w-8 flex-shrink-0 rounded-full bg-primary-100 flex items-center justify-center mr-2",children:k(w.browserType)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:w.name}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",w.id]})]})]})}),a.jsxs(Ot,{children:[a.jsx("div",{className:"text-sm",children:w.osType}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[w.browserType," ",w.browserVersion]})]}),a.jsxs(Ot,{children:[a.jsx(io,{variant:w.proxyStatus==="connected"?"default":"outline",className:w.proxyStatus==="connected"?"bg-green-500 text-white":"",children:w.proxyStatus==="connected"?"Connected":"Disconnected"}),w.proxyAddress&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:w.proxyAddress})]}),a.jsx(Ot,{className:"text-sm text-muted-foreground",children:w.lastUsed}),a.jsx(Ot,{children:a.jsx(io,{variant:w.status==="active"?"default":"outline",className:w.status==="active"?"bg-green-500 text-white":"",children:w.status==="active"?"Active":"Idle"})}),a.jsx(Ot,{className:"text-right",children:a.jsx("div",{className:"flex items-center justify-end space-x-1",children:a.jsxs(rx,{children:[a.jsx(nx,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(qg,{className:"h-4 w-4"})})}),a.jsxs(lc,{align:"end",children:[a.jsxs(Zt,{onClick:()=>i(w.id),children:[a.jsx(en,{className:"mr-2 h-4 w-4"})," Launch"]}),a.jsxs(Zt,{onClick:()=>o(w.id),children:[a.jsx(Za,{className:"mr-2 h-4 w-4"})," Export"]}),a.jsx(Ws,{}),a.jsxs(Zt,{onClick:()=>M(w.id),children:[a.jsx(Yt,{checked:t.includes(w.id),className:"mr-2 h-4 w-4"})," ",t.includes(w.id)?"Unselect":"Select"]}),a.jsx(Ws,{}),a.jsxs(Zt,{onClick:()=>s(w.id),className:"text-red-600",children:[a.jsx(ro,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})})]},w.id))})]})}),_.length>N&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",E+1," to ",Math.min(C,_.length)," of ",_.length," profiles"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>f(w=>Math.max(w-1,1)),disabled:d===1,children:"Previous"}),a.jsx("div",{className:"flex items-center",children:Array.from({length:Math.min(P,5)},(w,T)=>{let I=T+1;return P>5&&d>3&&(I=d-3+T,I>P&&(I=P-(4-T))),a.jsx(ee,{variant:d===I?"default":"outline",size:"sm",className:"w-8 h-8 p-0 mx-1",onClick:()=>f(I),children:I},I)})}),a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>f(w=>Math.min(w+1,P)),disabled:d===P,children:"Next"})]})]})]})]})}function W3({open:e,onOpenChange:t,onLaunch:r,profileIds:n,workflows:s}){const[i,o]=m.useState(""),[l,c]=m.useState(1),u=n.length===1;m.useEffect(()=>{e&&c(u?1:Math.min(n.length,5))},[n,u,e]);const d=h=>{h.preventDefault(),r({profileIds:n,workflowId:i==="none"?null:i,threads:l})},f=h=>{h||setTimeout(()=>{o("")},150),t(h)};return a.jsx(Rn,{open:e,onOpenChange:f,children:a.jsxs(tn,{className:"sm:max-w-[425px]",children:[a.jsxs(In,{children:[a.jsx(rn,{children:"Launch Profiles"}),a.jsx(nn,{children:u?"Configure launch options for the selected profile.":`Configure launch options for ${n.length} selected profiles.`})]}),a.jsxs("form",{onSubmit:d,className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"workflow",children:"Select Workflow (Optional)"}),a.jsxs(rt,{value:i,onValueChange:o,children:[a.jsx(et,{id:"workflow",children:a.jsx(nt,{placeholder:"Run without workflow"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"none",children:"None - Launch Profile Only"}),s.map(h=>a.jsx(re,{value:h.id,children:h.name},h.id))]})]})]}),!u&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"threads",children:"Concurrent Threads"}),a.jsx(Ve,{id:"threads",type:"number",min:1,max:Math.max(1,n.length),value:l,onChange:h=>c(Number(h.target.value))}),a.jsx("p",{className:"text-xs text-gray-500",children:"Number of profiles to run concurrently."})]}),a.jsxs(gr,{className:"mt-6",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{type:"submit",children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Launch"]})]})]})]})})}function Pk({open:e,onOpenChange:t,onAddToGroup:r,profileIds:n,groups:s}){const[i,o]=m.useState("existing"),[l,c]=m.useState(""),[u,d]=m.useState(""),f=p=>{p.preventDefault();const x={mode:i,groupId:i==="existing"?l:null,newGroupName:i==="new"?u.trim():null,itemIds:n};r(x),t(!1)},h=()=>{o("existing"),c(""),d("")};return a.jsx(Rn,{open:e,onOpenChange:p=>{p||h(),t(p)},children:a.jsxs(tn,{className:"sm:max-w-[425px]",children:[a.jsxs(In,{children:[a.jsx(rn,{children:"Add to Group"}),a.jsx(nn,{children:n.length>1?`Add ${n.length} selected profiles to a group`:"Add the selected profile to a group"})]}),a.jsxs("form",{onSubmit:f,className:"space-y-4 py-4",children:[a.jsxs(Ys,{value:i,onValueChange:p=>o(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"existing",id:"existing"}),a.jsx(Le,{htmlFor:"existing",className:"font-medium",children:"Select existing group"})]}),a.jsx("div",{className:"pl-6",children:a.jsx("div",{className:"space-y-2",children:s.length>0?s.map(p=>a.jsxs("div",{className:`p-3 border rounded-md cursor-pointer flex justify-between items-center ${i==="existing"&&l===p.id?"border-primary bg-primary/5":"border-gray-200"}`,onClick:()=>{o("existing"),c(p.id)},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ko,{className:"h-4 w-4 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:p.name}),p.description&&a.jsx("p",{className:"text-xs text-gray-500",children:p.description})]})]}),p.profileCount!==void 0&&a.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded-full",children:[p.profileCount," ",p.profileCount===1?"profile":"profiles"]})]},p.id)):a.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-2 p-3 border border-gray-200 rounded-md",children:[a.jsx(Vg,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{children:"No existing groups found"})]})})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"new",id:"new"}),a.jsx(Le,{htmlFor:"new",className:"font-medium",children:"Create a new group"})]}),a.jsx("div",{className:"pl-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"groupName",children:"Group name"}),a.jsx(Ve,{id:"groupName",placeholder:"Enter group name",value:u,onChange:p=>{d(p.target.value),o("new")},onClick:()=>o("new")})]})})]})]}),a.jsxs(gr,{className:"mt-6 gap-2",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{type:"submit",disabled:i==="existing"&&!l||i==="new"&&!u.trim(),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"}),"Add to Group"]})]})]})]})})}function z3({open:e,onOpenChange:t,profileId:r,onExport:n}){const[s,i]=m.useState({format:"json",includeHistory:!0,includeCookies:!0,includeProxySettings:!0,includeFingerprint:!0}),o=()=>{r&&(n(r,s),t(!1))};return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(tn,{className:"sm:max-w-[500px]",children:[a.jsxs(In,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"h-5 w-5 text-primary"}),"Export Profile"]}),a.jsx(nn,{children:"Export browser profile with customized options"})]}),a.jsxs("div",{className:"py-4 space-y-5",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Export Format"}),a.jsxs(Ys,{value:s.format,onValueChange:l=>i(c=>({...c,format:l})),className:"flex flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"json",id:"json"}),a.jsxs(Le,{htmlFor:"json",className:"flex items-center cursor-pointer",children:[a.jsx(WR,{className:"h-4 w-4 mr-2 text-blue-500"}),"JSON"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"csv",id:"csv"}),a.jsxs(Le,{htmlFor:"csv",className:"flex items-center cursor-pointer",children:[a.jsx(HR,{className:"h-4 w-4 mr-2 text-green-500"}),"CSV"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"txt",id:"txt"}),a.jsxs(Le,{htmlFor:"txt",className:"flex items-center cursor-pointer",children:[a.jsx(Ss,{className:"h-4 w-4 mr-2 text-gray-500"}),"Text"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qt,{value:"zip",id:"zip"}),a.jsxs(Le,{htmlFor:"zip",className:"flex items-center cursor-pointer",children:[a.jsx(GR,{className:"h-4 w-4 mr-2 text-yellow-500"}),"ZIP"]})]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Export Options"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Yt,{id:"includeHistory",checked:s.includeHistory,onCheckedChange:l=>i(c=>({...c,includeHistory:l===!0})),className:"mt-0.5"}),a.jsxs("div",{className:"grid gap-1",children:[a.jsx(Le,{htmlFor:"includeHistory",children:"Include browsing history"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Export visited pages and navigation history"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Yt,{id:"includeCookies",checked:s.includeCookies,onCheckedChange:l=>i(c=>({...c,includeCookies:l===!0})),className:"mt-0.5"}),a.jsxs("div",{className:"grid gap-1",children:[a.jsx(Le,{htmlFor:"includeCookies",children:"Include cookies"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Export all stored cookies and site data"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Yt,{id:"includeProxySettings",checked:s.includeProxySettings,onCheckedChange:l=>i(c=>({...c,includeProxySettings:l===!0})),className:"mt-0.5"}),a.jsxs("div",{className:"grid gap-1",children:[a.jsx(Le,{htmlFor:"includeProxySettings",children:"Include proxy settings"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Export proxy configuration and connection details"})]})]}),a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Yt,{id:"includeFingerprint",checked:s.includeFingerprint,onCheckedChange:l=>i(c=>({...c,includeFingerprint:l===!0})),className:"mt-0.5"}),a.jsxs("div",{className:"grid gap-1",children:[a.jsx(Le,{htmlFor:"includeFingerprint",children:"Include fingerprint data"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Export browser fingerprinting settings and user-agent data"})]})]})]})]})]}),a.jsxs(gr,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:o,className:"flex items-center",children:[a.jsx(Za,{className:"mr-2 h-4 w-4"}),"Export"]})]})]})})}function H3({open:e,onOpenChange:t,onImport:r,isImporting:n}){const[s,i]=m.useState(null),[o,l]=m.useState(null),c=f=>{var p;const h=(p=f.target.files)==null?void 0:p[0];h&&(i(h),l(null))},u=()=>{if(!s)return;const f=new FileReader;f.onload=h=>{var g;const p=(g=h.target)==null?void 0:g.result,x={fileName:s.name,fileContent:p,fileType:s.type};r(x)},f.onerror=()=>{l("Failed to read the file. Please try again.")},f.readAsText(s)},d=f=>{f||setTimeout(()=>{i(null),l(null)},150),t(f)};return a.jsx(Rn,{open:e,onOpenChange:d,children:a.jsxs(tn,{className:"sm:max-w-[500px]",children:[a.jsxs(In,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(Zl,{className:"h-5 w-5 text-primary"}),"Import Profiles"]}),a.jsx(nn,{children:"Import profiles from a compatible file (.json, .csv, .zip)"})]}),a.jsx("div",{className:"py-4",children:a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center flex flex-col items-center justify-center",children:[a.jsx(zR,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:s?s.name:"Drop your file here or click to select"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Supports JSON, CSV, or ZIP files."}),a.jsx(ee,{type:"button",variant:"outline",onClick:()=>{var f;return(f=document.getElementById("profile-file-upload"))==null?void 0:f.click()},children:"Select File"}),a.jsx(Ve,{id:"profile-file-upload",type:"file",className:"hidden",accept:".json,.csv,.zip,.txt",onChange:c},(s==null?void 0:s.name)||""),o&&a.jsx("p",{className:"text-red-500 text-sm mt-2",children:o})]})}),a.jsxs(gr,{children:[a.jsx(ee,{variant:"outline",onClick:()=>d(!1),disabled:n,children:"Cancel"}),a.jsx(ee,{onClick:u,disabled:!s||n,children:n?"Importing...":"Import Profiles"})]})]})})}function Wt(e,t,r){const n=r instanceof Error?r.message:String(r);console.error(`[${e}] Li trong ${t}: ${n}`)}async function Kr(e,t,r){const n=await e;if(!n.ok){let s;try{s=await n.json()}catch{s=await n.text()}const i=(s==null?void 0:s.message)||JSON.stringify(s)||n.statusText;throw new Error(`[${t}] ${r}: Yu cu API tht bi vi status ${n.status}. Li: ${i}`)}try{const s=await n.json();if(Array.isArray(s))return s;if(s&&typeof s=="object"){const i=["data","items","results","content","list","products","categories","tags"];for(const o of i)if(Array.isArray(s[o]))return s[o]}return console.warn(`[${t}] ${r}: Phn hi thnh cng nhng d liu khng cha nh dng mng mong mun:`,s),[]}catch{throw new Error(`[${t}] ${r}: Khng th phn tch phn hi JSON t mt yu cu thnh cng.`)}}async function Gr(e,t,r,n){const s=await e;if(!s.ok){let i;try{i=await s.json()}catch{i=await s.text()}const o=(i==null?void 0:i.message)||JSON.stringify(i)||s.statusText;throw s.status===401?new Error(`[${t}] ${r}: Phin ng nhp  ht hn hoc khng hp l. ${o}`):s.status===403?new Error(`[${t}] ${r}: Bn khng c quyn truy cp. ${o}`):new Error(`[${t}] ${r}: Yu cu API tht bi vi status ${s.status}. Li: ${o}`)}try{const i=await s.json();if(i&&typeof i=="object"){if(!Array.isArray(i)){const o=["data","profile","result","content","item"];for(const l of o)if(i[l]&&typeof i[l]=="object"&&!Array.isArray(i[l]))return i[l];return"id"in i,i}console.warn(`[${t}] ${r}: D liu khng ng nh dng object:`,i)}return n}catch{throw new Error(`[${t}] ${r}: Khng th phn tch phn hi JSON t mt yu cu thnh cng.`)}}async function ar(e,t,r,n=!0){const s=await e;if(!s.ok){let i;try{i=await s.json()}catch{i=await s.text()}const o=(i==null?void 0:i.message)||JSON.stringify(i)||s.statusText;if(s.status===401){const c=new Error(`[${t}] ${r}: Phin ng nhp  ht hn hoc khng hp l. ${o}`);if(n)throw c;return Wt(t,r,c),{}}if(s.status===403){const c=new Error(`[${t}] ${r}: Bn khng c quyn thc hin hnh ng ny. ${o}`);if(n)throw c;return Wt(t,r,c),{}}const l=new Error(`[${t}] ${r}: Yu cu API tht bi vi status ${s.status}. Li: ${o}`);if(n)throw l;return Wt(t,r,l),{}}try{const i=await s.json();if(i&&typeof i=="object"){const o=["data","result","response","item"];for(const l of o)if(i[l]!==void 0)return i[l];return i}return i}catch{const o=new Error(`[${t}] ${r}: Khng th phn tch phn hi JSON t mt yu cu thnh cng.`);if(n)throw o;return Wt(t,r,o),{}}}const _t="WorkflowFunctionalService";function Wo(e){var r,n;console.log(" DEBUG - convertToClientFormat input:",e);const t={nodes:((r=e.nodes)==null?void 0:r.map(s=>{const i={id:s.id,type:s.type,position:s.position||{x:0,y:0},data:s.data||{}};return console.log(" DEBUG - Converted client node:",i),i}))||[],edges:((n=e.edges)==null?void 0:n.map(s=>({id:s.id,source:s.from,target:s.to,type:s.type||"default",sourceHandle:s.sourceHandle,targetHandle:s.targetHandle,data:s.data||{}})))||[]};return console.log(" DEBUG - convertToClientFormat result:",t),t}const Vt={async getWorkflows(){try{return await Kr(J.request("GET","/api/workflows"),_t,"getWorkflows")}catch(e){return Wt(_t,"getWorkflows",e),[]}},async getWorkflow(e){try{const t=await Gr(J.request("GET",`/api/workflows/${e}`),_t,"getWorkflow",null);if(console.log(" DEBUG - Raw backend response:",t),t){if(t.workflowContent){console.log(" DEBUG - Converting workflowContent:",t.workflowContent);const r=Wo(t.workflowContent);return{...t,nodes:r.nodes,edges:r.edges}}return t.nodes&&t.edges?(console.log(" DEBUG - Response already has nodes/edges at top level"),t):{...t,nodes:[],edges:[]}}return t}catch(t){return Wt(_t,"getWorkflow",t),null}},async createWorkflow(e){try{console.log(" DEBUG - createWorkflow input:",e);const t={name:e.name,description:e.description,workflowContent:e.workflowContent||{nodes:[],edges:[]}};console.log(" DEBUG - Final backend data for create:",t);const r=await Gr(J.request("POST","/api/workflows",t),_t,"createWorkflow",null);if(console.log(" DEBUG - Create response:",r),r){if(r.workflowContent){const n=Wo(r.workflowContent);return{...r,nodes:n.nodes,edges:n.edges}}return{...r,nodes:[],edges:[]}}return r}catch(t){return Wt(_t,"createWorkflow",t),null}},async updateWorkflow(e,t){try{console.log(" DEBUG - updateWorkflow input:",{id:e,workflowData:t});const r={};t.name&&(r.name=t.name),t.description!==void 0&&(r.description=t.description),t.workflowContent&&(r.workflowContent=t.workflowContent),console.log(" DEBUG - Final backend data for update:",r);const n=await Gr(J.request("PUT",`/api/workflows/${e}`,r),_t,"updateWorkflow",null);if(console.log(" DEBUG - Update response:",n),n){if(n.workflowContent){const s=Wo(n.workflowContent);return{...n,nodes:s.nodes,edges:s.edges}}return{...n,nodes:[],edges:[]}}return n}catch(r){return Wt(_t,"updateWorkflow",r),null}},async deleteWorkflow(e){try{return await J.request("DELETE",`/api/workflows/${e}`),!0}catch(t){return Wt(_t,"deleteWorkflow",t),!1}},async duplicateWorkflow(e){try{const t=await Gr(J.request("POST",`/api/workflows/${e}/duplicate`),_t,"duplicateWorkflow",null);if(console.log(" DEBUG - Duplicate response:",t),t){if(t.workflowContent){const r=Wo(t.workflowContent);return{...t,nodes:r.nodes,edges:r.edges}}return{...t,nodes:[],edges:[]}}return t}catch(t){return Wt(_t,"duplicateWorkflow",t),null}},async executeWorkflowWithProfiles(e,t){try{return J.isElectron()&&t.profileIds?await J.executeWorkflow(e,t.profileIds,{threads:t.threads}):await Gr(J.request("POST",`/api/workflows/${e}/execute`,t),_t,"executeWorkflowWithProfiles",null)}catch(r){return Wt(_t,"executeWorkflowWithProfiles",r),null}},async executeWorkflowWithGroup(e,t){try{return await Gr(J.request("POST",`/api/workflows/${e}/execute-group`,t),_t,"executeWorkflowWithGroup",null)}catch(r){return Wt(_t,"executeWorkflowWithGroup",r),null}},async stopWorkflowExecution(e){try{return await J.request("POST",`/api/workflows/executions/${e}/stop`),!0}catch(t){return Wt(_t,"stopWorkflowExecution",t),!1}},async getWorkflowExecutions(e){try{const t=e?`/api/workflows/execution/${e}`:"/api/workflows/execution";return await Kr(J.request("GET",t),_t,"getWorkflowExecutions")}catch(t){return Wt(_t,"getWorkflowExecutions",t),[]}},async getWorkflowExecutionDetails(e){try{return await Gr(J.request("GET",`/api/workflows/executions/${e}`),_t,"getWorkflowExecutionDetails",null)}catch(t){return Wt(_t,"getWorkflowExecutionDetails",t),null}},getBasicWorkflowInfo(e){return{id:e.id,name:e.name,description:e.description}},getExecutionStatusInfo(e){const r={pending:{text:"Pending",color:"blue"},running:{text:"Running",color:"green"},completed:{text:"Completed",color:"green"},failed:{text:"Failed",color:"red"}}[e.status];let n;if(e.startTime&&e.endTime){const i=new Date(e.startTime),l=new Date(e.endTime).getTime()-i.getTime(),c=Math.floor(l/6e4),u=Math.floor(l%6e4/1e3);n=`${c}m ${u}s`}let s;if(e.results){const i=e.results.successCount+e.results.failureCount;i>0&&(s=e.results.successCount/i*100)}return{statusText:r.text,statusColor:r.color,duration:n,successRate:s}}};function sx(){const{toast:e}=yr(),{data:t,isLoading:r,error:n,refetch:s}=Ke({queryKey:["/api/workflows"],queryFn:()=>Vt.getWorkflows()}),i=t||[],o=m.useMemo(()=>i.map(_=>Vt.getBasicWorkflowInfo(_)),[i]),{data:l=[],isLoading:c,error:u,refetch:d}=Ke({queryKey:["/api/workflow-executions"],queryFn:()=>Vt.getWorkflowExecutions()}),f=_=>Ke({queryKey:["/api/workflows",_],queryFn:()=>Vt.getWorkflow(_),enabled:!!_}),h=_=>Ke({queryKey:["/api/workflow-executions",_],queryFn:()=>Vt.getWorkflowExecutions(_),enabled:!!_}),p=_=>Ke({queryKey:["/api/workflow-executions",_,"details"],queryFn:()=>Vt.getWorkflowExecutionDetails(_),enabled:!!_}),x=ye({mutationFn:_=>Vt.createWorkflow(_),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Workflow Created",description:"Workflow has been created successfully"})},onError:_=>{e({title:"Failed to create workflow",description:_.message,variant:"destructive"})}}),g=ye({mutationFn:({id:_,data:P})=>Vt.updateWorkflow(_,P),onSuccess:(_,P)=>{Se.invalidateQueries({queryKey:["/api/workflows"]}),Se.invalidateQueries({queryKey:["workflow",P.id]}),e({title:"Workflow Updated",description:"Workflow has been updated successfully"})},onError:_=>{e({title:"Failed to update workflow",description:_.message,variant:"destructive"})}}),y=ye({mutationFn:_=>Vt.deleteWorkflow(_),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Workflow Deleted",description:"Workflow has been deleted successfully"})},onError:_=>{e({title:"Failed to delete workflow",description:_.message,variant:"destructive"})}}),b=ye({mutationFn:_=>Vt.duplicateWorkflow(_),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflows"]}),e({title:"Workflow Duplicated",description:"A copy of the workflow has been successfully created."})},onError:_=>{e({title:"Failed to duplicate workflow",description:_.message,variant:"destructive"})}}),v=ye({mutationFn:({workflowId:_,params:P})=>Vt.executeWorkflowWithProfiles(_,P),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflow-executions"]}),e({title:"Workflow Started",description:"Workflow execution has started successfully"})},onError:_=>{e({title:"Failed to start workflow",description:_.message,variant:"destructive"})}}),j=ye({mutationFn:({workflowId:_,params:P})=>Vt.executeWorkflowWithGroup(_,P),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflow-executions"]}),e({title:"Workflow Started",description:"Workflow execution has started for group"})},onError:_=>{e({title:"Failed to start workflow",description:_.message,variant:"destructive"})}}),N=ye({mutationFn:_=>Vt.stopWorkflowExecution(_),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/workflow-executions"]}),e({title:"Workflow Stopped",description:"Workflow execution has been stopped"})},onError:_=>{e({title:"Failed to stop workflow",description:_.message,variant:"destructive"})}});return{workflows:i,basicWorkflows:o,workflowExecutions:l,isLoadingWorkflows:r,isLoadingExecutions:c,workflowsError:n,executionsError:u,refetchWorkflows:s,refetchExecutions:d,getWorkflowDetails:f,getWorkflowExecutions:h,getExecutionDetails:p,getExecutionStatusInfo:Vt.getExecutionStatusInfo,createWorkflow:x.mutate,updateWorkflow:g.mutate,deleteWorkflow:y.mutate,executeWorkflowWithProfiles:v.mutate,duplicateWorkflow:b.mutate,executeWorkflowWithGroup:j.mutate,stopWorkflowExecution:N.mutate,isCreatingWorkflow:x.isPending,isUpdatingWorkflow:g.isPending,isDeletingWorkflow:y.isPending,isExecutingWorkflowWithProfiles:v.isPending,isDuplicatingWorkflow:b.isPending,isExecutingWorkflowWithGroup:j.isPending,isStoppingWorkflowExecution:N.isPending}}var ax="Progress",ix=100,[U3,SH]=xr(ax),[K3,Z3]=U3(ax),Ak=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Y3,...o}=e;(s||s===0)&&!yv(s)&&console.error(Q3(`${s}`,"Progress"));const l=yv(s)?s:ix;n!==null&&!vv(n,l)&&console.error(X3(`${n}`,"Progress"));const c=vv(n,l)?n:null,u=kl(c)?i(c,l):void 0;return a.jsx(K3,{scope:r,value:c,max:l,children:a.jsx(Me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":kl(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Mk(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Ak.displayName=ax;var Rk="ProgressIndicator",Ik=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Z3(Rk,r);return a.jsx(Me.div,{"data-state":Mk(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});Ik.displayName=Rk;function Y3(e,t){return`${Math.round(e/t*100)}%`}function Mk(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function kl(e){return typeof e=="number"}function yv(e){return kl(e)&&!isNaN(e)&&e>0}function vv(e,t){return kl(e)&&!isNaN(e)&&e<=t&&e>=0}function Q3(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ix}\`.`}function X3(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ix} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ok=Ak,J3=Ik;const Ji=m.forwardRef(({className:e,value:t,...r},n)=>a.jsx(Ok,{ref:n,className:ne("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(J3,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ji.displayName=Ok.displayName;const gt={async getProfiles(){return Kr(J.request("GET","/api/profiles/"),"ProfileFunctionalService","getProfiles")},async getProfileById(e){const t={id:e,name:"Unknown profile",osType:"",browserType:"",browserVersion:"",proxyStatus:"disconnected",lastUsed:new Date().toISOString(),status:"idle"};return Gr(J.request("GET",`/api/profiles/${e}`),"ProfileFunctionalService","getProfileById",t)},async createProfile(e){return ar(J.request("POST","/api/profiles",e),"ProfileFunctionalService","createProfile")},async updateProfile(e,t){return ar(J.request("PATCH",`/api/profiles/${e}`,t),"ProfileFunctionalService","updateProfile")},async deleteProfile(e){return ar(J.request("DELETE",`/api/profiles/${e}`),"ProfileFunctionalService","deleteProfile",!1)||{success:!1}},async getGroups(){return Kr(J.request("GET","/api/profiles/groups"),"ProfileFunctionalService","getGroups")},async getGroupById(e){const t={id:e,name:"Unknown group",description:"",profileCount:0};return Gr(J.request("GET",`/api/profiles/groups/${e}`),"ProfileFunctionalService","getGroupById",t)},async createGroup(e){return ar(J.request("POST","/api/profiles/groups",e),"ProfileFunctionalService","createGroup")},async updateGroup(e,t){return ar(J.request("PATCH",`/api/profiles/groups/${e}`,t),"ProfileFunctionalService","updateGroup")},async deleteGroup(e){return ar(J.request("DELETE",`/api/profiles/groups/${e}`),"ProfileFunctionalService","deleteGroup")},async addProfilesToGroup(e){const{mode:t,groupId:r,newGroupName:n,itemIds:s}=e;let i=r;if(t==="new"){if(!n)throw new Error("Group name is required when creating a new group.");console.log(`Service: Creating new profile group "${n}"...`);const o=await this.createGroup({name:n,description:""});if(!o||!o.id)throw new Error("Service failed to create a new group.");i=o.id,console.log(`Service: New group created with ID: ${i}`)}if(!i)throw new Error("A target group ID is required to add profiles.");return!s||s.length===0?(console.warn("No profiles were selected to add to the group."),{success:!0}):(console.log(`Service: Adding profiles [${s.join(", ")}] to group ${i}...`),ar(J.request("POST",`/api/profiles/groups/${i}/profiles`,{profileIds:s}),"ProfileFunctionalService","addProfilesToGroup"))},async removeProfilesFromGroup(e,t){return(await J.request("POST",`/api/profiles/groups/${e}/remove-profiles`,{profileIds:t})).json()},async getProfilesInGroup(e){const r=await(await J.request("GET",`/api/profiles/groups/${e}/profiles`)).json();if(Array.isArray(r))return r;if(r&&typeof r=="object"){if(Array.isArray(r.profiles))return r.profiles;if(r.data&&Array.isArray(r.data))return r.data}return console.warn("getProfilesInGroup API did not return an array:",r),[]},async launchProfile(e){console.log(`Service: Launching profile ${e}`);const t={profileId:e};return ar(J.request("POST","/api/profiles/launch",t),"ProfileFunctionalService","launchProfile")},async launchProfiles({profileIds:e,threads:t}){console.log(`Service: Launching ${e.length} profiles with ${t} threads.`);const r={profileIds:e,concurrent:t};return ar(J.request("POST","/api/profiles/launch/concurrent",r),"ProfileFunctionalService","launchProfiles")},async launchProfileWithWorkflow({profileId:e,workflowId:t}){console.log(`Service: Launching profile ${e} with workflow ${t}.`);const r=`/api/profiles/launch/${e}/workflows/${t}`;return ar(J.request("POST",r,{}),"ProfileFunctionalService","launchProfileWithWorkflow")},async launchProfilesWithWorkflow({profileIds:e,workflowId:t,threads:r}){console.log(`Service: Launching ${e.length} profiles with workflow ${t} and ${r} threads.`);const n={profileIds:e,workflowId:t,threads:r};return ar(J.request("POST","/api/profiles/launch/workflows/profiles",n),"ProfileFunctionalService","launchProfilesWithWorkflow")},async launchGroup({groupId:e,threads:t}){console.log(`Service: Launching group ${e} with ${t} threads.`);const r={groupId:e,threads:t};return ar(J.request("POST","/api/profiles/launch/groups/concurrent",r),"ProfileFunctionalService","launchGroup")},async launchGroupWithWorkflow({groupId:e,workflowId:t,threads:r}){console.log(`Service: Launching group ${e} with workflow ${t} and ${r} threads.`);const n={groupId:e,workflowId:t,threads:r};return ar(J.request("POST","/api/profiles/launch/workflows/groups",n),"ProfileFunctionalService","launchGroupWithWorkflow")},async exportProfile(e){return(await J.request("GET",`/api/profiles/${e}/export`)).blob()},async importProfiles(e){const r=await(await J.request("POST","/api/profiles/import",e)).json();if(r&&typeof r=="object"){if(typeof r.success=="boolean")return{success:r.success,count:r.count||0};if(r.data&&typeof r.data.success=="boolean")return{success:r.data.success,count:r.data.count||0}}return console.warn("importProfiles API did not return expected format:",r),{success:!1,count:0}},async getFingerprintData(){return Gr(J.request("GET","/api/profiles/fingerprint-data"),"ProfileFunctionalService","getFingerprintData",{vendors:[],renderers:{},hardwareConcurrency:[],deviceMemory:[],resolutions:[],browserLanguages:[],userAgents:[]})},getBasicProfileInfo(e){return{id:e.id,name:e.name,status:e.status,browserType:e.browserType}},getFingerprintInfo(e){return e.fingerprint},getProxyInfo(e){return{proxyStatus:e.proxyStatus,proxyAddress:e.proxyAddress}}};function Fk(e){const{toast:t}=yr(),{data:r=[],isLoading:n,error:s,refetch:i}=Ke({queryKey:["/api/local/standard/profiles"],queryFn:()=>gt.getProfiles()}),o=m.useMemo(()=>r.map(q=>gt.getBasicProfileInfo(q)),[r]),{data:l=[],isLoading:c,error:u,refetch:d}=Ke({queryKey:["/api/local/standard/profiles/groups"],queryFn:()=>gt.getGroups()}),{data:f,isLoading:h}=Ke({queryKey:["fingerprint-data"],queryFn:()=>gt.getFingerprintData()}),p=m.useMemo(()=>(f==null?void 0:f.vendors)||[],[f]),x=m.useMemo(()=>(f==null?void 0:f.userAgents)||[],[f]),g=m.useMemo(()=>(f==null?void 0:f.hardwareConcurrency)||[],[f]),y=m.useMemo(()=>(f==null?void 0:f.deviceMemory)||[],[f]),b=m.useMemo(()=>(f==null?void 0:f.resolutions)||[],[f]),v=m.useMemo(()=>(f==null?void 0:f.browserLanguages)||[],[f]),j=m.useMemo(()=>{var q;return f&&e?((q=f.renderers)==null?void 0:q[e])||[]:[]},[f,e]),N=q=>Ke({queryKey:["/api/local/standard/profiles",q],queryFn:()=>gt.getProfileById(q),enabled:!!q}),_=q=>Ke({queryKey:["/api/local/standard/profiles/groups",q,"profiles"],queryFn:()=>gt.getProfilesInGroup(q),enabled:!!q}),P=ye({mutationFn:async q=>gt.createProfile(q),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles"]}),t({title:"Profile Created",description:"Successfully created new browser profile"})},onError:q=>{t({title:"Failed to create profile",description:q.message,variant:"destructive"})}}),C=ye({mutationFn:({id:q,data:z})=>gt.updateProfile(q,z),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles"]}),t({title:"Profile Updated",description:"Profile has been updated successfully"})},onError:q=>{t({title:"Failed to update profile",description:q.message,variant:"destructive"})}}),E=ye({mutationFn:q=>gt.deleteProfile(q),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles"]}),t({title:"Profile Deleted",description:"Profile has been deleted successfully"})},onError:q=>{t({title:"Failed to delete profile",description:q.message,variant:"destructive"})}}),S=ye({mutationFn:q=>gt.createGroup(q),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles/groups"]}),t({title:"Group Created",description:"Successfully created new group"})},onError:q=>{t({title:"Failed to create group",description:q.message,variant:"destructive"})}}),M=ye({mutationFn:({id:q,data:z})=>gt.updateGroup(q,z),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles/groups"]}),t({title:"Group Updated",description:"Group has been updated successfully"})},onError:q=>{t({title:"Failed to update group",description:q.message,variant:"destructive"})}}),O=ye({mutationFn:q=>gt.deleteGroup(q),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles/groups"]}),t({title:"Group Deleted",description:"Group has been deleted successfully"})},onError:q=>{t({title:"Failed to delete group",description:q.message,variant:"destructive"})}}),A=ye({mutationFn:q=>gt.addProfilesToGroup(q),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles"]}),Se.invalidateQueries({queryKey:["/api/local/standard/profiles/groups"]}),t({title:"Added to Group",description:"Profiles have been successfully added to the group."})},onError:q=>{t({title:"Operation Failed",description:q.message,variant:"destructive"})}}),B=ye({mutationFn:({groupId:q,profileIds:z})=>gt.removeProfilesFromGroup(q,z),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/profiles/groups"]}),t({title:"Removed from Group",description:"Profiles have been removed from the group"})},onError:q=>{t({title:"Failed to remove profiles from group",description:q.message,variant:"destructive"})}}),k=ye({mutationFn:q=>gt.launchProfile(q),onSuccess:q=>{},onError:q=>{}}),w=ye({mutationFn:q=>gt.launchProfiles(q),onSuccess:q=>{t({title:"Launch Initiated",description:"Multiple profiles are being launched."})},onError:q=>{}}),T=ye({mutationFn:q=>gt.launchProfileWithWorkflow(q),onSuccess:q=>{t({title:"Workflow Launched",description:"Profile has been launched with the selected workflow."})},onError:q=>{}}),I=ye({mutationFn:q=>gt.launchProfilesWithWorkflow(q),onSuccess:q=>{t({title:"Bulk Workflow Launched",description:"Profiles are being launched with the selected workflow."})},onError:q=>{}}),F=ye({mutationFn:q=>gt.launchGroup(q),onSuccess:q=>{t({title:"Group Launched",description:"The selected group is being launched."})},onError:q=>{}}),R=ye({mutationFn:q=>gt.launchGroupWithWorkflow(q),onSuccess:q=>{t({title:"Group Workflow Launched",description:"The group is being launched with the selected workflow."})},onError:q=>{}}),V=ye({mutationFn:q=>gt.exportProfile(q),onSuccess:(q,z)=>{const Z=URL.createObjectURL(q),ce=document.createElement("a");ce.href=Z,ce.download=`profile-${z}.json`,document.body.appendChild(ce),ce.click(),ce.remove(),URL.revokeObjectURL(Z),t({title:"Profile Exported",description:"The profile has been exported successfully"})},onError:q=>{t({title:"Export Failed",description:q.message,variant:"destructive"})}}),W=ye({mutationFn:q=>gt.importProfiles(q),onSuccess:q=>{q.success?(Se.invalidateQueries({queryKey:["/api/local/standard/profiles"]}),t({title:"Profiles Imported",description:`Successfully imported ${q.count} profiles`})):t({title:"Import Failed",description:"Failed to import profiles",variant:"destructive"})},onError:q=>{t({title:"Import Failed",description:q.message,variant:"destructive"})}});return{profiles:r,basicProfiles:o,groups:l,vendors:p,renderers:j,userAgents:x,hardwareConcurrency:g,deviceMemory:y,resolutions:b,browserLanguages:v,isLoadingProfiles:n,isLoadingGroups:c,isLoadingFingerprint:h,isLoadingProxyGroups:!1,profilesError:s,groupsError:u,refetchProfiles:i,refetchGroups:d,getProfileDetails:N,getProfilesInGroup:_,createProfileAsync:P.mutateAsync,createProfile:P.mutate,updateProfile:C.mutate,deleteProfile:E.mutate,createGroup:S.mutate,updateGroup:M.mutate,deleteGroup:O.mutate,addProfilesToGroup:A.mutate,removeProfilesFromGroup:B.mutate,exportProfile:V.mutate,importProfiles:W.mutate,launchProfiles:w.mutate,launchProfile:k.mutate,launchProfileWithWorkflow:T.mutate,launchProfilesWithWorkflow:I.mutate,launchGroup:F.mutate,launchGroupWithWorkflow:R.mutate,isCreatingProfile:P.isPending,isUpdatingProfile:C.isPending,isDeletingProfile:E.isPending,isCreatingGroup:S.isPending,isUpdatingGroup:M.isPending,isDeletingGroup:O.isPending,isAddingProfilesToGroup:A.isPending,isRemovingProfilesFromGroup:B.isPending,isExportingProfile:V.isPending,isImportingProfiles:W.isPending,isLaunchingProfile:k.isPending,isLaunchingProfiles:w.isPending,isLaunchingProfileWithWorkflow:T.isPending,isLaunchingProfilesWithWorkflow:I.isPending,isLaunchingGroup:F.isPending,isLaunchingGroupWithWorkflow:R.isPending}}const Tt={async getProxyConfig(){return(await J.request("GET","/api/proxies/config")).json()},async updateProxyConfig(e){return(await J.request("PUT","/api/proxies/config",e)).json()},async testProxyConnection(){return(await J.request("POST","/api/proxies/test")).json()},async getProxies(){return(await J.request("GET","/api/proxies")).json()},async getProxyById(e){return(await J.request("GET",`/api/proxies/${e}`)).json()},async createProxy(e){return(await J.request("POST","/api/proxies",e)).json()},async updateProxy(e,t){return(await J.request("PUT",`/api/proxies/${e}`,t)).json()},async deleteProxy(e){return(await J.request("DELETE",`/api/proxies/${e}`)).json()},async testProxy(e){return(await J.request("POST",`/api/proxies/${e}/test`)).json()},async importProxies(e){return(await J.request("POST","/api/proxies/import",{proxies:e})).json()},async exportProxies(e){return(await J.request("POST","/api/proxies/export",{proxyIds:e})).blob()},async getProxyGroups(){return(await J.request("GET","/api/proxies/groups")).json()},async createProxyGroup(e){return(await J.request("POST","/api/proxies/groups",e)).json()},async deleteProxyGroup(e){return(await J.request("DELETE",`/api/proxies/groups/${e}`)).json()},async addProxiesToGroup(e){const{mode:t,groupId:r,newGroupName:n,itemIds:s}=e;let i=r;if(t==="new"){if(!n)throw new Error("Group name is required to create a new group.");console.log(`Service: Creating new group "${n}"...`);const l=await this.createProxyGroup({name:n,description:""});if(!l||!l.id)throw new Error("Failed to create new group from service.");i=l.id.toString(),console.log(`Service: New group created with ID ${i}.`)}if(!i)throw new Error("No target group ID specified.");if(!s||s.length===0)throw new Error("No proxies selected to add to the group.");return console.log(`Service: Adding proxies [${s.join(",")}] to group ${i}...`),(await J.request("POST",`/api/proxies/groups/${i}/add`,{proxyIds:s})).json()},async removeProxiesFromGroup(e,t){return(await J.request("POST",`/api/proxies/groups/${e}/remove`,{proxyIds:t})).json()},async getProxiesInGroup(e){return(await J.request("GET",`/api/proxies/groups/${e}/proxies`)).json()},async findProxyByHostPort(e,t){return(await(await J.request("GET",`/api/proxies/find?host=${e}&port=${t}`)).json()).proxy||null},formatProxyString(e){if(!e)return"";let t="";return e.username&&e.password&&(t=`${e.username}:${e.password}@`),`${e.type}://${t}${e.address}`},parseProxyString(e){try{const t=/^(https?|socks[45]?):\/\/(?:([^:@]+):([^@]+)@)?([^:]+):(\d+)\/?$/i,r=e.match(t);if(!r)throw new Error("Invalid proxy format");const[n,s,i,o,l,c]=r;return{type:s.toLowerCase(),host:l,port:parseInt(c,10),address:`${l}:${c}`,username:i||void 0,password:o||void 0,status:"offline",location:"Unknown"}}catch{throw new Error("Invalid proxy format")}},getProxyStatusInfo(e){return e.status==="online"?{label:"Online",color:"green"}:{label:"Offline",color:"red"}}};function Lk(){var O;const{toast:e}=yr(),{data:t,isLoading:r,error:n,refetch:s}=Ke({queryKey:["/api/local/standard/proxies"],queryFn:()=>Tt.getProxies()}),i=Array.isArray(t)?t:((O=t==null?void 0:t.data)==null?void 0:O.proxies)||[],{data:o,isLoading:l,error:c,refetch:u}=Ke({queryKey:["/api/local/standard/proxies/config"],queryFn:()=>Tt.getProxyConfig()}),{data:d=[],isLoading:f,error:h,refetch:p}=Ke({queryKey:["/api/local/standard/proxies/groups"],queryFn:()=>Tt.getProxyGroups()}),x=A=>Ke({queryKey:["/api/local/standard/proxies",A],queryFn:()=>Tt.getProxyById(A),enabled:!!A}),g=A=>Ke({queryKey:["/api/local/standard/proxies/groups",A,"proxies"],queryFn:()=>Tt.getProxiesInGroup(A),enabled:!!A}),y=ye({mutationFn:()=>Tt.testProxyConnection(),onSuccess:A=>{A.success?e({title:"Connection Successful",description:`Ping: ${A.ping}ms`}):e({title:"Connection Failed",description:A.error||"Failed to connect to proxy",variant:"destructive"})},onError:A=>{e({title:"Test Failed",description:A.message,variant:"destructive"})}}),b=ye({mutationFn:A=>Tt.testProxy(A),onSuccess:A=>{A.success?e({title:"Proxy Test Successful",description:`Ping: ${A.ping}ms`}):e({title:"Proxy Test Failed",description:A.error||"Failed to connect to proxy",variant:"destructive"})},onError:A=>{e({title:"Test Failed",description:A.message,variant:"destructive"})}}),v=ye({mutationFn:A=>Tt.updateProxyConfig(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies/config"]}),e({title:"Proxy Config Updated",description:"Proxy configuration has been updated"})},onError:A=>{e({title:"Update Failed",description:A.message,variant:"destructive"})}}),j=ye({mutationFn:A=>Tt.createProxy(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies"]}),e({title:"Proxy Created",description:"New proxy has been created"})},onError:A=>{e({title:"Creation Failed",description:A.message,variant:"destructive"})}}),N=ye({mutationFn:({id:A,data:B})=>Tt.updateProxy(A,B),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies"]}),e({title:"Proxy Updated",description:"Proxy has been updated"})},onError:A=>{e({title:"Update Failed",description:A.message,variant:"destructive"})}}),_=ye({mutationFn:A=>Tt.deleteProxy(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies"]}),e({title:"Proxy Deleted",description:"Proxy has been deleted"})},onError:A=>{e({title:"Deletion Failed",description:A.message,variant:"destructive"})}}),P=ye({mutationFn:A=>Tt.importProxies(A),onSuccess:A=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies"]}),e({title:"Proxies Imported",description:`Successfully imported ${A.count} proxies`})},onError:A=>{e({title:"Import Failed",description:A.message,variant:"destructive"})}}),C=ye({mutationFn:A=>Tt.createProxyGroup(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies/groups"]}),e({title:"Group Created",description:"New proxy group has been created"})},onError:A=>{e({title:"Group Creation Failed",description:A.message,variant:"destructive"})}}),E=ye({mutationFn:A=>Tt.deleteProxyGroup(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies/groups"]}),e({title:"Group Deleted",description:"Proxy group has been deleted"})},onError:A=>{e({title:"Group Deletion Failed",description:A.message,variant:"destructive"})}}),S=ye({mutationFn:A=>Tt.addProxiesToGroup(A),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies/groups"]}),e({title:"Added to Group",description:"Proxies have been added to group"})},onError:A=>{e({title:"Failed to Add to Group",description:A.message,variant:"destructive"})}}),M=ye({mutationFn:({groupId:A,proxyIds:B})=>Tt.removeProxiesFromGroup(A,B),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/local/standard/proxies/groups"]}),e({title:"Removed from Group",description:"Proxies have been removed from group"})},onError:A=>{e({title:"Failed to Remove from Group",description:A.message,variant:"destructive"})}});return{proxies:i,proxyConfig:o,proxyGroups:d,isLoadingProxies:r,isLoadingProxyConfig:l,isLoadingProxyGroups:f,proxiesError:n,proxyConfigError:c,proxyGroupsError:h,refetchProxies:s,refetchProxyConfig:u,refetchProxyGroups:p,getProxyById:x,getProxiesInGroup:g,formatProxyString:Tt.formatProxyString,parseProxyString:Tt.parseProxyString,getProxyStatusInfo:Tt.getProxyStatusInfo,testProxyConnection:y.mutate,testProxy:b.mutate,updateProxyConfig:v.mutate,createProxy:j.mutate,updateProxy:N.mutate,deleteProxy:_.mutate,importProxies:P.mutate,createProxyGroup:C.mutate,deleteProxyGroup:E.mutate,addProxiesToGroup:S.mutate,removeProxiesFromGroup:M.mutate,isTestingProxyConnection:y.isPending,isTestingProxy:b.isPending,isUpdatingProxyConfig:v.isPending,isCreatingProxy:j.isPending,isUpdatingProxy:N.isPending,isDeletingProxy:_.isPending,isImportingProxies:P.isPending,isCreatingProxyGroup:C.isPending,isDeletingProxyGroup:E.isPending,isAddingProxiesToGroup:S.isPending,isRemovingProxiesFromGroup:M.isPending}}function bv(){hi();const{proxyGroups:e,isLoadingProxyGroups:t}=Lk();ds({defaultValues:{proxyHost:"",proxyUsername:"",proxyPassword:"",proxyId:""}});const[r,n]=m.useState(""),{profiles:s,groups:i,isLoadingProfiles:o,createProfileAsync:l,updateProfile:c,deleteProfile:u,launchProfile:d,launchProfiles:f,launchProfileWithWorkflow:h,launchProfilesWithWorkflow:p,exportProfile:x,importProfiles:g,addProfilesToGroup:y,isImportingProfiles:b,isLoadingFingerprint:v,renderers:j,userAgents:N,vendors:_,hardwareConcurrency:P,deviceMemory:C,resolutions:E,browserLanguages:S}=Fk(r),M=v,O=v,{workflows:A}=sx(),[B,k]=m.useState(""),[w,T]=m.useState(!1),[I,F]=m.useState(!1),[R,V]=m.useState(!1),[W,q]=m.useState(null),[z,Z]=m.useState([]),[ce,Te]=m.useState(!1),[te,pe]=m.useState(!1),[Ee,ge]=m.useState(!1),[Ie,Ce]=m.useState("individual"),[ot,st]=m.useState(!1),[xe,mt]=m.useState(null),[fe,ue]=m.useState(!1),[lt,L]=m.useState([]),G=[],H=ae=>l(ae),Y=(ae,Nt)=>{c({id:ae,data:Nt})},Q=ae=>{u(ae)},K=ae=>{d(ae)},de=ae=>{ae.length>0&&(L(ae),ue(!0))},Oe=ae=>{const{profileIds:Nt,workflowId:Ft,threads:qt}=ae;console.log("Dispatching launch with payload:",ae),Ft?Nt.length===1?h({profileId:Nt[0],workflowId:Ft}):p({profileIds:Nt,workflowId:Ft,threads:qt}):Nt.length===1?d(Nt[0]):f({profileIds:Nt,threads:qt}),ue(!1)},Fe=ae=>{x(ae)},dt=ae=>{y(ae,{onSuccess:()=>{pe(!1),Z([])}})},Dt=async ae=>{g(ae,{onSuccess:()=>{T(!1)}})},Je=ae=>{Z(ae)},Rt=()=>{z.length>0&&pe(!0)},ke={onProfileModalOpen:()=>ge(!0),onProfileModalOpenChange:ge,isProfileModalOpen:Ee,setIsProfileModalOpen:ge,initialProfileData:xe,setInitialProfileData:mt,activeTab:Ie,setActiveTab:Ce,selectedVendorId:r,showCustomWebRtcIp:ot,handleVendorChange:ae=>{n(ae)},handleWebRtcChange:ae=>st(ae==="custom"),vendors:_,renderers:j,proxyGroups:e,userAgents:N,isLoadingVendors:M,isLoadingRenderers:O,isLoadingProxyGroups:t,hardwareConcurrency:P,deviceMemory:C,resolutions:E,browserLanguages:S,handleCreateProfile:H,handleUpdateProfile:Y};return m.useEffect(()=>{const ae=()=>{ke.onProfileModalOpen()};return document.addEventListener("openProfileModal",ae),()=>{document.removeEventListener("openProfileModal",ae)}},[ke.onProfileModalOpen]),a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Browser Profiles"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Sn,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),a.jsx(Ve,{placeholder:"Search profiles...",className:"pl-9 w-64",value:B,onChange:ae=>k(ae.target.value)})]}),a.jsxs(ee,{variant:"outline",onClick:()=>T(!0),children:[a.jsx(DR,{className:"w-4 h-4 mr-2"}),"Import"]}),a.jsxs(ee,{onClick:()=>ke.onProfileModalOpen(),children:[a.jsx(kn,{className:"w-4 h-4 mr-2"}),"Add Profile"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Total Profiles"})}),a.jsx(ft,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:s.length}),a.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(Dy,{className:"h-5 w-5 text-blue-600"})})]})})]}),a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Active Sessions"})}),a.jsx(ft,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:s.filter(ae=>ae.status==="active").length}),a.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:a.jsx(Am,{className:"h-5 w-5 text-green-600"})})]})})]}),a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Connected Proxies"})}),a.jsx(ft,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-3xl font-bold",children:s.filter(ae=>ae.proxyStatus==="connected").length}),a.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:a.jsx(ul,{className:"h-5 w-5 text-purple-600"})})]})})]})]}),a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsx("div",{children:a.jsx(G3,{profiles:s,selectedProfiles:z,onAddToGroup:Rt,isLoading:o,onQuickLaunch:K,onBulkLaunch:()=>de(z),onEdit:ae=>{ke.setInitialProfileData(ae),ke.onProfileModalOpen()},onDelete:Q,onExport:Fe,onSelectionChange:Je,onGroupAdd:()=>{z.length>0&&pe(!0)},onLaunchWorkflow:()=>{z.length>0&&F(!0)}})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-lg",children:"Recent Activity"})}),a.jsx(ft,{children:a.jsx("div",{className:"space-y-4",children:G.map(ae=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center mr-3 ${ae.type==="login"?"bg-green-100":ae.type==="proxy"?"bg-blue-100":"bg-purple-100"}`,children:ae.type==="login"?a.jsx(Dy,{className:"h-4 w-4 text-green-600"}):ae.type==="proxy"?a.jsx(ul,{className:"h-4 w-4 text-blue-600"}):a.jsx(Am,{className:"h-4 w-4 text-purple-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:ae.title}),a.jsx("p",{className:"text-xs text-gray-500",children:ae.time})]})]},ae.id))})})]}),a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-lg",children:"Groups"})}),a.jsxs(ft,{children:[a.jsx("div",{className:"space-y-4",children:i.length===0?a.jsx("p",{className:"text-sm text-gray-500",children:"No groups created yet"}):i.map(ae=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:ae.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[ae.profileCount||0," profiles"]})]}),a.jsx(ee,{variant:"ghost",size:"sm",children:a.jsx(qg,{className:"h-4 w-4"})})]},ae.id))}),a.jsx("div",{className:"mt-4",children:a.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[a.jsx(kn,{className:"h-4 w-4 mr-2"}),"Create Group"]})})]})]}),a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-lg",children:"Usage"})}),a.jsx(ft,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"Profile Slots"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[s.length,"/50"]})]}),a.jsx(Ji,{value:s.length/50*100,className:"h-2"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"Active Sessions"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[s.filter(ae=>ae.status==="active").length,"/20"]})]}),a.jsx(Ji,{value:s.filter(ae=>ae.status==="active").length/20*100,className:"h-2"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:"Storage Used"}),a.jsx("span",{className:"text-sm text-gray-500",children:"45%"})]}),a.jsx(Ji,{value:45,className:"h-2"})]}),a.jsx("div",{className:"pt-2",children:a.jsxs(ee,{variant:"outline",size:"sm",className:"w-full",children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]})})]})})]})]})]}),a.jsx(O3,{isOpen:ke.isProfileModalOpen,onOpenChange:ke.onProfileModalOpenChange,initialProfileData:ke.initialProfileData,activeTab:ke.activeTab,setActiveTab:ke.setActiveTab,selectedVendorId:ke.selectedVendorId,showCustomWebRtcIp:ke.showCustomWebRtcIp,handleVendorChange:ke.handleVendorChange,handleWebRtcChange:ke.handleWebRtcChange,vendors:ke.vendors||[],renderers:ke.renderers||[],proxyGroups:ke.proxyGroups||[],userAgents:ke.userAgents||[],hardwareConcurrency:ke.hardwareConcurrency||[],deviceMemory:ke.deviceMemory||[],resolutions:ke.resolutions||[],browserLanguages:ke.browserLanguages||[],isLoadingVendors:ke.isLoadingVendors||!1,isLoadingRenderers:ke.isLoadingRenderers||!1,isLoadingProxyGroups:ke.isLoadingProxyGroups||!1,onCreate:ke.handleCreateProfile,onUpdate:(ae,Nt)=>ke.handleUpdateProfile(ae,Nt)}),a.jsx(H3,{open:w,onOpenChange:T,onImport:Dt,isImporting:b}),a.jsx(z3,{open:R,onOpenChange:V}),a.jsx(W3,{open:fe,onOpenChange:ue,onLaunch:Oe,profileIds:lt,workflows:A}),a.jsx(Pk,{open:te,onOpenChange:pe,onAddToGroup:dt,profileIds:z,groups:i})]})}var cc="Tabs",[eM,CH]=xr(cc,[zl]),$k=zl(),[tM,ox]=eM(cc),Dk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=wo(l),[f,h]=_n({prop:n,onChange:s,defaultProp:i??"",caller:cc});return a.jsx(tM,{scope:r,baseId:li(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Me.div,{dir:d,"data-orientation":o,...u,ref:t})})});Dk.displayName=cc;var qk="TabsList",Vk=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=ox(qk,r),o=$k(r);return a.jsx(VN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Vk.displayName=qk;var Bk="TabsTrigger",Gk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=ox(Bk,r),l=$k(r),c=Hk(o.baseId,n),u=Uk(o.baseId,n),d=n===o.value;return a.jsx(BN,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ze(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ze(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ze(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});Gk.displayName=Bk;var Wk="TabsContent",zk=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=ox(Wk,r),c=Hk(l.baseId,n),u=Uk(l.baseId,n),d=n===l.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(ys,{present:s||d,children:({present:h})=>a.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});zk.displayName=Wk;function Hk(e,t){return`${e}-trigger-${t}`}function Uk(e,t){return`${e}-content-${t}`}var rM=Dk,Kk=Vk,Zk=Gk,Yk=zk;const Qk=rM,lx=m.forwardRef(({className:e,...t},r)=>a.jsx(Kk,{ref:r,className:ne("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));lx.displayName=Kk.displayName;const oo=m.forwardRef(({className:e,...t},r)=>a.jsx(Zk,{ref:r,className:ne("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));oo.displayName=Zk.displayName;const lo=m.forwardRef(({className:e,...t},r)=>a.jsx(Yk,{ref:r,className:ne("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));lo.displayName=Yk.displayName;const nM=na({address:be().min(3,"Address is required"),port:be().min(1,"Port is required"),type:be().min(1,"Proxy type is required"),name:be().optional(),username:be().optional(),password:be().optional(),group:be().optional()}),sM=na({proxyList:be().min(5,"Proxy list is required"),proxyType:be().min(1,"Proxy type is required"),group:be().optional(),hasAuth:Rr().default(!1)});function aM({open:e,onOpenChange:t,onAddProxy:r,onImportProxies:n,proxyGroups:s,isLoadingProxyGroups:i}){const[o,l]=m.useState("single"),[c,u]=m.useState(!1),d=ds({resolver:Vs(nM),defaultValues:{address:"",port:"",type:"HTTP",name:"",username:"",password:"",group:"none"}}),f=ds({resolver:Vs(sM),defaultValues:{proxyList:"",proxyType:"HTTP",group:"none",hasAuth:!1}}),h=g=>{var b;const y={...g};y.host=y.address,delete y.address,y.port=parseInt(y.port,10),y.type=y.type.toLowerCase(),y.name=((b=y.name)==null?void 0:b.trim())||y.host,y.group==="0"||!y.group||(y.groupId=y.group),delete y.group,r(y),d.reset(),t(!1)},p=g=>{const b=g.proxyList.split(`
`).filter(v=>v.trim()!=="").map(v=>{const j=v.split(":");let N,_,P,C;if(!g.hasAuth||j.length<4){if(j.length<2)return null;_=j.pop(),N=j.join(":"),P=void 0,C=void 0}else C=j.pop(),P=j.pop(),_=j.pop(),N=j.join(":");if(!N||!_)return null;const E=parseInt(_,10);return isNaN(E)?null:{name:`${N}`,port:E,type:g.proxyType.toLowerCase(),host:N,username:P,password:C,groupId:g.group==="none"?void 0:g.group}}).filter(v=>v!==null);b.length>0&&(n(b),f.reset(),t(!1))},x=g=>{var v;const y=(v=g.target.files)==null?void 0:v[0];if(!y)return;const b=new FileReader;b.onload=j=>{var _;const N=(_=j.target)==null?void 0:_.result;f.setValue("proxyList",N)},b.readAsText(y)};return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(tn,{className:"sm:max-w-[600px]",children:[a.jsxs(In,{children:[a.jsxs(rn,{className:"flex items-center gap-2",children:[a.jsx(T3,{className:"h-5 w-5 text-primary"}),"Add Proxy"]}),a.jsx(nn,{children:"Add a single proxy or import multiple proxies at once"})]}),a.jsxs(Qk,{defaultValue:"single",value:o,onValueChange:l,className:"w-full",children:[a.jsxs(lx,{className:"grid grid-cols-2 mb-4",children:[a.jsxs(oo,{value:"single",className:"flex items-center gap-2",children:[a.jsx(kn,{className:"h-4 w-4"}),a.jsx("span",{children:"Single Proxy"})]}),a.jsxs(oo,{value:"bulk",className:"flex items-center gap-2",children:[a.jsx(Zl,{className:"h-4 w-4"}),a.jsx("span",{children:"Bulk Import"})]})]}),a.jsx(lo,{value:"single",children:a.jsx(Bs,{...d,children:a.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:d.control,name:"address",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"IP Address"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"192.168.1.1",...g})}),a.jsx(De,{})]})}),a.jsx(_e,{control:d.control,name:"port",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Port"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"8080",...g})}),a.jsx(De,{})]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:d.control,name:"type",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Type"}),a.jsxs(rt,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select proxy type"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"HTTP",children:"HTTP"}),a.jsx(re,{value:"HTTPS",children:"HTTPS"}),a.jsx(re,{value:"SOCKS4",children:"SOCKS4"}),a.jsx(re,{value:"SOCKS5",children:"SOCKS5"})]})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:d.control,name:"name",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Name (Optional)"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"My Proxy",...g})}),a.jsx(De,{})]})})]}),a.jsx(_e,{control:d.control,name:"group",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Group (Optional)"}),a.jsxs(rt,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select or create group"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"0",children:"None"}),i?a.jsx(re,{value:"loading",disabled:!0,children:"Loading groups..."}):s==null?void 0:s.map(y=>a.jsxs(re,{value:y.id.toString(),children:[y.name," (",y.proxyCount||0," proxies)"]},y.id))]})]}),a.jsx(er,{children:"Group proxies for easier management"}),a.jsx(De,{})]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yt,{id:"auth-required",checked:c,onCheckedChange:g=>u(g===!0)}),a.jsx("label",{htmlFor:"auth-required",className:"text-sm font-medium leading-none",children:"Authentication Required"})]}),c&&a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[a.jsx(_e,{control:d.control,name:"username",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Username"}),a.jsx(Ne,{children:a.jsx(Ve,{placeholder:"Username",...g})}),a.jsx(De,{})]})}),a.jsx(_e,{control:d.control,name:"password",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Password"}),a.jsx(Ne,{children:a.jsx(Ve,{type:"password",placeholder:"Password",...g})}),a.jsx(De,{})]})})]})]}),a.jsxs(gr,{children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(ee,{type:"submit",children:"Add Proxy"})]})]})})}),a.jsx(lo,{value:"bulk",children:a.jsx(Bs,{...f,children:a.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(_e,{control:f.control,name:"proxyType",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Proxy Type"}),a.jsxs(rt,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select proxy type"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"HTTP",children:"HTTP"}),a.jsx(re,{value:"HTTPS",children:"HTTPS"}),a.jsx(re,{value:"SOCKS4",children:"SOCKS4"}),a.jsx(re,{value:"SOCKS5",children:"SOCKS5"})]})]}),a.jsx(De,{})]})}),a.jsx(_e,{control:f.control,name:"group",render:({field:g})=>a.jsxs(we,{children:[a.jsx(je,{children:"Group (Optional)"}),a.jsxs(rt,{onValueChange:g.onChange,defaultValue:g.value,children:[a.jsx(Ne,{children:a.jsx(et,{children:a.jsx(nt,{placeholder:"Select or create group"})})}),a.jsxs(tt,{children:[a.jsx(re,{value:"0",children:"None"}),i?a.jsx(re,{value:"loading",disabled:!0,children:"Loading groups..."}):s==null?void 0:s.map(y=>a.jsxs(re,{value:y.id.toString(),children:[y.name," (",y.proxyCount||0," proxies)"]},y.id))]})]}),a.jsx(De,{})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(je,{children:"Proxy List"}),a.jsxs("label",{htmlFor:"file-upload",className:"text-sm text-primary cursor-pointer flex items-center gap-1 hover:underline",children:[a.jsx(C3,{className:"h-4 w-4"}),"Import from file"]}),a.jsx("input",{id:"file-upload",type:"file",accept:".txt,.csv,.xlsx,.xls",className:"hidden",onChange:x})]}),a.jsx(_e,{control:f.control,name:"proxyList",render:({field:g})=>a.jsxs(we,{children:[a.jsx(Ne,{children:a.jsx("textarea",{rows:8,className:"flex min-h-[120px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 resize-none",placeholder:"Enter proxy list (one per line). Format: IP:PORT or IP:PORT:USERNAME:PASSWORD",...g})}),a.jsxs(er,{className:"flex items-center gap-1",children:[a.jsx(R3,{className:"h-3 w-3"}),a.jsx("span",{children:"Format example: 192.168.1.1:8080 or 192.168.1.1:8080:username:password"})]}),a.jsx(De,{})]})})]}),a.jsx(_e,{control:f.control,name:"hasAuth",render:({field:g})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yt,{id:"has-auth-bulk",checked:g.value,onCheckedChange:g.onChange}),a.jsx("label",{htmlFor:"has-auth-bulk",className:"text-sm font-medium leading-none",children:"List includes authentication credentials (username:password)"})]})}),a.jsxs(gr,{children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(ee,{type:"submit",children:"Import Proxies"})]})]})})})]})]})})}function iM({proxies:e,onEdit:t,onDelete:r,onTest:n,onBulkDelete:s,onAddToGroup:i,onSelectionChange:o}){const[l,c]=m.useState(1),[u,d]=m.useState(""),[f,h]=m.useState("all"),[p,x]=m.useState("all"),[g,y]=m.useState("all"),[b,v]=m.useState([]);m.useEffect(()=>{console.log("ProxyList selectedProxies updated:",b),o&&o(b)},[b,o]);const j=10,N=Array.from(new Set(e.filter(w=>w.group).map(w=>w.group))),_=e.filter(w=>{const T=w.name.toLowerCase().includes(u.toLowerCase())||w.address.toLowerCase().includes(u.toLowerCase())||w.location.toLowerCase().includes(u.toLowerCase()),I=f==="all"||w.type===f,F=p==="all"||w.status===p,R=g==="all"||g==="none"&&!w.group||w.group===g;return T&&I&&F&&R}),P=Math.ceil(_.length/j),C=l*j,E=C-j,S=_.slice(E,C),M=w=>{console.log("Toggle proxy:",w),v(T=>{const I=T.includes(w)?T.filter(F=>F!==w):[...T,w];return console.log("Previous selection:",T),console.log("New selection:",I),I})},O=()=>{if(console.log("Toggle all proxies"),console.log("Current items:",S),b.length===S.length)console.log("Clearing selection"),v([]);else{const w=S.map(T=>T.id);console.log("Setting all proxy IDs:",w),v(w)}},A=S.length>0&&b.length===S.length,B=b.length>0&&b.length<S.length,k=w=>{navigator.clipboard.writeText(w)};return a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-3",children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsx(wt,{children:"My Proxies"}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[a.jsx(Sn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),a.jsx(Ve,{placeholder:"Search proxies...",className:"pl-8",value:u,onChange:w=>d(w.target.value)})]}),a.jsxs(rt,{value:f,onValueChange:h,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by type"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Types"}),a.jsx(re,{value:"HTTP",children:"HTTP"}),a.jsx(re,{value:"HTTPS",children:"HTTPS"}),a.jsx(re,{value:"SOCKS4",children:"SOCKS4"}),a.jsx(re,{value:"SOCKS5",children:"SOCKS5"})]})]}),a.jsxs(rt,{value:p,onValueChange:x,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by status"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Status"}),a.jsx(re,{value:"online",children:"Online"}),a.jsx(re,{value:"offline",children:"Offline"})]})]}),a.jsxs(rt,{value:g,onValueChange:y,children:[a.jsx(et,{className:"w-[130px]",children:a.jsx(nt,{placeholder:"Filter by group"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"all",children:"All Groups"}),a.jsx(re,{value:"none",children:"No Group"}),N.map(w=>a.jsx(re,{value:w,children:w},w))]})]})]})]}),b.length>0&&a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 bg-blue-50 p-2 rounded-md border border-blue-200",children:[a.jsxs("div",{className:"text-sm font-medium py-1 px-2 inline-flex items-center",children:[a.jsx("strong",{children:b.length})," proxy",b.length>1?"ies":""," selected",a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>v([]),children:"Clear"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[i&&a.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>i(b),children:[a.jsx(ko,{className:"h-4 w-4 mr-1"})," Add to Group"]}),s&&a.jsxs(ee,{size:"sm",variant:"destructive",onClick:()=>s(b),children:[a.jsx(ro,{className:"h-4 w-4 mr-1"})," Delete All"]})]})]})]})}),a.jsxs(ft,{children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Jg,{children:[a.jsx(ex,{children:a.jsxs(Gs,{children:[a.jsx(Kt,{className:"w-[50px]",children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Yt,{checked:A,onCheckedChange:O,"aria-label":"Select all proxies",className:`data-[state=checked]:bg-blue-600 ${B?"bg-blue-400":""}`})})}),a.jsx(Kt,{className:"w-[180px]",children:"Name"}),a.jsx(Kt,{children:"Type"}),a.jsx(Kt,{children:"Address"}),a.jsx(Kt,{children:"Group"}),a.jsx(Kt,{children:"Status"}),a.jsx(Kt,{className:"text-right",children:"Actions"})]})}),a.jsx(tx,{children:S.length===0?a.jsx(Gs,{children:a.jsx(Ot,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No proxies found. Add a new proxy to get started."})}):S.map(w=>a.jsxs(Gs,{className:`h-[60px] cursor-pointer transition-colors ${b.includes(w.id)?"bg-blue-50":""}`,"data-state":b.includes(w.id)?"selected":"","data-proxy-id":w.id,onClick:()=>M(w.id),children:[a.jsx(Ot,{children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx(Yt,{checked:b.includes(w.id),onCheckedChange:()=>M(w.id),"aria-label":`Select ${w.name}`,className:"data-[state=checked]:bg-blue-600",onClick:T=>T.stopPropagation()})})}),a.jsx(Ot,{className:"font-medium",children:w.name}),a.jsx(Ot,{children:a.jsx(io,{variant:"outline",children:w.type})}),a.jsx(Ot,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"mr-1",children:w.address}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:T=>{T.stopPropagation(),k(w.address)},children:a.jsx(wn,{className:"h-3 w-3"})})]})}),a.jsx(Ot,{children:w.group||""}),a.jsx(Ot,{children:a.jsx(io,{className:w.status==="online"?"bg-green-500 text-white":"bg-red-500 text-white",children:w.status==="online"?"Online":"Offline"})}),a.jsx(Ot,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-1",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:T=>{T.stopPropagation(),n(w.id)},title:"Test connection",children:a.jsx(en,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:T=>{T.stopPropagation(),t(w)},title:"Edit proxy",children:a.jsx(Im,{className:"h-4 w-4"})}),a.jsxs(rx,{children:[a.jsx(nx,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:T=>T.stopPropagation(),children:a.jsx(qg,{className:"h-4 w-4"})})}),a.jsxs(lc,{align:"end",onClick:T=>T.stopPropagation(),children:[a.jsxs(Zt,{onClick:()=>t(w),children:[a.jsx(Im,{className:"mr-2 h-4 w-4"})," Edit"]}),a.jsxs(Zt,{onClick:()=>n(w.id),children:[a.jsx(en,{className:"mr-2 h-4 w-4"})," Test"]}),a.jsxs(Zt,{onClick:()=>k(w.address),children:[a.jsx(wn,{className:"mr-2 h-4 w-4"})," Copy Address"]}),a.jsx(Ws,{}),a.jsxs(Zt,{onClick:()=>r(w.id),className:"text-red-600",children:[a.jsx(ro,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})})]},w.id))})]})}),_.length>j&&a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",E+1," to ",Math.min(C,_.length)," of ",_.length," proxies"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>c(w=>Math.max(w-1,1)),disabled:l===1,children:"Previous"}),a.jsx("div",{className:"flex items-center",children:Array.from({length:Math.min(P,5)},(w,T)=>{let I=T+1;return P>5&&l>3&&(I=l-3+T,I>P&&(I=P-(4-T))),a.jsx(ee,{variant:l===I?"default":"outline",size:"sm",className:"w-8 h-8 p-0 mx-1",onClick:()=>c(I),children:I},I)})}),a.jsx(ee,{variant:"outline",size:"sm",onClick:()=>c(w=>Math.min(w+1,P)),disabled:l===P,children:"Next"})]})]})]})]})}function oM(){const{proxies:e=[],proxyConfig:t={enabled:!1,status:"offline",host:"",port:0,type:"HTTP"},proxyGroups:r=[],testProxyConnection:n,testProxy:s,updateProxyConfig:i,createProxy:o,deleteProxy:l,importProxies:c,addProxiesToGroup:u}=Lk(),[d,f]=m.useState([]),[h,p]=m.useState(!1),[x,g]=m.useState(null),[y,b]=m.useState(!1),[v,j]=m.useState([]),[N,_]=m.useState(""),[P,C]=m.useState("HTTP"),[E,S]=m.useState(!1),M=V=>{o(V),p(!1)},O=V=>{g(V),p(!0)},A=V=>{l(V)},B=V=>{s(V)},k=V=>{V.forEach(W=>l(W))},w=V=>{f(V)},T=V=>{j(V),b(!0)},I=V=>{u(V),b(!1)},F=V=>{c(V),p(!1)},R=()=>{n()};return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Network Management"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure and manage your proxy connections"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex justify-end mb-2",children:a.jsxs(ee,{onClick:()=>p(!0),children:[a.jsx(kn,{className:"mr-2 h-4 w-4"})," Add Proxy"]})}),a.jsx(iM,{proxies:e,onEdit:O,onDelete:A,onTest:B,onBulkDelete:k,onAddToGroup:T,onSelectionChange:w})]}),a.jsx(aM,{open:h,onOpenChange:p,onAddProxy:M,onImportProxies:F,proxyGroups:r,isLoadingProxyGroups:!1}),a.jsx(Pk,{open:y,onOpenChange:b,onAddToGroup:I,profileIds:v,groups:r}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-lg",children:"Proxy Test Tool"})}),a.jsx(ft,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"proxy-address",className:"block text-sm font-medium text-gray-700 mb-1",children:"Proxy Address"}),a.jsx(Ve,{id:"proxy-address",placeholder:"host:port",value:N,onChange:V=>_(V.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"proxy-type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Proxy Type"}),a.jsxs(rt,{value:P,onValueChange:C,children:[a.jsx(et,{children:a.jsx(nt,{placeholder:"Select proxy type"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"HTTP",children:"HTTP"}),a.jsx(re,{value:"HTTPS",children:"HTTPS"}),a.jsx(re,{value:"SOCKS4",children:"SOCKS4"}),a.jsx(re,{value:"SOCKS5",children:"SOCKS5"})]})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yt,{id:"auth-required",checked:E,onCheckedChange:V=>S(V===!0)}),a.jsx("label",{htmlFor:"auth-required",className:"ml-2 block text-sm text-gray-700",children:"Authentication Required"})]}),a.jsxs("div",{className:"pt-4 flex justify-end",children:[a.jsx(ee,{variant:"outline",className:"mr-3",onClick:()=>{_(""),C("HTTP"),S(!1)},children:"Reset"}),a.jsx(ee,{onClick:R,children:"Test Connection"})]})]})})]}),a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{className:"text-lg",children:"Connection Statistics"})}),a.jsx(ft,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Monthly Bandwidth Usage"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:"4.2 GB / 10 GB"})]}),a.jsx(Ji,{value:42,className:"h-2"})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Current Proxy Configuration"}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Status"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.enabled?"Enabled":"Disabled"})]}),a.jsx("div",{className:`h-8 w-8 rounded-full ${t.enabled&&t.status==="online"?"bg-green-100":"bg-red-100"} flex items-center justify-center`,children:t.enabled&&t.status==="online"?a.jsx(Dg,{className:"h-4 w-4 text-green-600"}):a.jsx("span",{className:"h-4 w-4 text-red-600",children:""})})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Type"}),a.jsx("p",{className:"text-sm text-gray-900",children:t.type||"Not set"})]}),a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Address"}),a.jsx("p",{className:"text-sm text-gray-900",children:t.host&&t.port?`${t.host}:${t.port}`:"Not configured"})]}),t.lastChecked&&a.jsxs("div",{className:"mt-2",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Last Checked"}),a.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.lastChecked).toLocaleString()})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx(ee,{onClick:()=>{i({enabled:!t.enabled})},variant:t.enabled?"outline":"default",size:"sm",className:"w-full",children:t.enabled?"Disable Proxy":"Enable Proxy"})})]})]})})]})]})]})}function lM(){return Ul.useSyncExternalStore(cM,()=>!0,()=>!1)}function cM(){return()=>{}}var cx="Avatar",[dM,TH]=xr(cx),[uM,Xk]=dM(cx),Jk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(uM,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Me.span,{...n,ref:t})})});Jk.displayName=cx;var eS="AvatarImage",tS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=Xk(eS,r),l=fM(n,i),c=mn(u=>{s(u),o.onImageLoadingStatusChange(u)});return dr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Me.img,{...i,ref:t,src:n}):null});tS.displayName=eS;var rS="AvatarFallback",nS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=Xk(rS,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Me.span,{...s,ref:t}):null});nS.displayName=rS;function wv(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function fM(e,{referrerPolicy:t,crossOrigin:r}){const n=lM(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>wv(i,e));return dr(()=>{l(wv(i,e))},[i,e]),dr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var sS=Jk,aS=tS,iS=nS;const Sl=m.forwardRef(({className:e,...t},r)=>a.jsx(sS,{ref:r,className:ne("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Sl.displayName=sS.displayName;const hM=m.forwardRef(({className:e,...t},r)=>a.jsx(aS,{ref:r,className:ne("aspect-square h-full w-full",e),...t}));hM.displayName=aS.displayName;const Cl=m.forwardRef(({className:e,...t},r)=>a.jsx(iS,{ref:r,className:ne("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Cl.displayName=iS.displayName;const od=(...e)=>e.filter(Boolean).join(" ");function pM(){const[e,t]=m.useState(!1),[r]=No(),n=()=>{t(!e)},s=[{group:"MANAGEMENT",items:[{href:"/profile",icon:gn,label:"H s",count:0},{href:"/network",icon:Cs,label:"Mng",count:0},{href:"/automation",icon:OR,label:"T ng ha",count:0},{href:"/settings",icon:fl,label:"Ci t",count:0}]},{group:"MARKETPLACE",items:[{href:"/store",icon:G2,label:"Ca hng",count:0},{href:"/upgrade",icon:ls,label:"Nng cp",count:0,badge:"PRO"},{href:"/deposit",icon:ls,label:"Np tin",count:0}]},{group:"SUPPORT",items:[{href:"/guide",icon:AR,label:"Hng dn",count:0}]}];return a.jsx("div",{className:"relative h-full border-r border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 transition-all duration-300 shadow-sm",style:{width:e?"5rem":"16rem"},children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 flex flex-col items-center",children:[a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:od("h-12 w-12 bg-blue-600 rounded-xl flex items-center justify-center text-white",e?"mx-auto":""),children:a.jsx(q2,{className:"h-6 w-6"})}),!e&&a.jsxs("div",{className:"ml-3",children:[a.jsx("h2",{className:"text-xl font-bold text-blue-600",children:"AntiDetect"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Browser Management"})]})]}),!e&&a.jsxs(ee,{variant:"default",className:"w-full mt-4 bg-blue-500 hover:bg-blue-600 gap-2 text-white",onClick:()=>{const i=new CustomEvent("openProfileModal");document.dispatchEvent(i)},children:[a.jsx(kn,{className:"h-4 w-4"}),a.jsx("span",{children:"Create Profile"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto pt-2",children:s.map((i,o)=>a.jsxs("div",{className:"mb-6",children:[!e&&a.jsx("h3",{className:"px-4 mb-2 text-sm font-bold text-gray-500 dark:text-gray-400",children:i.group}),a.jsx("ul",{children:i.items.map((l,c)=>a.jsx("li",{children:a.jsx(Mi,{href:l.href,className:od("flex items-center py-2.5 px-4 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",r===l.href&&"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 font-semibold border-l-4 border-blue-600 dark:border-blue-500"),children:a.jsxs("div",{className:od("flex items-center gap-3",e&&"justify-center w-full"),children:[a.jsx(l.icon,{className:"h-5 w-5"}),!e&&a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{className:"text-base font-medium",children:l.label}),l.badge&&a.jsx("span",{className:"px-1.5 py-0.5 text-xs font-semibold bg-yellow-400 text-yellow-800 rounded",children:l.badge}),l.count>0&&a.jsx("span",{className:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-gray-200 text-xs font-medium",children:l.count})]})]})})},c))})]},o))}),!e&&a.jsx("div",{className:"mt-auto p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 px-4 py-2 text-center border-b border-gray-200 dark:border-gray-600",children:a.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-200",children:"COMMON"})}),a.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/40 py-2 px-4 text-center",children:a.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-medium text-sm",children:"Dng 1000 profiles"})}),a.jsxs("div",{className:"p-3 space-y-1.5",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"H s m my"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"2/5"})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"H s cc b"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"0/0"})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Thnh vin nhm"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"0/0"})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Phin ng nhp"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"1/1"})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Gii hn to/ngy"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"2/10"})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Ht hn vo"}),a.jsx("span",{className:"text-gray-800 dark:text-gray-200 font-medium",children:"2026-05-02"})]})]}),a.jsx("div",{className:"p-3 pt-1",children:a.jsxs(ee,{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-yellow-900 gap-2 font-medium",variant:"default",onClick:()=>{window.location.href="/upgrade"},children:[a.jsx(ls,{className:"h-4 w-4"}),"Nng cp"]})})]})}),a.jsx("button",{onClick:n,className:"absolute -right-3 top-1/2 transform -translate-y-1/2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-full p-1 shadow-md z-10",children:e?a.jsx($g,{size:16,className:"text-gray-700 dark:text-gray-300"}):a.jsx(Kl,{size:16,className:"text-gray-700 dark:text-gray-300"})})]})})}function mM(){const{user:e,logout:t}=hi(),[r,n]=m.useState(!1),{theme:s,toggleTheme:i}=m.useContext(dx),o=()=>e?e.firstName&&e.lastName?`${e.firstName.charAt(0)}${e.lastName.charAt(0)}`:e.username?e.username.charAt(0).toUpperCase():"U":"?",l=async()=>{try{await t(),window.location.href="/auth"}catch(d){console.error("Logout failed:",d)}},u=(()=>{const[d]=No(),f=d||"";return f==="/"?{name:"Trang ch",icon:a.jsx(ZR,{className:"h-5 w-5 mr-2"})}:f==="/profile"?{name:"H s",icon:a.jsx(gn,{className:"h-5 w-5 mr-2"})}:f==="/network"?{name:"Mng li",icon:a.jsx(Cs,{className:"h-5 w-5 mr-2"})}:f==="/automation"?{name:"T ng ha",icon:a.jsx(YR,{className:"h-5 w-5 mr-2"})}:f==="/store"?{name:"Ca hng",icon:a.jsx(G2,{className:"h-5 w-5 mr-2"})}:f==="/deposit"?{name:"Np tin",icon:a.jsx(ls,{className:"h-5 w-5 mr-2"})}:f==="/guide"?{name:"Hng dn",icon:a.jsx(Ss,{className:"h-5 w-5 mr-2"})}:f==="/settings"?{name:"Ci t",icon:a.jsx(fl,{className:"h-5 w-5 mr-2"})}:{name:"Trang khc",icon:a.jsx(n5,{className:"h-5 w-5 mr-2"})}})();return a.jsx("header",{className:"w-full bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 py-2 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"flex items-center py-2 px-4 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-100 dark:border-blue-800",children:[u.icon,a.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:u.name})]})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:i,className:"relative",children:s==="light"?a.jsx(t5,{className:"h-5 w-5 text-gray-600"}):a.jsx(h5,{className:"h-5 w-5 text-gray-400"})}),a.jsxs("div",{className:"hidden md:flex items-center space-x-1 px-3 py-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-md border border-blue-100 dark:border-blue-800",children:[a.jsx(ls,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),a.jsx("span",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"250,000 "})]}),a.jsxs(ee,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx($2,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"}),a.jsx("span",{className:"absolute top-0 right-0 h-4 w-4 rounded-full bg-red-500 flex items-center justify-center text-[10px] text-white",children:"3"})]}),a.jsxs(rx,{open:r,onOpenChange:n,children:[a.jsx(nx,{asChild:!0,children:a.jsxs(ee,{variant:"ghost",className:"flex items-center gap-2 px-2",children:[a.jsx(Sl,{className:"h-8 w-8",children:a.jsx(Cl,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:o()})}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"text-sm font-medium dark:text-white",children:(e==null?void 0:e.username)||"User"}),a.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Premium Plan"})]}),a.jsx(_o,{className:ne("h-4 w-4 text-gray-500 transition-transform",r&&"rotate-180")})]})}),a.jsxs(lc,{align:"end",className:"w-60",children:[a.jsx(Ek,{children:"Ti khon ca ti"}),a.jsx(Ws,{}),a.jsxs(Zt,{className:"cursor-pointer",children:[a.jsx(Sl,{className:"h-8 w-8 mr-2",children:a.jsx(Cl,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:o()})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:(e==null?void 0:e.username)||"User"}),a.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(e==null?void 0:e.firstName)||""," ",(e==null?void 0:e.lastName)||"Premium User"]})]})]}),a.jsx(Ws,{}),a.jsx(Zt,{className:"cursor-pointer",asChild:!0,children:a.jsx(Mi,{href:"/profile",children:a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx(gn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Thng tin ti khon"})]})})}),a.jsx(Zt,{className:"cursor-pointer",asChild:!0,children:a.jsx(Mi,{href:"/settings",children:a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx(fl,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Ci t"})]})})}),a.jsx(Zt,{className:"cursor-pointer",asChild:!0,children:a.jsx(Mi,{href:"/deposit",children:a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx(ls,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Np tin"})]})})}),a.jsx(Zt,{className:"cursor-pointer",asChild:!0,children:a.jsx(Mi,{href:"/guide",children:a.jsxs("div",{className:"flex items-center w-full",children:[a.jsx(Gn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"H tr"})]})})}),a.jsx(Ws,{}),a.jsxs(Zt,{className:"cursor-pointer",onClick:l,children:[a.jsx(XR,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"ng xut"})]})]})]})]})]})})}const dx=m.createContext({theme:"light",toggleTheme:()=>{}});function Nr({children:e}){const[t,r]=No(),{user:n}=hi(),[s,i]=m.useState("light");m.useEffect(()=>{const l=localStorage.getItem("theme");l&&(i(l),document.documentElement.classList.toggle("dark",l==="dark"))},[]);const o=()=>{const l=s==="light"?"dark":"light";i(l),document.documentElement.classList.toggle("dark",l==="dark"),localStorage.setItem("theme",l)};return n?a.jsx(dx.Provider,{value:{theme:s,toggleTheme:o},children:a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex",children:[a.jsx(pM,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-auto",children:[a.jsx(mM,{}),a.jsx("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900",children:e})]})]})}):(r("/auth"),null)}const gM=[{value:"Asia/Ho_Chi_Minh",label:"H Ch Minh (GMT+7)"},{value:"Asia/Bangkok",label:"Bangkok (GMT+7)"},{value:"Asia/Singapore",label:"Singapore (GMT+8)"},{value:"America/New_York",label:"New York (GMT-5)"},{value:"Europe/London",label:"London (GMT+0)"}],xM=[{value:"vi",label:"Ting Vit"},{value:"en",label:"English"},{value:"zh",label:""}],yM=[{value:"light",label:"Sng"},{value:"dark",label:"Ti"}],vM={theme:"light",language:"vi",timezone:"Asia/Ho_Chi_Minh",notifications:!1,desktopNotifications:!0,soundEffects:!1,autoUpdate:!1},bM={firstName:"",lastName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""},jv={async getUserSettings(){return{system:vM,personal:bM}},async updateSystemSettings(e){return(await J.request("PATCH","/api/settings/system",e)).json()}};function wM(){const{toast:e}=yr(),{data:t,isLoading:r,error:n,refetch:s}=Ke({queryKey:["/api/settings"],queryFn:()=>jv.getUserSettings()}),i=gM,o=xM,l=yM,c=!1,u=!1,d=!1,f=ye({mutationFn:g=>ir.updateUser(jM(g)),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/settings"]}),Se.invalidateQueries({queryKey:["/api/user"]}),e({title:"Settings Updated",description:"Personal settings have been updated successfully"})},onError:g=>{e({title:"Update Failed",description:g.message,variant:"destructive"})}}),h=ye({mutationFn:g=>ir.resetPassword(g),onSuccess:g=>{e({title:"Password Updated",description:g.message||"Your password has been updated successfully"})},onError:g=>{e({title:"Password Update Failed",description:g.message,variant:"destructive"})}}),p=ye({mutationFn:g=>jv.updateSystemSettings(g),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/settings"]}),e({title:"System Settings Updated",description:"System settings have been updated successfully"})},onError:g=>{e({title:"System Settings Update Failed",description:g.message,variant:"destructive"})}}),x=ye({mutationFn:g=>ir.uploadAvatar(g),onSuccess:()=>{Se.invalidateQueries({queryKey:["/api/user"]}),e({title:"Avatar Updated",description:"Your avatar has been updated successfully"})},onError:g=>{e({title:"Avatar Update Failed",description:g.message,variant:"destructive"})}});return{userSettings:t,timezones:i,languages:o,themes:l,isLoadingSettings:r,isLoadingTimezones:c,isLoadingLanguages:u,isLoadingThemes:d,settingsError:n,refetchSettings:s,updatePersonalSettings:f.mutate,updateSystemSettings:p.mutate,updatePassword:h.mutate,uploadAvatar:x.mutate,isUpdatingPersonalSettings:f.isPending,isUpdatingSystemSettings:p.isPending,isUpdatingPassword:h.isPending,isUploadingAvatar:x.isPending}}const jM=e=>({firstName:e.firstName,lastName:e.lastName,email:e.email});function NM(){const{user:e,getInitials:t}=hi(),{theme:r,toggleTheme:n}=m.useContext(dx),[s,i]=m.useState("personal");m.useRef(null);const{userSettings:o,isLoadingSettings:l,updatePersonalSettings:c,updateSystemSettings:u,updatePassword:d,isUpdatingPersonalSettings:f,isUpdatingSystemSettings:h,isUpdatingPassword:p}=wM(),[x,g]=m.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[y,b]=m.useState({theme:r,language:(o==null?void 0:o.language)||"vi",timezone:(o==null?void 0:o.timezone)||"Asia/Ho_Chi_Minh",notifications:(o==null?void 0:o.notifications)||!1,desktopNotifications:(o==null?void 0:o.desktopNotifications)||!1,soundEffects:(o==null?void 0:o.soundEffects)||!1,autoUpdate:(o==null?void 0:o.autoUpdate)||!1}),v=E=>{const{name:S,value:M}=E.target;g(O=>({...O,[S]:M}))},j=(E,S)=>{b(M=>({...M,[E]:S}))},N=E=>{E.preventDefault(),c(x)},_=E=>{E.preventDefault(),d(x)},P=E=>{E.preventDefault(),u(y)},C=E=>{j("theme",E),E!==r&&n()};return l?a.jsxs("div",{className:"flex items-center justify-center min-h-[400px]",children:[a.jsx(ka,{className:"w-8 h-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-lg",children:"ang ti ci t..."})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Ci t"})}),a.jsxs(Qk,{defaultValue:"personal",value:s,onValueChange:i,className:"w-full",children:[a.jsxs(lx,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsxs(oo,{value:"personal",className:"flex items-center gap-2",children:[a.jsx(gn,{className:"h-4 w-4"}),a.jsx("span",{children:"Ci t c nhn"})]}),a.jsxs(oo,{value:"system",className:"flex items-center gap-2",children:[a.jsx(e5,{className:"h-4 w-4"}),a.jsx("span",{children:"Ci t h thng"})]})]}),a.jsxs(lo,{value:"personal",className:"space-y-6",children:[a.jsxs(ut,{children:[a.jsxs(bt,{children:[a.jsx(wt,{className:"text-xl",children:"Thng tin ti khon"}),a.jsx(ks,{children:"Cp nht thng tin c nhn ca bn"})]}),a.jsx(ft,{children:a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx(Sl,{className:"h-20 w-20",children:a.jsx(Cl,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 text-lg",children:t()})}),a.jsx("div",{children:a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Avatar c to t ng t ch ci u ca tn."})})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6 mt-6",children:[a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx(Le,{htmlFor:"firstName",className:"block text-sm font-medium",children:"Tn"}),a.jsx(Ve,{id:"firstName",name:"firstName",type:"text",value:x.firstName,onChange:v,className:"mt-1"})]}),a.jsxs("div",{className:"sm:col-span-3",children:[a.jsx(Le,{htmlFor:"lastName",className:"block text-sm font-medium",children:"H"}),a.jsx(Ve,{id:"lastName",name:"lastName",type:"text",value:x.lastName,onChange:v,className:"mt-1"})]}),a.jsxs("div",{className:"sm:col-span-6",children:[a.jsx(Le,{htmlFor:"email",className:"block text-sm font-medium",children:"a ch email"}),a.jsx(Ve,{id:"email",name:"email",type:"email",value:x.email,onChange:v,className:"mt-1"})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(ee,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"ang lu..."]}):"Lu thay i"})})]})})]}),a.jsxs(ut,{children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[a.jsx(Rm,{className:"h-5 w-5"}),"i mt khu"]}),a.jsx(ks,{children:"Cp nht mt khu  bo mt ti khon ca bn"})]}),a.jsx(ft,{children:a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"currentPassword",children:"Mt khu hin ti"}),a.jsx(Ve,{id:"currentPassword",name:"currentPassword",type:"password",value:x.currentPassword,onChange:v})]}),a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"newPassword",children:"Mt khu mi"}),a.jsx(Ve,{id:"newPassword",name:"newPassword",type:"password",value:x.newPassword,onChange:v})]}),a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"confirmPassword",children:"Xc nhn mt khu mi"}),a.jsx(Ve,{id:"confirmPassword",name:"confirmPassword",type:"password",value:x.confirmPassword,onChange:v})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(ee,{type:"submit",className:"bg-blue-600 hover:bg-blue-700",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"ang cp nht..."]}):"Cp nht mt khu"})})]})})]})]}),a.jsxs(lo,{value:"system",className:"space-y-6",children:[a.jsxs(ut,{children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[a.jsx(s5,{className:"h-5 w-5"}),"Giao din v ngn ng"]}),a.jsx(ks,{children:"Ty chnh giao din v ngn ng hin th"})]}),a.jsx(ft,{children:a.jsx("form",{onSubmit:P,className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"theme",children:"Giao din"}),a.jsxs(rt,{value:y.theme,onValueChange:C,children:[a.jsx(et,{className:"mt-1",children:a.jsx(nt,{placeholder:"Chn giao din"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"light",children:"Sng"}),a.jsx(re,{value:"dark",children:"Ti"})]})]})]}),a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"language",children:"Ngn ng"}),a.jsxs(rt,{value:y.language,onValueChange:E=>j("language",E),children:[a.jsx(et,{className:"mt-1",children:a.jsx(nt,{placeholder:"Chn ngn ng"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"vi",children:"Ting Vit"}),a.jsx(re,{value:"en",children:"English"}),a.jsx(re,{value:"zh",children:""})]})]})]}),a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"timezone",children:"Mi gi"}),a.jsxs(rt,{value:y.timezone,onValueChange:E=>j("timezone",E),children:[a.jsx(et,{className:"mt-1",children:a.jsx(nt,{placeholder:"Chn mi gi"})}),a.jsxs(tt,{children:[a.jsx(re,{value:"Asia/Ho_Chi_Minh",children:"H Ch Minh (GMT+7)"}),a.jsx(re,{value:"Asia/Bangkok",children:"Bangkok (GMT+7)"}),a.jsx(re,{value:"Asia/Singapore",children:"Singapore (GMT+8)"}),a.jsx(re,{value:"America/New_York",children:"New York (GMT-5)"}),a.jsx(re,{value:"Europe/London",children:"London (GMT+0)"})]})]})]})]})})})]}),a.jsxs(ut,{children:[a.jsxs(bt,{children:[a.jsxs(wt,{className:"text-xl flex items-center gap-2",children:[a.jsx($2,{className:"h-5 w-5"}),"Thng bo"]}),a.jsx(ks,{children:"Qun l cch bn nhn thng bo"})]}),a.jsx(ft,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Le,{className:"text-base",children:"Thng bo trong ng dng"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Nhn thng bo bn trong ng dng"})]}),a.jsx(or,{checked:y.notifications,onCheckedChange:E=>j("notifications",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Le,{className:"text-base",children:"Thng bo trn mn hnh"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hin th thng bo ngay c khi bn khng ang s dng ng dng"})]}),a.jsx(or,{checked:y.desktopNotifications,onCheckedChange:E=>j("desktopNotifications",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Le,{className:"text-base",children:"m thanh"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pht m thanh khi c thng bo mi"})]}),a.jsx(or,{checked:y.soundEffects,onCheckedChange:E=>j("soundEffects",E)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Le,{className:"text-base",children:"T ng cp nht"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"T ng cp nht ng dng khi c phin bn mi"})]}),a.jsx(or,{checked:y.autoUpdate,onCheckedChange:E=>j("autoUpdate",E)})]})]})}),a.jsx(Lg,{children:a.jsx(ee,{type:"button",className:"ml-auto bg-blue-600 hover:bg-blue-700",onClick:P,disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(ka,{className:"mr-2 h-4 w-4 animate-spin"}),"ang lu..."]}):"Lu thay i"})})]})]})]})]})}const _M=({title:e})=>a.jsx("div",{className:"bg-gradient-to-r from-blue-900 to-blue-700 text-white py-6",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"flex space-x-8 items-center",children:a.jsx("h1",{className:"text-2xl font-bold",children:e})}),a.jsx(ee,{variant:"default",className:"bg-blue-500 hover:bg-blue-600 text-white",children:"ng k bn hng"})]})})}),kM=({onSearch:e,value:t=""})=>{const[r,n]=m.useState(t),s=i=>{i.preventDefault(),e(r)};return t!==""&&t!==r&&n(t),a.jsxs("form",{onSubmit:s,className:"relative flex w-full",children:[a.jsxs("div",{className:"relative w-full",children:[a.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),a.jsx(Ve,{type:"text",placeholder:"Tm kim ng dng...",value:r,onChange:i=>n(i.target.value),className:"pl-10 pr-24 h-12 bg-white border-blue-200 focus:border-blue-500 focus:ring-blue-500 rounded-md w-full"})]}),a.jsx(ee,{type:"submit",className:"absolute right-0 top-0 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-r-md px-5",children:"Tm kim"})]})};function ba({className:e,...t}){return a.jsx("div",{className:ne("animate-pulse rounded-md bg-muted",e),...t})}const SM=({categories:e,activeCategory:t,onCategoryChange:r,isLoading:n=!1})=>n?a.jsx("div",{className:"my-6",children:a.jsx("div",{className:"flex overflow-x-auto pb-2 hide-scrollbar",children:a.jsx("div",{className:"flex space-x-2",children:Array.from({length:5}).map((s,i)=>a.jsx(ba,{className:"h-10 w-28 rounded-full"},i))})})}):a.jsx("div",{className:"my-6",children:a.jsx("div",{className:"flex overflow-x-auto pb-2 hide-scrollbar",children:a.jsx("div",{className:"flex space-x-2",children:e.map(s=>a.jsx("button",{onClick:()=>r(s.id),className:ne("px-4 py-2 text-sm font-medium rounded-full whitespace-nowrap transition-colors",t===s.id?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"),children:s.name},s.id))})})}),Nv=({rating:e,maxRating:t=5,interactive:r=!1,onClick:n,onRate:s})=>a.jsx("div",{className:"flex",onClick:n,children:[...Array(t)].map((i,o)=>a.jsx(f5,{className:`h-4 w-4 ${o<e?"text-yellow-400 fill-yellow-400":"text-gray-300"} ${r?"cursor-pointer hover:scale-110 transition-transform":""}`,onClick:r&&s?()=>s(o+1):void 0},o))}),CM=({product:e,onInstall:t,onRate:r})=>{const[n,s]=m.useState(!1),[i,o]=m.useState(!1),l=()=>{t&&t()},c=u=>{r&&(r(u),o(!1))};return a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md hover:shadow-lg transition-shadow duration-300 border border-gray-200",onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),o(!1)},children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover object-center"}),e.isMobile&&a.jsx("span",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-medium px-2 py-1 rounded",children:"Mobile"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-1 line-clamp-2 h-12",children:e.name}),a.jsx("div",{className:"flex items-center mb-2",children:i?a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nv,{rating:0,onRate:c,interactive:!0}),a.jsx("button",{className:"text-xs text-gray-500 ml-2",onClick:()=>o(!1),children:"Hy"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Nv,{rating:e.rating,onClick:()=>o(!0)}),a.jsxs("span",{className:"text-xs text-gray-600 ml-2",children:["(",e.views," Views)"]})]})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-lg font-bold text-blue-600",children:e.price}),n&&t&&a.jsxs(ee,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:l,children:[a.jsx(Za,{className:"h-4 w-4 mr-1"}),"Ci t"]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 flex items-center text-sm text-gray-600",children:[a.jsx(W2,{className:"w-4 h-4 mr-1"}),a.jsx("span",{children:"Cung cp bi: "}),a.jsx("span",{className:"ml-1 text-blue-600",children:e.provider})]})]})]})},TM=({products:e,isLoading:t=!1,onInstall:r,onRate:n})=>t?a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mt-6",children:Array.from({length:8}).map((s,i)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx(ba,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(ba,{className:"h-6 w-3/4"}),a.jsx(ba,{className:"h-4 w-1/2"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ba,{className:"h-4 w-20"}),a.jsx(ba,{className:"h-8 w-24 rounded-full"})]})]})]},i))}):e.length===0?a.jsxs("div",{className:"py-16 text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Khng tm thy sn phm"}),a.jsx("p",{className:"mt-2 text-gray-500",children:"Vui lng th tm kim vi t kha khc hoc chn danh mc khc."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 mt-6",children:e.map(s=>a.jsx(CM,{product:s,onInstall:r?()=>r(s.id):void 0,onRate:n?i=>n(s.id,i):void 0},s.id))}),EM=({currentPage:e,totalPages:t,onPageChange:r})=>{const n=Array.from({length:t},(o,l)=>l+1),i=t<=7?n:e<=4?[...n.slice(0,5),"...",t]:e>=t-3?[1,"...",...n.slice(t-5)]:[1,"...",e-1,e,e+1,"...",t];return a.jsxs("div",{className:"flex justify-center items-center mt-8 mb-4",children:[a.jsx(ee,{variant:"outline",size:"icon",onClick:()=>r(Math.max(1,e-1)),disabled:e===1,className:"mr-2",children:a.jsx(Kl,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex space-x-2",children:i.map((o,l)=>o==="..."?a.jsx("span",{className:"px-3 py-2",children:"..."},`ellipsis-${l}`):a.jsx(ee,{variant:e===o?"default":"outline",className:ne("min-w-[40px]",e===o?"bg-blue-600":"bg-white"),onClick:()=>typeof o=="number"&&r(o),children:o},`page-${o}`))}),a.jsx(ee,{variant:"outline",size:"icon",onClick:()=>r(Math.min(t,e+1)),disabled:e===t,className:"ml-2",children:a.jsx($g,{className:"h-4 w-4"})})]})},_r={async getProducts(e){const t=new URLSearchParams;e&&(e.categoryId&&t.append("categoryId",e.categoryId),e.search&&t.append("search",e.search),e.minPrice!==void 0&&t.append("minPrice",e.minPrice.toString()),e.maxPrice!==void 0&&t.append("maxPrice",e.maxPrice.toString()),e.installed!==void 0&&t.append("installed",e.installed.toString()),e.featured!==void 0&&t.append("featured",e.featured.toString()),e.tags&&e.tags.length>0&&t.append("tags",e.tags.join(",")),e.sortBy&&t.append("sortBy",e.sortBy),e.sortDirection&&t.append("sortDirection",e.sortDirection));const r=`/api/store/products${t.toString()?"?"+t.toString():""}`;return Kr(J.request("GET",r),"StoreFunctionalService","getProducts")},async getProductsByCategory(e){return(await J.request("GET",`/api/store/products/category/${e}`)).json()},async searchProducts(e){return(await J.request("GET",`/api/store/products/search?q=${encodeURIComponent(e)}`)).json()},async getProductDetails(e){return(await J.request("GET",`/api/store/products/${e}`)).json()},async getCategories(){return Kr(J.request("GET","/api/store/categories"),"StoreFunctionalService","getCategories")},async installProduct(e){return(await J.request("POST",`/api/store/products/${e}/install`)).json()},async uninstallProduct(e){return(await J.request("POST",`/api/store/products/${e}/uninstall`)).json()},async rateProduct(e,t,r){return(await J.request("POST",`/api/store/products/${e}/rate`,{rating:t,comment:r})).json()},async getProductReviews(e){return(await J.request("GET",`/api/store/products/${e}/reviews`)).json()},async purchaseProduct(e){return(await J.request("POST",`/api/store/products/${e}/purchase`)).json()},async getInstalledProducts(){return Kr(J.request("GET","/api/store/products/installed"),"StoreFunctionalService","getInstalledProducts")},async getFeaturedProducts(){return Kr(J.request("GET","/api/store/products/featured"),"StoreFunctionalService","getFeaturedProducts")},async getTags(){return Kr(J.request("GET","/api/store/tags"),"StoreFunctionalService","getTags")}};function PM(){const{toast:e}=yr(),[t,r]=m.useState("all"),[n,s]=m.useState(""),[i,o]=m.useState({}),{data:l,isLoading:c,error:u,refetch:d}=Ke({queryKey:["/api/store/products",i],queryFn:()=>_r.getProducts(i)}),f=Array.isArray(l)?l:[],{data:h,isLoading:p,error:x}=Ke({queryKey:["/api/store/categories"],queryFn:()=>_r.getCategories()}),g=Array.isArray(h)?h:[],{data:y,isLoading:b}=Ke({queryKey:["/api/store/products/featured"],queryFn:()=>_r.getFeaturedProducts()}),v=Array.isArray(y)?y:[],{data:j,isLoading:N,refetch:_}=Ke({queryKey:["/api/store/products/installed"],queryFn:()=>_r.getInstalledProducts()}),P=Array.isArray(j)?j:[],{data:C,isLoading:E}=Ke({queryKey:["/api/store/tags"],queryFn:()=>_r.getTags()}),S=Array.isArray(C)?C:[],M=z=>Ke({queryKey:["/api/store/products",z],queryFn:()=>_r.getProductDetails(z),enabled:!!z}),O=z=>Ke({queryKey:["/api/store/products",z,"reviews"],queryFn:()=>_r.getProductReviews(z),enabled:!!z}),A=ye({mutationFn:z=>_r.installProduct(z),onSuccess:z=>{z.success?(Se.invalidateQueries({queryKey:["/api/store/products"]}),Se.invalidateQueries({queryKey:["/api/store/products/installed"]}),e({title:"Ci t thnh cng",description:z.message||"Sn phm  c ci t"})):e({title:"Ci t tht bi",description:z.message||"Khng th ci t sn phm",variant:"destructive"})},onError:z=>{e({title:"Ci t tht bi",description:z.message,variant:"destructive"})}}),B=ye({mutationFn:z=>_r.uninstallProduct(z),onSuccess:z=>{z.success?(Se.invalidateQueries({queryKey:["/api/store/products"]}),Se.invalidateQueries({queryKey:["/api/store/products/installed"]}),e({title:"G ci t thnh cng",description:z.message||"Sn phm  c g ci t"})):e({title:"G ci t tht bi",description:z.message||"Khng th g ci t sn phm",variant:"destructive"})},onError:z=>{e({title:"G ci t tht bi",description:z.message,variant:"destructive"})}}),k=ye({mutationFn:({productId:z,rating:Z,comment:ce})=>_r.rateProduct(z,Z,ce),onSuccess:z=>{z.success?(Se.invalidateQueries({queryKey:["/api/store/products"]}),e({title:"nh gi thnh cng",description:"Cm n bn  gi nh gi"})):e({title:"nh gi tht bi",description:"Khng th gi nh gi",variant:"destructive"})},onError:z=>{e({title:"nh gi tht bi",description:z.message,variant:"destructive"})}}),w=ye({mutationFn:z=>_r.purchaseProduct(z),onSuccess:z=>{z.success?(Se.invalidateQueries({queryKey:["/api/store/products"]}),e({title:"Mua thnh cng",description:z.message||"Sn phm  c mua"})):e({title:"Mua tht bi",description:z.message||"Khng th mua sn phm",variant:"destructive"})},onError:z=>{e({title:"Mua tht bi",description:z.message,variant:"destructive"})}});return{activeCategory:t,searchQuery:n,filters:i,setActiveCategory:z=>{r(z),o(Z=>({...Z,categoryId:z==="all"?void 0:z}))},setSearchQuery:z=>{s(z),o(Z=>({...Z,search:z}))},setFilters:z=>{o(Z=>({...Z,...z}))},products:f,categories:g,featuredProducts:v,installedProducts:P,tags:S,isLoadingProducts:c,isLoadingCategories:p,isLoadingFeaturedProducts:b,isLoadingInstalledProducts:N,isLoadingTags:E,productsError:u,categoriesError:x,refetchProducts:d,refetchInstalledProducts:_,getProductDetails:M,getProductReviews:O,installProduct:z=>{A.mutate(z)},uninstallProduct:z=>{B.mutate(z)},rateProduct:(z,Z,ce)=>{k.mutate({productId:z,rating:Z,comment:ce})},purchaseProduct:z=>{w.mutate(z)},isInstallingProduct:A.isPending,isUninstallingProduct:B.isPending,isRatingProduct:k.isPending,isPurchasingProduct:w.isPending}}function AM(){const{activeCategory:e,searchQuery:t,products:r,categories:n,isLoadingProducts:s,isLoadingCategories:i,setActiveCategory:o,setSearchQuery:l,installProduct:c,rateProduct:u}=PM(),[d,f]=m.useState(1),h=12,p=Math.ceil(r.length/h),x=r.slice((d-1)*h,d*h);return m.useEffect(()=>{f(1)},[e,t]),a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(_M,{title:"Ch ng dng"}),a.jsxs("div",{className:"container mx-auto px-4 py-6",children:[a.jsx("div",{className:"w-full max-w-4xl mx-auto mb-8",children:a.jsx("div",{className:"relative",children:a.jsx(kM,{onSearch:l,value:t})})}),a.jsx(SM,{categories:n,activeCategory:e,onCategoryChange:o,isLoading:i}),a.jsx(TM,{products:x,isLoading:s,onInstall:c,onRate:u}),p>1&&a.jsx(EM,{currentPage:d,totalPages:p,onPageChange:f})]})]})}const oS=typeof document<"u"?D.useLayoutEffect:()=>{};function RM(e){const t=m.useRef(null);return oS(()=>{t.current=e},[e]),m.useCallback((...r)=>{const n=t.current;return n==null?void 0:n(...r)},[])}const ws=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},Es=e=>e&&"window"in e&&e.window===e?e:ws(e).defaultView||window;function IM(e){return e!==null&&typeof e=="object"&&"nodeType"in e&&typeof e.nodeType=="number"}function MM(e){return IM(e)&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in e}let OM=!1;function ux(){return OM}function lS(e,t){if(!ux())return t&&e?e.contains(t):!1;if(!e||!t)return!1;let r=t;for(;r!==null;){if(r===e)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:MM(r)?r=r.host:r=r.parentNode}return!1}const Um=(e=document)=>{var t;if(!ux())return e.activeElement;let r=e.activeElement;for(;r&&"shadowRoot"in r&&(!((t=r.shadowRoot)===null||t===void 0)&&t.activeElement);)r=r.shadowRoot.activeElement;return r};function cS(e){return ux()&&e.target.shadowRoot&&e.composedPath?e.composedPath()[0]:e.target}function FM(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(r=>e.test(r.brand)))||e.test(window.navigator.userAgent)}function LM(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function dS(e){let t=null;return()=>(t==null&&(t=e()),t)}const $M=dS(function(){return LM(/^Mac/i)}),DM=dS(function(){return FM(/Android/i)});function uS(){let e=m.useRef(new Map),t=m.useCallback((s,i,o,l)=>{let c=l!=null&&l.once?(...u)=>{e.current.delete(o),o(...u)}:o;e.current.set(o,{type:i,eventTarget:s,fn:c,options:l}),s.addEventListener(i,c,l)},[]),r=m.useCallback((s,i,o,l)=>{var c;let u=((c=e.current.get(o))===null||c===void 0?void 0:c.fn)||o;s.removeEventListener(i,u,l),e.current.delete(o)},[]),n=m.useCallback(()=>{e.current.forEach((s,i)=>{r(s.eventTarget,s.type,i,s.options)})},[r]);return m.useEffect(()=>n,[n]),{addGlobalListener:t,removeGlobalListener:r,removeAllGlobalListeners:n}}function qM(e){return e.mozInputSource===0&&e.isTrusted?!0:DM()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function fS(e){let t=e;return t.nativeEvent=e,t.isDefaultPrevented=()=>t.defaultPrevented,t.isPropagationStopped=()=>t.cancelBubble,t.persist=()=>{},t}function VM(e,t){Object.defineProperty(e,"target",{value:t}),Object.defineProperty(e,"currentTarget",{value:t})}function hS(e){let t=m.useRef({isFocused:!1,observer:null});oS(()=>{const n=t.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=RM(n=>{e==null||e(n)});return m.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){t.current.isFocused=!0;let s=n.target,i=o=>{if(t.current.isFocused=!1,s.disabled){let l=fS(o);r(l)}t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};s.addEventListener("focusout",i,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&s.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let l=s===document.activeElement?null:document.activeElement;s.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let BM=!1,Co=null,Km=new Set,eo=new Map,Js=!1,Zm=!1;const GM={Tab:!0,Escape:!0};function fx(e,t){for(let r of Km)r(e,t)}function WM(e){return!(e.metaKey||!$M()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Tl(e){Js=!0,WM(e)&&(Co="keyboard",fx("keyboard",e))}function Ea(e){Co="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Js=!0,fx("pointer",e))}function pS(e){qM(e)&&(Js=!0,Co="virtual")}function mS(e){e.target===window||e.target===document||BM||!e.isTrusted||(!Js&&!Zm&&(Co="virtual",fx("virtual",e)),Js=!1,Zm=!1)}function gS(){Js=!1,Zm=!0}function Ym(e){if(typeof window>"u"||typeof document>"u"||eo.get(Es(e)))return;const t=Es(e),r=ws(e);let n=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){Js=!0,n.apply(this,arguments)},r.addEventListener("keydown",Tl,!0),r.addEventListener("keyup",Tl,!0),r.addEventListener("click",pS,!0),t.addEventListener("focus",mS,!0),t.addEventListener("blur",gS,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Ea,!0),r.addEventListener("pointermove",Ea,!0),r.addEventListener("pointerup",Ea,!0)),t.addEventListener("beforeunload",()=>{xS(e)},{once:!0}),eo.set(t,{focus:n})}const xS=(e,t)=>{const r=Es(e),n=ws(e);t&&n.removeEventListener("DOMContentLoaded",t),eo.has(r)&&(r.HTMLElement.prototype.focus=eo.get(r).focus,n.removeEventListener("keydown",Tl,!0),n.removeEventListener("keyup",Tl,!0),n.removeEventListener("click",pS,!0),r.removeEventListener("focus",mS,!0),r.removeEventListener("blur",gS,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Ea,!0),n.removeEventListener("pointermove",Ea,!0),n.removeEventListener("pointerup",Ea,!0)),eo.delete(r))};function zM(e){const t=ws(e);let r;return t.readyState!=="loading"?Ym(e):(r=()=>{Ym(e)},t.addEventListener("DOMContentLoaded",r)),()=>xS(e,r)}typeof document<"u"&&zM();function yS(){return Co!=="pointer"}const HM=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function UM(e,t,r){let n=ws(r==null?void 0:r.target);const s=typeof window<"u"?Es(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,i=typeof window<"u"?Es(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?Es(r==null?void 0:r.target).HTMLElement:HTMLElement,l=typeof window<"u"?Es(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return e=e||n.activeElement instanceof s&&!HM.has(n.activeElement.type)||n.activeElement instanceof i||n.activeElement instanceof o&&n.activeElement.isContentEditable,!(e&&t==="keyboard"&&r instanceof l&&!GM[r.key])}function KM(e,t,r){Ym(),m.useEffect(()=>{let n=(s,i)=>{UM(!!(r!=null&&r.isTextInput),s,i)&&e(yS())};return Km.add(n),()=>{Km.delete(n)}},t)}function ZM(e){let{isDisabled:t,onFocus:r,onBlur:n,onFocusChange:s}=e;const i=m.useCallback(c=>{if(c.target===c.currentTarget)return n&&n(c),s&&s(!1),!0},[n,s]),o=hS(i),l=m.useCallback(c=>{const u=ws(c.target),d=u?Um(u):Um();c.target===c.currentTarget&&d===cS(c.nativeEvent)&&(r&&r(c),s&&s(!0),o(c))},[s,r,o]);return{focusProps:{onFocus:!t&&(r||s||n)?l:void 0,onBlur:!t&&(n||s)?i:void 0}}}function YM(e){let{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:s}=e,i=m.useRef({isFocusWithin:!1}),{addGlobalListener:o,removeAllGlobalListeners:l}=uS(),c=m.useCallback(f=>{f.currentTarget.contains(f.target)&&i.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(i.current.isFocusWithin=!1,l(),r&&r(f),s&&s(!1))},[r,s,i,l]),u=hS(c),d=m.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const h=ws(f.target),p=Um(h);if(!i.current.isFocusWithin&&p===cS(f.nativeEvent)){n&&n(f),s&&s(!0),i.current.isFocusWithin=!0,u(f);let x=f.currentTarget;o(h,"focus",g=>{if(i.current.isFocusWithin&&!lS(x,g.target)){let y=new h.defaultView.FocusEvent("blur",{relatedTarget:g.target});VM(y,x);let b=fS(y);c(b)}},{capture:!0})}},[n,s,u,o,c]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:c}}}let Qm=!1,ld=0;function QM(){Qm=!0,setTimeout(()=>{Qm=!1},50)}function _v(e){e.pointerType==="touch"&&QM()}function XM(){if(!(typeof document>"u"))return typeof PointerEvent<"u"&&document.addEventListener("pointerup",_v),ld++,()=>{ld--,!(ld>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",_v)}}function JM(e){let{onHoverStart:t,onHoverChange:r,onHoverEnd:n,isDisabled:s}=e,[i,o]=m.useState(!1),l=m.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;m.useEffect(XM,[]);let{addGlobalListener:c,removeAllGlobalListeners:u}=uS(),{hoverProps:d,triggerHoverEnd:f}=m.useMemo(()=>{let h=(g,y)=>{if(l.pointerType=y,s||y==="touch"||l.isHovered||!g.currentTarget.contains(g.target))return;l.isHovered=!0;let b=g.currentTarget;l.target=b,c(ws(g.target),"pointerover",v=>{l.isHovered&&l.target&&!lS(l.target,v.target)&&p(v,v.pointerType)},{capture:!0}),t&&t({type:"hoverstart",target:b,pointerType:y}),r&&r(!0),o(!0)},p=(g,y)=>{let b=l.target;l.pointerType="",l.target=null,!(y==="touch"||!l.isHovered||!b)&&(l.isHovered=!1,u(),n&&n({type:"hoverend",target:b,pointerType:y}),r&&r(!1),o(!1))},x={};return typeof PointerEvent<"u"&&(x.onPointerEnter=g=>{Qm&&g.pointerType==="mouse"||h(g,g.pointerType)},x.onPointerLeave=g=>{!s&&g.currentTarget.contains(g.target)&&p(g,g.pointerType)}),{hoverProps:x,triggerHoverEnd:p}},[t,r,n,s,l,c,u]);return m.useEffect(()=>{s&&f({currentTarget:l.target},l.pointerType)},[s]),{hoverProps:d,isHovered:i}}function vS(e={}){let{autoFocus:t=!1,isTextInput:r,within:n}=e,s=m.useRef({isFocused:!1,isFocusVisible:t||yS()}),[i,o]=m.useState(!1),[l,c]=m.useState(()=>s.current.isFocused&&s.current.isFocusVisible),u=m.useCallback(()=>c(s.current.isFocused&&s.current.isFocusVisible),[]),d=m.useCallback(p=>{s.current.isFocused=p,o(p),u()},[u]);KM(p=>{s.current.isFocusVisible=p,u()},[],{isTextInput:r});let{focusProps:f}=ZM({isDisabled:n,onFocusChange:d}),{focusWithinProps:h}=YM({isDisabled:!n,onFocusWithinChange:d});return{isFocused:i,isFocusVisible:l,focusProps:n?h:f}}var e6=Object.defineProperty,t6=(e,t,r)=>t in e?e6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cd=(e,t,r)=>(t6(e,typeof t!="symbol"?t+"":t,r),r);let r6=class{constructor(){cd(this,"current",this.detect()),cd(this,"handoffState","pending"),cd(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},bS=new r6;function wS(e){var t,r;return bS.isServer?null:e?"ownerDocument"in e?e.ownerDocument:"current"in e?(r=(t=e.current)==null?void 0:t.ownerDocument)!=null?r:document:null:document}function jS(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function NS(){let e=[],t={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),t.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return jS(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=NS();return r(n),this.add(()=>n.dispose())},add(r){return e.includes(r)||e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let s of e.splice(n,1))s()}},dispose(){for(let r of e.splice(0))r()}};return t}function n6(){let[e]=m.useState(NS);return m.useEffect(()=>()=>e.dispose(),[e]),e}let ei=(e,t)=>{bS.isServer?m.useEffect(e,t):m.useLayoutEffect(e,t)};function Di(e){let t=m.useRef(e);return ei(()=>{t.current=e},[e]),t}let Yr=function(e){let t=Di(e);return D.useCallback((...r)=>t.current(...r),[t])};function s6(e){let t=e.width/2,r=e.height/2;return{top:e.clientY-r,right:e.clientX+t,bottom:e.clientY+r,left:e.clientX-t}}function a6(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function i6({disabled:e=!1}={}){let t=m.useRef(null),[r,n]=m.useState(!1),s=n6(),i=Yr(()=>{t.current=null,n(!1),s.dispose()}),o=Yr(l=>{if(s.dispose(),t.current===null){t.current=l.currentTarget,n(!0);{let c=wS(l.currentTarget);s.addEventListener(c,"pointerup",i,!1),s.addEventListener(c,"pointermove",u=>{if(t.current){let d=s6(u);n(a6(d,t.current.getBoundingClientRect()))}},!1),s.addEventListener(c,"pointercancel",i,!1)}}});return{pressed:r,pressProps:e?{}:{onPointerDown:o,onPointerUp:i,onClick:i}}}function kv(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function zs(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zs),n}var Xm=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Xm||{}),o6=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(o6||{});function gi(){let e=c6();return m.useCallback(t=>l6({mergeRefs:e,...t}),[e])}function l6({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:s,visible:i=!0,name:o,mergeRefs:l}){l=l??d6;let c=_S(t,e);if(i)return zo(c,r,n,o,l);let u=s??0;if(u&2){let{static:d=!1,...f}=c;if(d)return zo(f,r,n,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return zs(d?0:1,{0(){return null},1(){return zo({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return zo(c,r,n,o,l)}function zo(e,t={},r,n,s){let{as:i=r,children:o,refName:l="ref",...c}=dd(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let h=!1,p=[];for(let[x,g]of Object.entries(t))typeof g=="boolean"&&(h=!0),g===!0&&p.push(x.replace(/([A-Z])/g,y=>`-${y.toLowerCase()}`));if(h){f["data-headlessui-state"]=p.join(" ");for(let x of p)f[`data-${x}`]=""}}if(i===m.Fragment&&(Object.keys(ua(c)).length>0||Object.keys(ua(f)).length>0))if(!m.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(ua(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ua(c)).concat(Object.keys(ua(f))).map(h=>`  - ${h}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(h=>`  - ${h}`).join(`
`)].join(`
`))}else{let h=d.props,p=h==null?void 0:h.className,x=typeof p=="function"?(...b)=>kv(p(...b),c.className):kv(p,c.className),g=x?{className:x}:{},y=_S(d.props,ua(dd(c,["ref"])));for(let b in f)b in y&&delete f[b];return m.cloneElement(d,Object.assign({},y,f,u,{ref:s(u6(d),u.ref)},g))}return m.createElement(i,Object.assign({},dd(c,["ref"]),i!==m.Fragment&&u,i!==m.Fragment&&f),d)}function c6(){let e=m.useRef([]),t=m.useCallback(r=>{for(let n of e.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return e.current=r,t}}function d6(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function _S(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[s=>{var i;return(i=s==null?void 0:s.preventDefault)==null?void 0:i.call(s)}]);for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let l of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;l(s,...i)}}});return t}function kS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];for(let n in r)Object.assign(t,{[n](...s){let i=r[n];for(let o of i)o==null||o(...s)}});return t}function xi(e){var t;return Object.assign(m.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ua(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function dd(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function u6(e){return D.version.split(".")[0]>="19"?e.props.ref:e.ref}let f6="span";var SS=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(SS||{});function h6(e,t){var r;let{features:n=1,...s}=e,i={ref:t,"aria-hidden":(n&2)===2?!0:(r=s["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return gi()({ourProps:i,theirProps:s,slot:{},defaultTag:f6,name:"Hidden"})}let CS=xi(h6),p6=Symbol();function To(...e){let t=m.useRef(e);m.useEffect(()=>{t.current=e},[e]);let r=Yr(n=>{for(let s of t.current)s!=null&&(typeof s=="function"?s(n):s.current=n)});return e.every(n=>n==null||(n==null?void 0:n[p6]))?void 0:r}var Sr=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Sr||{});let m6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),g6=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Cr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Cr||{}),qi=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(qi||{}),x6=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(x6||{});function y6(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(m6)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function v6(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(g6)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var b6=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(b6||{}),w6=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(w6||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let j6=["textarea","input"].join(",");function N6(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,j6))!=null?r:!1}function Sa(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fa(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Sa(e):e:t&64?v6(e):y6(e);s.length>0&&o.length>1&&(o=o.filter(p=>!s.some(x=>x!=null&&"current"in x?(x==null?void 0:x.current)===p:x===p))),n=n??i.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,h;do{if(d>=f||d+f<=0)return 0;let p=c+d;if(t&16)p=(p+f)%f;else{if(p<0)return 3;if(p>=f)return 1}h=o[p],h==null||h.focus(u),d+=l}while(h!==i.activeElement);return t&6&&N6(h)&&h.select(),2}function _6(e,t){return m.useMemo(()=>{var r;if(e.type)return e.type;let n=(r=e.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function k6(){let e=m.useRef(!1);return ei(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function S6({onFocus:e}){let[t,r]=m.useState(!0),n=k6();return t?D.createElement(CS,{as:"button",type:"button",features:SS.Focusable,onFocus:s=>{s.preventDefault();let i,o=50;function l(){if(o--<=0){i&&cancelAnimationFrame(i);return}if(e()){if(cancelAnimationFrame(i),!n.current)return;r(!1);return}i=requestAnimationFrame(l)}i=requestAnimationFrame(l)}}):null}const TS=m.createContext(null);function C6(){return{groups:new Map,get(e,t){var r;let n=this.groups.get(e);n||(n=new Map,this.groups.set(e,n));let s=(r=n.get(t))!=null?r:0;n.set(t,s+1);let i=Array.from(n.keys()).indexOf(t);function o(){let l=n.get(t);l>1?n.set(t,l-1):n.delete(t)}return[i,o]}}}function T6({children:e}){let t=m.useRef(C6());return m.createElement(TS.Provider,{value:t},e)}function ES(e){let t=m.useContext(TS);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let r=m.useId(),[n,s]=t.current.get(e,r);return m.useEffect(()=>s,[]),n}var E6=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(E6||{}),P6=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(P6||{}),A6=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(A6||{});let R6={0(e,t){var r;let n=Sa(e.tabs,d=>d.current),s=Sa(e.panels,d=>d.current),i=n.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),o={...e,tabs:n,panels:s};if(t.index<0||t.index>n.length-1){let d=zs(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>zs(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return o;let f=zs(d,{0:()=>n.indexOf(i[0]),1:()=>n.indexOf(i[i.length-1])});return{...o,selectedIndex:f===-1?e.selectedIndex:f}}let l=n.slice(0,t.index),c=[...n.slice(t.index),...l].find(d=>i.includes(d));if(!c)return o;let u=(r=n.indexOf(c))!=null?r:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...o,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let r=e.tabs[e.selectedIndex],n=Sa([...e.tabs,t.tab],i=>i.current),s=e.selectedIndex;return e.info.current.isControlled||(s=n.indexOf(r),s===-1&&(s=e.selectedIndex)),{...e,tabs:n,selectedIndex:s}},2(e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Sa([...e.panels,t.panel],r=>r.current)}},4(e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},hx=m.createContext(null);hx.displayName="TabsDataContext";function ti(e){let t=m.useContext(hx);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ti),r}return t}let px=m.createContext(null);px.displayName="TabsActionsContext";function mx(e){let t=m.useContext(px);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,mx),r}return t}function I6(e,t){return zs(t.type,R6,e,t)}let M6="div";function O6(e,t){let{defaultIndex:r=0,vertical:n=!1,manual:s=!1,onChange:i,selectedIndex:o=null,...l}=e;const c=n?"vertical":"horizontal",u=s?"manual":"auto";let d=o!==null,f=Di({isControlled:d}),h=To(t),[p,x]=m.useReducer(I6,{info:f,selectedIndex:o??r,tabs:[],panels:[]}),g=m.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),y=Di(i||(()=>{})),b=Di(p.tabs),v=m.useMemo(()=>({orientation:c,activation:u,...p}),[c,u,p]),j=Yr(M=>(x({type:1,tab:M}),()=>x({type:2,tab:M}))),N=Yr(M=>(x({type:3,panel:M}),()=>x({type:4,panel:M}))),_=Yr(M=>{P.current!==M&&y.current(M),d||x({type:0,index:M})}),P=Di(d?e.selectedIndex:p.selectedIndex),C=m.useMemo(()=>({registerTab:j,registerPanel:N,change:_}),[]);ei(()=>{x({type:0,index:o??r})},[o]),ei(()=>{if(P.current===void 0||p.tabs.length<=0)return;let M=Sa(p.tabs,O=>O.current);M.some((O,A)=>p.tabs[A]!==O)&&_(M.indexOf(p.tabs[P.current]))});let E={ref:h},S=gi();return D.createElement(T6,null,D.createElement(px.Provider,{value:C},D.createElement(hx.Provider,{value:v},v.tabs.length<=0&&D.createElement(S6,{onFocus:()=>{var M,O;for(let A of b.current)if(((M=A.current)==null?void 0:M.tabIndex)===0)return(O=A.current)==null||O.focus(),!0;return!1}}),S({ourProps:E,theirProps:l,slot:g,defaultTag:M6,name:"Tabs"}))))}let F6="div";function L6(e,t){let{orientation:r,selectedIndex:n}=ti("Tab.List"),s=To(t),i=m.useMemo(()=>({selectedIndex:n}),[n]),o=e,l={ref:s,role:"tablist","aria-orientation":r};return gi()({ourProps:l,theirProps:o,slot:i,defaultTag:F6,name:"Tabs.List"})}let $6="button";function D6(e,t){var r,n;let s=m.useId(),{id:i=`headlessui-tabs-tab-${s}`,disabled:o=!1,autoFocus:l=!1,...c}=e,{orientation:u,activation:d,selectedIndex:f,tabs:h,panels:p}=ti("Tab"),x=mx("Tab"),g=ti("Tab"),[y,b]=m.useState(null),v=m.useRef(null),j=To(v,t,b);ei(()=>x.registerTab(v),[x,v]);let N=ES("tabs"),_=h.indexOf(v);_===-1&&(_=N);let P=_===f,C=Yr(V=>{var W;let q=V();if(q===qi.Success&&d==="auto"){let z=(W=wS(v))==null?void 0:W.activeElement,Z=g.tabs.findIndex(ce=>ce.current===z);Z!==-1&&x.change(Z)}return q}),E=Yr(V=>{let W=h.map(q=>q.current).filter(Boolean);if(V.key===Sr.Space||V.key===Sr.Enter){V.preventDefault(),V.stopPropagation(),x.change(_);return}switch(V.key){case Sr.Home:case Sr.PageUp:return V.preventDefault(),V.stopPropagation(),C(()=>fa(W,Cr.First));case Sr.End:case Sr.PageDown:return V.preventDefault(),V.stopPropagation(),C(()=>fa(W,Cr.Last))}if(C(()=>zs(u,{vertical(){return V.key===Sr.ArrowUp?fa(W,Cr.Previous|Cr.WrapAround):V.key===Sr.ArrowDown?fa(W,Cr.Next|Cr.WrapAround):qi.Error},horizontal(){return V.key===Sr.ArrowLeft?fa(W,Cr.Previous|Cr.WrapAround):V.key===Sr.ArrowRight?fa(W,Cr.Next|Cr.WrapAround):qi.Error}}))===qi.Success)return V.preventDefault()}),S=m.useRef(!1),M=Yr(()=>{var V;S.current||(S.current=!0,(V=v.current)==null||V.focus({preventScroll:!0}),x.change(_),jS(()=>{S.current=!1}))}),O=Yr(V=>{V.preventDefault()}),{isFocusVisible:A,focusProps:B}=vS({autoFocus:l}),{isHovered:k,hoverProps:w}=JM({isDisabled:o}),{pressed:T,pressProps:I}=i6({disabled:o}),F=m.useMemo(()=>({selected:P,hover:k,active:T,focus:A,autofocus:l,disabled:o}),[P,k,A,T,l,o]),R=kS({ref:j,onKeyDown:E,onMouseDown:O,onClick:M,id:i,role:"tab",type:_6(e,y),"aria-controls":(n=(r=p[_])==null?void 0:r.current)==null?void 0:n.id,"aria-selected":P,tabIndex:P?0:-1,disabled:o||void 0,autoFocus:l},B,w,I);return gi()({ourProps:R,theirProps:c,slot:F,defaultTag:$6,name:"Tabs.Tab"})}let q6="div";function V6(e,t){let{selectedIndex:r}=ti("Tab.Panels"),n=To(t),s=m.useMemo(()=>({selectedIndex:r}),[r]),i=e,o={ref:n};return gi()({ourProps:o,theirProps:i,slot:s,defaultTag:q6,name:"Tabs.Panels"})}let B6="div",G6=Xm.RenderStrategy|Xm.Static;function W6(e,t){var r,n,s,i;let o=m.useId(),{id:l=`headlessui-tabs-panel-${o}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:f,panels:h}=ti("Tab.Panel"),p=mx("Tab.Panel"),x=m.useRef(null),g=To(x,t);ei(()=>p.registerPanel(x),[p,x]);let y=ES("panels"),b=h.indexOf(x);b===-1&&(b=y);let v=b===d,{isFocusVisible:j,focusProps:N}=vS(),_=m.useMemo(()=>({selected:v,focus:j}),[v,j]),P=kS({ref:g,id:l,role:"tabpanel","aria-labelledby":(n=(r=f[b])==null?void 0:r.current)==null?void 0:n.id,tabIndex:v?c:-1},N),C=gi();return!v&&((s=u.unmount)==null||s)&&!((i=u.static)!=null&&i)?D.createElement(CS,{"aria-hidden":"true",...P}):C({ourProps:P,theirProps:u,slot:_,defaultTag:B6,features:G6,visible:v,name:"Tabs.Panel"})}let z6=xi(D6),PS=xi(O6),AS=xi(L6),H6=xi(V6),U6=xi(W6),ud=Object.assign(z6,{Group:PS,List:AS,Panels:H6,Panel:U6});const RS=[{tier:"basic",type:"cloud",name:"Cloud C Bn",description:"Gii php cloud n gin cho ngi dng c nhn",recommendedFor:"Ngi mi bt u",features:["Ti a 5 profile trnh duyt","Ci t c bn Anti Detect","Bo v du vn tay c bn","H tr Email c bn"],minMembers:1,maxMembers:5,defaultMembers:1,pricingOptions:{1:{monthlyPrice:9.99,totalPrice:9.99,discount:0},6:{monthlyPrice:8.99,totalPrice:53.94,discount:10},12:{monthlyPrice:7.99,totalPrice:95.88,discount:20}}},{tier:"advanced",type:"cloud",name:"Cloud Nng Cao",description:"Gii php cloud mnh m cho ngi dng nghim tc",recommendedFor:"Ngi dng thng xuyn",features:["Ti a 15 profile trnh duyt","Ci t nng cao Anti Detect","Bo v du vn tay nng cao","Proxy tch hp","H tr Email u tin"],minMembers:1,maxMembers:15,defaultMembers:3,pricingOptions:{1:{monthlyPrice:19.99,totalPrice:19.99,discount:0},6:{monthlyPrice:17.99,totalPrice:107.94,discount:10},12:{monthlyPrice:15.99,totalPrice:191.88,discount:20}}},{tier:"premium",type:"cloud",name:"Cloud Cao Cp",description:"Gii php cloud cao cp cho cc chuyn gia",recommendedFor:"Chuyn gia v doanh nghip nh",features:["Ti a 50 profile trnh duyt","Ci t chuyn su Anti Detect","Bo v du vn tay ton din","Proxy tch hp cao cp","H tr 24/7","Phn tch d liu"],minMembers:1,maxMembers:50,defaultMembers:5,pricingOptions:{1:{monthlyPrice:39.99,totalPrice:39.99,discount:0},6:{monthlyPrice:35.99,totalPrice:215.94,discount:10},12:{monthlyPrice:31.99,totalPrice:383.88,discount:20}}},{tier:"enterprise",type:"cloud",name:"Cloud Doanh Nghip",description:"Gii php cloud ton din cho doanh nghip ln",recommendedFor:"Doanh nghip ln",features:["Khng gii hn profile trnh duyt","Ci t chuyn su Anti Detect","Bo v du vn tay cao cp nht","Proxy tch hp cao cp","H tr 24/7 u tin","Phn tch d liu nng cao","Ty chnh theo yu cu","Qun l ti khon chuyn bit"],minMembers:10,maxMembers:100,defaultMembers:20,pricingOptions:{1:{monthlyPrice:99.99,totalPrice:99.99,discount:0},6:{monthlyPrice:89.99,totalPrice:539.94,discount:10},12:{monthlyPrice:79.99,totalPrice:959.88,discount:20}}}],IS=[{tier:"basic",type:"local",name:"Local C Bn",description:"Gii php local n gin cho ngi dng c nhn",recommendedFor:"Ngi mi bt u",features:["Ti a 5 profile trnh duyt","Ci t c bn Anti Detect","Bo v du vn tay c bn","Lu tr d liu local","H tr Email c bn"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:7.99,totalPrice:7.99,discount:0},6:{monthlyPrice:6.99,totalPrice:41.94,discount:12},12:{monthlyPrice:5.99,totalPrice:71.88,discount:25}}},{tier:"advanced",type:"local",name:"Local Nng Cao",description:"Gii php local mnh m cho ngi dng nghim tc",recommendedFor:"Ngi dng thng xuyn",features:["Ti a 15 profile trnh duyt","Ci t nng cao Anti Detect","Bo v du vn tay nng cao","Lu tr d liu local an ton","H tr Email u tin"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:15.99,totalPrice:15.99,discount:0},6:{monthlyPrice:13.99,totalPrice:83.94,discount:12},12:{monthlyPrice:11.99,totalPrice:143.88,discount:25}}},{tier:"premium",type:"local",name:"Local Cao Cp",description:"Gii php local cao cp cho cc chuyn gia",recommendedFor:"Chuyn gia v doanh nghip nh",features:["Ti a 50 profile trnh duyt","Ci t chuyn su Anti Detect","Bo v du vn tay ton din","M ha d liu local","H tr 24/7","Phn tch d liu"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:29.99,totalPrice:29.99,discount:0},6:{monthlyPrice:26.39,totalPrice:158.34,discount:12},12:{monthlyPrice:22.49,totalPrice:269.88,discount:25}}},{tier:"enterprise",type:"local",name:"Local Doanh Nghip",description:"Gii php local ton din cho doanh nghip ln",recommendedFor:"Doanh nghip ln",features:["Khng gii hn profile trnh duyt","Ci t chuyn su Anti Detect","Bo v du vn tay cao cp nht","M ha d liu local cp doanh nghip","H tr 24/7 u tin","Phn tch d liu nng cao","Ty chnh theo yu cu","Qun l ti khon chuyn bit"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:79.99,totalPrice:79.99,discount:0},6:{monthlyPrice:70.39,totalPrice:422.34,discount:12},12:{monthlyPrice:59.99,totalPrice:719.88,discount:25}}}],MS=[{tier:"basic",type:"custom",name:"Ty Chnh C Bn",description:"Gii php ty chnh c bn theo nhu cu",recommendedFor:"Ngi dng c nhu cu c bit",features:["Ty chn ci t trnh duyt","Ty chn ti u ha","Ty chn lu tr d liu","H tr Email ty chnh"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:14.99,totalPrice:14.99,discount:0},6:{monthlyPrice:13.49,totalPrice:80.94,discount:10},12:{monthlyPrice:11.99,totalPrice:143.88,discount:20}}},{tier:"advanced",type:"custom",name:"Ty Chnh Nng Cao",description:"Gii php ty chnh nng cao theo nhu cu",recommendedFor:"Ngi dng chuyn nghip",features:["Ty chn ci t trnh duyt nng cao","Ty chn ti u ha nng cao","Ty chn lu tr v bo mt","Ty chn proxy","H tr Email u tin"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:24.99,totalPrice:24.99,discount:0},6:{monthlyPrice:22.49,totalPrice:134.94,discount:10},12:{monthlyPrice:19.99,totalPrice:239.88,discount:20}}},{tier:"premium",type:"custom",name:"Ty Chnh Cao Cp",description:"Gii php ty chnh cao cp ton din",recommendedFor:"Chuyn gia v doanh nghip",features:["Ty chn khng gii hn cho trnh duyt","Ty chn ti u ha cao cp","Ty chn lu tr v bo mt nng cao","Ty chn proxy cao cp","H tr 24/7","Ty chn phn tch d liu"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:49.99,totalPrice:49.99,discount:0},6:{monthlyPrice:44.99,totalPrice:269.94,discount:10},12:{monthlyPrice:39.99,totalPrice:479.88,discount:20}}},{tier:"enterprise",type:"custom",name:"Ty Chnh Doanh Nghip",description:"Gii php ty chnh hon ho cho doanh nghip",recommendedFor:"Doanh nghip ln v t chc",features:["Ty chn khng gii hn cho mi tnh nng","Ty chn ti u ha c bit","Ty chn bo mt doanh nghip","Ty chn proxy doanh nghip","H tr 24/7 u tin","Ty chn phn tch d liu nng cao","Ty chnh API","Qun l ti khon chuyn bit"],minMembers:1,maxMembers:1,defaultMembers:1,pricingOptions:{1:{monthlyPrice:129.99,totalPrice:129.99,discount:0},6:{monthlyPrice:116.99,totalPrice:701.94,discount:10},12:{monthlyPrice:103.99,totalPrice:1247.88,discount:20}}}],Sv=()=>[...RS,...IS,...MS],OS=e=>{switch(e){case"cloud":return RS;case"local":return IS;case"custom":return MS;default:return[]}},ri=e=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",minimumFractionDigits:0,maximumFractionDigits:0}).format(e*23e3),Cv=e=>e===1?"1 thng":`${e} thng`;function K6({onSelectPackage:e}){const[t,r]=m.useState("cloud"),[n,s]=m.useState([]),[i,o]=m.useState(1);m.useEffect(()=>{const d=OS(t);s(d)},[t]);const l=d=>{r(d)},c=d=>{const f={package:d,period:i,memberCount:d.defaultMembers};e(f)},u=[{value:1,label:"Hng thng"},{value:6,label:"6 thng"},{value:12,label:"12 thng"}];return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Chn Gi Bo V"}),a.jsx("div",{className:"mb-8",children:a.jsx(PS,{onChange:d=>{l(["cloud","local","custom"][d])},children:a.jsxs(AS,{className:"flex space-x-2 p-1 bg-gray-100 rounded-lg",children:[a.jsx(ud,{className:({selected:d})=>`py-2.5 px-5 text-sm leading-5 font-medium rounded-lg focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60 ${d?"bg-white shadow":"text-gray-600 hover:bg-white/[0.12] hover:text-gray-700"}`,children:"Cloud"}),a.jsx(ud,{className:({selected:d})=>`py-2.5 px-5 text-sm leading-5 font-medium rounded-lg focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60 ${d?"bg-white shadow":"text-gray-600 hover:bg-white/[0.12] hover:text-gray-700"}`,children:"Local"}),a.jsx(ud,{className:({selected:d})=>`py-2.5 px-5 text-sm leading-5 font-medium rounded-lg focus:outline-none focus:ring-2 ring-offset-2 ring-offset-blue-400 ring-white ring-opacity-60 ${d?"bg-white shadow":"text-gray-600 hover:bg-white/[0.12] hover:text-gray-700"}`,children:"Ty chnh"})]})})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Thi hn thanh ton"}),a.jsx("div",{className:"flex flex-wrap gap-4",children:u.map(d=>{var f;return a.jsx("button",{onClick:()=>o(d.value),className:`px-5 py-3 rounded-lg border ${i===d.value?"bg-blue-50 border-blue-300 text-blue-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Yi,{className:"w-4 h-4 mr-2"}),d.label,d.value>1&&a.jsxs("span",{className:"ml-2 text-xs px-2 py-0.5 bg-green-100 text-green-800 rounded-full",children:["Gim ",((f=n[0])==null?void 0:f.pricingOptions[d.value].discount)||0,"%"]})]})},d.value)})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(d=>a.jsxs("div",{className:`border rounded-xl overflow-hidden bg-white transition-all hover:shadow-md ${d.tier==="premium"?"ring-2 ring-blue-500":""}`,children:[a.jsxs("div",{className:`py-5 px-4 text-white ${d.tier==="basic"?"bg-blue-600":d.tier==="advanced"?"bg-purple-600":d.tier==="premium"?"bg-gradient-to-r from-blue-600 to-purple-600":"bg-gray-800"}`,children:[a.jsx("h3",{className:"text-lg font-bold",children:d.name}),a.jsx("p",{className:"text-sm opacity-80",children:d.description})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Gi gi:"}),a.jsxs("div",{className:"flex items-end gap-1",children:[a.jsx("span",{className:"text-3xl font-bold",children:ri(d.pricingOptions[i].monthlyPrice)}),a.jsx("span",{className:"text-gray-500 mb-1",children:"/ thng"})]}),i>1&&a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[ri(d.pricingOptions[i].totalPrice)," thanh ton mt ln"]})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsx("div",{className:"text-sm text-gray-500",children:" xut cho:"}),a.jsxs("div",{className:"flex items-center text-gray-700",children:[a.jsx(ko,{className:"w-4 h-4 mr-2"}),a.jsx("span",{children:d.recommendedFor})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-3",children:"Tnh nng bao gm:"}),a.jsx("ul",{className:"space-y-2",children:d.features.map((f,h)=>a.jsxs("li",{className:"flex text-sm",children:[a.jsx(Dg,{className:"w-4 h-4 text-green-500 mr-2 shrink-0 mt-0.5"}),a.jsx("span",{children:f})]},h))})]}),a.jsx("button",{onClick:()=>c(d),className:`w-full py-2.5 rounded-lg text-white font-medium ${d.tier==="basic"?"bg-blue-600 hover:bg-blue-700":d.tier==="advanced"?"bg-purple-600 hover:bg-purple-700":d.tier==="premium"?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700":"bg-gray-800 hover:bg-gray-900"}`,children:"Chn gi ny"})]})]},`${d.type}-${d.tier}`))})]})}const Z6=({selectedPackage:e,onConfirm:t,onBack:r})=>{const{package:n,period:s}=e,i=n.pricingOptions[s];return a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Xc Nhn Gi Ca Bn"}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-6 mb-8 border border-gray-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:n.name}),a.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Thi hn:"}),a.jsx("p",{className:"text-lg font-medium",children:Cv(s)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Tnh nng bao gm:"}),a.jsx("ul",{className:"space-y-2",children:n.features.map((o,l)=>a.jsxs("li",{className:"flex items-start",children:[a.jsx(fi,{className:"w-5 h-5 text-green-500 mr-2 mt-0.5 shrink-0"}),a.jsx("span",{children:o})]},l))})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200 mt-6 md:mt-0 md:ml-6 md:min-w-[250px]",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4",children:"Tm tt n hng"}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Gi:"}),a.jsx("span",{className:"font-medium",children:n.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Thi hn:"}),a.jsx("span",{className:"font-medium",children:Cv(s)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Thanh ton hng thng:"}),a.jsx("span",{className:"font-medium",children:ri(i.monthlyPrice)})]}),s>1&&i.discount>0&&a.jsxs("div",{className:"flex justify-between text-green-600",children:[a.jsx("span",{children:"Tit kim:"}),a.jsxs("span",{children:["-",i.discount,"%"]})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Tng cng:"}),a.jsx("span",{children:ri(i.totalPrice)})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s>1?`Thanh ton mt ln cho ${s} thng`:"Thanh ton hng thng"})]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between",children:[a.jsxs("button",{onClick:r,className:"flex items-center justify-center py-2.5 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Kl,{className:"w-5 h-5 mr-1"}),"Quay li"]}),a.jsx("button",{onClick:t,className:"py-3 px-6 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:"Tin hnh thanh ton"})]})]})},Y6=({selectedPackage:e,paymentMethod:t,isProcessing:r,isComplete:n,onPaymentMethodChange:s,onBack:i,onComplete:o,onSubmit:l})=>{const{package:c,period:u}=e,d=c.pricingOptions[u],f=h=>{var x,g,y,b,v;h.preventDefault();const p={method:t,...t==="card"&&{cardName:(x=document.getElementById("cardName"))==null?void 0:x.value,cardNumber:(g=document.getElementById("cardNumber"))==null?void 0:g.value,expiry:(y=document.getElementById("expiry"))==null?void 0:y.value,cvc:(b=document.getElementById("cvc"))==null?void 0:b.value},...t==="bank"&&{transactionId:(v=document.getElementById("transactionId"))==null?void 0:v.value}};l(p)};return n?a.jsxs("div",{className:"flex flex-col items-center py-10",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-4 mb-6",children:a.jsx(Dg,{className:"w-12 h-12 text-green-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Thanh ton thnh cng!"}),a.jsxs("p",{className:"text-gray-600 text-center mb-8 max-w-md",children:["Cm n bn  nng cp. Gi ",c.name," ca bn  c kch hot."]}),a.jsx("button",{onClick:o,className:"py-3 px-6 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200",children:"Tip tc"})]}):a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Thanh Ton"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Phng thc thanh ton"}),a.jsxs("div",{className:"space-y-4 mb-6",children:[a.jsxs("div",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${t==="card"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>s("card"),children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3 ${t==="card"?"border-blue-500":"border-gray-300"}`,children:t==="card"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:"Th tn dng / Th ghi n"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Visa, Mastercard, JCB"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"VISA"})}),a.jsx("div",{className:"w-10 h-6 bg-gray-200 rounded flex items-center justify-center",children:a.jsx("span",{className:"text-xs font-bold text-gray-700",children:"MC"})})]})]}),a.jsxs("div",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${t==="bank"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>s("bank"),children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3 ${t==="bank"?"border-blue-500":"border-gray-300"}`,children:t==="bank"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:"Chuyn khon ngn hng"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Chuyn khon trc tip t ti khon ca bn"})]})]}),a.jsxs("div",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-all ${t==="wallet"?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,onClick:()=>s("wallet"),children:[a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center mr-3 ${t==="wallet"?"border-blue-500":"border-gray-300"}`,children:t==="wallet"&&a.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:"V in t"}),a.jsx("div",{className:"text-sm text-gray-500",children:"MoMo, ZaloPay, VNPay"})]})]})]}),t==="card"&&a.jsx("form",{onSubmit:f,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cardName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tn trn th"}),a.jsx("input",{type:"text",id:"cardName",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Nguyn Vn A",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cardNumber",className:"block text-sm font-medium text-gray-700 mb-1",children:"S th"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:"cardNumber",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 pr-10",placeholder:"1234 5678 9012 3456",required:!0}),a.jsx(ls,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"expiry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Ngy ht hn"}),a.jsx("input",{type:"text",id:"expiry",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"MM/YY",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"cvc",className:"block text-sm font-medium text-gray-700 mb-1",children:"CVC/CVV"}),a.jsx("input",{type:"text",id:"cvc",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"123",required:!0})]})]})]})}),t==="bank"&&a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Thng tin chuyn khon"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Vui lng chuyn khon n ti khon sau v nhp thng tin chuyn khon bn di:"}),a.jsx("div",{className:"bg-white p-3 rounded border border-gray-200 mb-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{className:"text-gray-500",children:"Ngn hng:"}),a.jsx("div",{className:"font-medium",children:"Vietcombank"}),a.jsx("div",{className:"text-gray-500",children:"S ti khon:"}),a.jsx("div",{className:"font-medium",children:"1234567890"}),a.jsx("div",{className:"text-gray-500",children:"Ch ti khon:"}),a.jsx("div",{className:"font-medium",children:"CNG TY ABC"}),a.jsx("div",{className:"text-gray-500",children:"Ni dung CK:"}),a.jsxs("div",{className:"font-medium",children:["UPGRADE ",c.tier.toUpperCase()]})]})}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M giao dch"}),a.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",placeholder:"Nhp m giao dch"})]})})]}),t==="wallet"&&a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[a.jsxs("div",{className:"flex flex-col items-center mb-4",children:[a.jsx("div",{className:"mb-4 w-40 h-40 bg-gray-200 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-600",children:"M QR thanh ton"})}),a.jsx("p",{className:"text-sm text-gray-600",children:"Qut m QR bng ng dng v in t  thanh ton"})]}),a.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[a.jsx("button",{className:"py-2 px-4 bg-blue-100 text-blue-700 rounded-lg border border-blue-200 hover:bg-blue-50",children:"MoMo"}),a.jsx("button",{className:"py-2 px-4 bg-blue-100 text-blue-700 rounded-lg border border-blue-200 hover:bg-blue-50",children:"ZaloPay"}),a.jsx("button",{className:"py-2 px-4 bg-blue-100 text-blue-700 rounded-lg border border-blue-200 hover:bg-blue-50",children:"VNPay"})]})]})]})}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 sticky top-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-4",children:"Tm tt n hng"}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Gi:"}),a.jsx("span",{className:"font-medium",children:c.name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Loi:"}),a.jsx("span",{className:"font-medium capitalize",children:c.type})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Thi hn:"}),a.jsxs("span",{className:"font-medium",children:[u," thng"]})]})]}),a.jsxs("div",{className:"border-t border-b border-gray-200 py-3 mb-4",children:[a.jsxs("div",{className:"flex justify-between text-gray-600",children:[a.jsx("span",{children:"n gi:"}),a.jsxs("span",{children:[ri(c.pricingOptions[1].monthlyPrice)," / thng"]})]}),u>1&&a.jsxs("div",{className:"flex justify-between text-green-600 text-sm",children:[a.jsx("span",{children:"Gim gi:"}),a.jsxs("span",{children:["-",d.discount,"%"]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:"Tng thanh ton:"}),a.jsx("span",{children:ri(d.totalPrice)})]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:u>1?`Thanh ton mt ln cho ${u} thng`:"Thanh ton hng thng"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:f,disabled:r,className:`w-full py-3 px-4 rounded-lg font-medium text-white transition-colors duration-200 ${r?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:r?"ang x l...":"Hon tt thanh ton"}),a.jsxs("button",{onClick:i,disabled:r,className:"w-full py-2.5 px-4 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(Kl,{className:"w-5 h-5 mr-1"}),"Quay li"]})]})]})})]})]})},Q6=({currentStep:e,totalSteps:t})=>{const r=[{id:1,name:"Chn Gi"},{id:2,name:"Xc Nhn"},{id:3,name:"Thanh Ton"}];return a.jsx("div",{className:"mx-auto max-w-3xl",children:a.jsx("div",{className:"flex items-center justify-between relative",children:r.map((n,s)=>a.jsxs("div",{className:"flex items-center justify-center flex-1",children:[a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:`w-10 h-10 flex items-center justify-center rounded-full border-2 z-10 transition-all duration-300 ${e>=n.id?"bg-blue-600 border-blue-600 text-white":"bg-white border-gray-300 text-gray-500"}`,children:e>n.id?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.id}),a.jsx("span",{className:`mt-2 text-sm font-medium ${e>=n.id?"text-blue-600":"text-gray-500"}`,children:n.name})]}),s<r.length-1&&a.jsx("div",{className:`h-0.5 flex-1 mx-2 ${e>s+1?"bg-blue-600":"bg-gray-300"}`})]},n.id))})})},Br={async getPackages(e){try{let t=Sv();if(e){if(e.type&&(t=OS(e.type)),e.search){const r=e.search.toLowerCase();t=t.filter(n=>n.name.toLowerCase().includes(r)||n.description.toLowerCase().includes(r))}e.minPrice!==void 0&&(t=t.filter(r=>r.pricingOptions[1].monthlyPrice>=(e.minPrice||0))),e.maxPrice!==void 0&&(t=t.filter(r=>r.pricingOptions[1].monthlyPrice<=(e.maxPrice||1/0)))}return t}catch(t){throw console.error("Failed to fetch packages:",t),t}},async getPackageDetails(e,t){try{return Sv().find(n=>n.tier===e&&n.type===t)||null}catch(r){throw console.error("Failed to fetch package details:",r),r}},async processPayment(e,t,r){try{return(await J.request("POST","/api/upgrade/payments",{packageId:`${e.package.tier}_${e.package.type}`,period:e.period,memberCount:e.memberCount,paymentMethod:t,paymentDetails:r})).json()}catch(n){throw console.error("Payment processing failed:",n),n}},async getCurrentSubscription(){try{return(await J.request("GET","/api/upgrade/subscription")).json()}catch(e){throw console.error("Failed to fetch current subscription:",e),e}},async cancelSubscription(){try{return(await J.request("POST","/api/upgrade/subscription/cancel")).json()}catch(e){throw console.error("Failed to cancel subscription:",e),e}},async changeSubscription(e,t){try{return(await J.request("POST","/api/upgrade/subscription/change",{packageId:`${e.tier}_${e.type}`,period:t})).json()}catch(r){throw console.error("Failed to change subscription:",r),r}},calculateFinalPrice(e,t,r=1){const n=e.pricingOptions.find(l=>l.period===t);if(!n)throw new Error(`Invalid period: ${t}`);const s=e.pricingOptions[0].monthlyPrice,i=n.totalPrice*r,o=(s*(t==="monthly"?1:t==="quarterly"?3:12)-n.totalPrice)*r;return{totalPrice:i,savings:o}},getPackageLimits(e){return{profiles:e.maxProfiles||0,workflows:e.maxWorkflows||0}}};function X6(){const{toast:e}=yr(),[t,r]=m.useState(null),[n,s]=m.useState("monthly"),[i,o]=m.useState(1),[l,c]=m.useState("cloud"),u=I=>Ke({queryKey:["/api/packages",I],queryFn:()=>Br.getPackages(I)}),{data:d=[],isLoading:f,error:h,refetch:p}=Ke({queryKey:["/api/packages"],queryFn:()=>Br.getPackages()}),{data:x=[],isLoading:g}=Ke({queryKey:["/api/packages",{type:l}],queryFn:()=>Br.getPackages({type:l})}),y=(I,F)=>Ke({queryKey:["/api/packages",I,F],queryFn:()=>Br.getPackageDetails(I,F),enabled:!!I&&!!F}),{data:b,isLoading:v,error:j,refetch:N}=Ke({queryKey:["/api/user/subscription"],queryFn:()=>Br.getCurrentSubscription()}),_=ye({mutationFn:({selectedPackage:I,paymentMethod:F,paymentDetails:R})=>Br.processPayment(I,F,R),onSuccess:I=>{I.success?(Se.invalidateQueries({queryKey:["/api/user/subscription"]}),e({title:"Thanh ton thnh cng",description:I.message||"Gi dch v ca bn  c kch hot"})):e({title:"Thanh ton tht bi",description:I.message||"Vui lng th li sau",variant:"destructive"})},onError:I=>{e({title:"Thanh ton tht bi",description:I.message,variant:"destructive"})}}),P=ye({mutationFn:()=>Br.cancelSubscription(),onSuccess:I=>{I.success?(Se.invalidateQueries({queryKey:["/api/user/subscription"]}),e({title:"Hy ng k thnh cng",description:I.message||"ng k ca bn  c hy"})):e({title:"Hy ng k tht bi",description:I.message||"Vui lng th li sau",variant:"destructive"})},onError:I=>{e({title:"Hy ng k tht bi",description:I.message,variant:"destructive"})}}),C=ye({mutationFn:({newPackage:I,period:F})=>Br.changeSubscription(I,F),onSuccess:I=>{I.success?(Se.invalidateQueries({queryKey:["/api/user/subscription"]}),e({title:"Thay i gi dch v thnh cng",description:I.message||"Gi dch v ca bn  c cp nht"})):e({title:"Thay i gi dch v tht bi",description:I.message||"Vui lng th li sau",variant:"destructive"})},onError:I=>{e({title:"Thay i gi dch v tht bi",description:I.message,variant:"destructive"})}});return{selectedPackage:t,selectedPeriod:n,memberCount:i,activePackageType:l,setSelectedPackage:I=>{r(I)},setSelectedPeriod:I=>{s(I)},setMemberCount:I=>{o(I)},setActivePackageType:I=>{c(I)},allPackages:d,activePackages:x,currentSubscription:b,isLoadingPackages:f,isLoadingActivePackages:g,isLoadingSubscription:v,packagesError:h,subscriptionError:j,refetchPackages:p,refetchSubscription:N,getPackages:u,getPackageDetails:y,processPayment:(I,F)=>{if(!t){e({title:"Li",description:"Vui lng chn gi dch v trc khi thanh ton",variant:"destructive"});return}_.mutate({selectedPackage:{package:t,period:n,memberCount:i},paymentMethod:I,paymentDetails:F})},cancelSubscription:()=>{P.mutate()},changeSubscription:(I,F)=>{C.mutate({newPackage:I,period:F})},calculateFinalPrice:(I,F,R=1)=>Br.calculateFinalPrice(I,F,R),getPackageLimits:I=>Br.getPackageLimits(I),isProcessingPayment:_.isPending,isCancellingSubscription:P.isPending,isChangingSubscription:C.isPending}}function J6(){const{selectedPackage:e,setSelectedPackage:t,processPayment:r,isProcessingPayment:n}=X6(),[s,i]=m.useState(1),[o,l]=m.useState("credit_card"),[c,u]=m.useState(!1),d=y=>{t(y),i(2)},f=()=>{i(3)},h=()=>{i(y=>y-1)},p=()=>{u(!0)},x=y=>{l(y)},g=y=>{e&&(r(o,y),p())};return a.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-gray-100",children:a.jsxs("div",{className:"container mx-auto px-4 py-8 md:py-12",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-center text-gray-800 mb-2",children:"Nng Cp"}),a.jsx("p",{className:"text-center text-gray-600 mb-8 max-w-3xl mx-auto",children:"M kha tt c cc tnh nng cao cp v tn hng tri nghim duyt web an ton, ring t nht"}),a.jsx("div",{className:"mb-12",children:a.jsx(Q6,{currentStep:s,totalSteps:3})}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 md:p-8 max-w-7xl mx-auto",children:[s===1&&a.jsx(K6,{onSelectPackage:d}),s===2&&e&&a.jsx(Z6,{selectedPackage:e,onConfirm:f,onBack:h}),s===3&&e&&a.jsx(Y6,{selectedPackage:e,paymentMethod:o,onPaymentMethodChange:x,isProcessing:n,isComplete:c,onBack:h,onComplete:p,onSubmit:g})]})]})})}const eO=Xl("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),FS=m.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:ne(eO({variant:t}),e),...r}));FS.displayName="Alert";const LS=m.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:ne("mb-1 font-medium leading-none tracking-tight",e),...t}));LS.displayName="AlertTitle";const $S=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:ne("text-sm [&_p]:leading-relaxed",e),...t}));$S.displayName="AlertDescription";var DS="AlertDialog",[tO,PH]=xr(DS,[e2]),Mn=e2(),qS=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return a.jsx(qN,{...n,...r,modal:!0})};qS.displayName=DS;var rO="AlertDialogTrigger",nO=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(I4,{...s,...n,ref:t})});nO.displayName=rO;var sO="AlertDialogPortal",VS=e=>{const{__scopeAlertDialog:t,...r}=e,n=Mn(t);return a.jsx(DN,{...n,...r})};VS.displayName=sO;var aO="AlertDialogOverlay",BS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(_g,{...s,...n,ref:t})});BS.displayName=aO;var Pa="AlertDialogContent",[iO,oO]=tO(Pa),lO=R4("AlertDialogContent"),GS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=Mn(r),o=m.useRef(null),l=it(t,o),c=m.useRef(null);return a.jsx(A4,{contentName:Pa,titleName:WS,docsSlug:"alert-dialog",children:a.jsx(iO,{scope:r,cancelRef:c,children:a.jsxs(kg,{role:"alertdialog",...i,...s,ref:l,onOpenAutoFocus:ze(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(lO,{children:n}),a.jsx(dO,{contentRef:o})]})})})});GS.displayName=Pa;var WS="AlertDialogTitle",zS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(Cg,{...s,...n,ref:t})});zS.displayName=WS;var HS="AlertDialogDescription",US=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(Tg,{...s,...n,ref:t})});US.displayName=HS;var cO="AlertDialogAction",KS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=Mn(r);return a.jsx(Sg,{...s,...n,ref:t})});KS.displayName=cO;var ZS="AlertDialogCancel",YS=m.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=oO(ZS,r),i=Mn(r),o=it(t,s);return a.jsx(Sg,{...i,...n,ref:o})});YS.displayName=ZS;var dO=({contentRef:e})=>{const t=`\`${Pa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pa}\` by passing a \`${HS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},uO=qS,fO=VS,QS=BS,XS=GS,JS=KS,eC=YS,tC=zS,rC=US;const hO=uO,pO=fO,nC=m.forwardRef(({className:e,...t},r)=>a.jsx(QS,{className:ne("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));nC.displayName=QS.displayName;const sC=m.forwardRef(({className:e,...t},r)=>a.jsxs(pO,{children:[a.jsx(nC,{}),a.jsx(XS,{ref:r,className:ne("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));sC.displayName=XS.displayName;const aC=({className:e,...t})=>a.jsx("div",{className:ne("flex flex-col space-y-2 text-center sm:text-left",e),...t});aC.displayName="AlertDialogHeader";const iC=m.forwardRef(({className:e,...t},r)=>a.jsx(tC,{ref:r,className:ne("text-lg font-semibold",e),...t}));iC.displayName=tC.displayName;const oC=m.forwardRef(({className:e,...t},r)=>a.jsx(rC,{ref:r,className:ne("text-sm text-muted-foreground",e),...t}));oC.displayName=rC.displayName;const mO=m.forwardRef(({className:e,...t},r)=>a.jsx(JS,{ref:r,className:ne(Kg(),e),...t}));mO.displayName=JS.displayName;const gO=m.forwardRef(({className:e,...t},r)=>a.jsx(eC,{ref:r,className:ne(Kg({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));gO.displayName=eC.displayName;const hr={async getAccountBalance(){try{const t=await(await J.request("GET","/api")).json();return t&&t.data&&t.data.amount!==void 0?t.data:t&&t.amount!==void 0?t:(console.warn("D liu balance khng ng nh dng:",t),{amount:0,currency:"USD",lastUpdated:new Date().toISOString()})}catch(e){return console.error("Li khi ly thng tin s d:",e),{amount:0,currency:"USD",lastUpdated:new Date().toISOString()}}},async getTransactionHistory(){return Kr(J.request("GET","/api/deposit/transactions"),"DepositFunctionalService","getTransactionHistory")},async createDeposit(e){return(await J.request("POST","/api/deposit/create",e)).json()},async processPayment(e){return(await J.request("POST","/api/deposit/process",e)).json()},async getPaymentFees(){return(await J.request("GET","/api/deposit/fees")).json()},async getPaymentDetails(){return(await J.request("GET","/api/deposit/details")).json()},async checkTransactionStatus(e){return(await J.request("GET",`/api/deposit/status/${e}`)).json()},async uploadPaymentProof(e,t){const r=new FormData;return r.append("proof",t),r.append("transactionId",e),(await J.request("POST","/api/deposit/upload-proof",r)).json()},calculateFee(e,t){const n=e*{bank:.02,paypal:.035,crypto:.01}[t],s=e+n;return{fee:parseFloat(n.toFixed(2)),total:parseFloat(s.toFixed(2))}},getPresetAmounts(){return[{value:10,label:"$10"},{value:20,label:"$20"},{value:50,label:"$50"},{value:100,label:"$100"},{value:200,label:"$200"},{value:500,label:"$500"}]},getPaymentInstructions(e){return{bank:{title:"Thng tin chuyn khon ngn hng",content:["Ngn hng: Vietcombank","S ti khon: 1234567890","Ch ti khon: CNG TY TNHH ANTI DETECT","Ni dung: NAPTHE [tn ti khon]"]},paypal:{title:"Thng tin thanh ton PayPal",content:["Email PayPal: payments@antidetect.com","Ghi ch: Vui lng ghi r tn ti khon ca bn"]},crypto:{title:"Thng tin thanh ton Crypto",content:["Bitcoin (BTC): 3FZbgi29cpjq2GjdwV8eyHuJJnkLtktZc5","Ethereum (ETH): 0x89205A3A3b2A69De6Dbf7f01ED13B2108B2c43e7","USDT (TRC20): TD3yJnw9D7pq3GKjcESzaePxPV1hTGpXXi"]}}[e]}},xO={async getBalance(){return(await J.request("GET","/api/balance/")).json()},async updateBalance(e){return(await J.request("PUT","/api/balance/",e)).json()}},lC=m.createContext({balance:{amount:0,currency:"USD"},updateBalance:()=>{}});function yO({children:e}){const[t,r]=m.useState({amount:100,currency:"USD"}),n=s=>{r(s)};return a.jsx(lC.Provider,{value:{balance:t,updateBalance:n},children:e})}function vO(){const e=m.useContext(lC);if(e===void 0)throw new Error("useBalance must be used within a BalanceProvider");return e}function bO(){const{toast:e}=yr(),{balance:t,updateBalance:r}=vO(),n=ye({mutationFn:s=>xO.updateBalance(s),onSuccess:s=>{r(s),Se.invalidateQueries({queryKey:["/api/balance"]}),e({title:"Cp nht s d thnh cng",description:"S d ti khon  c cp nht"})},onError:s=>{e({title:"Cp nht tht bi",description:s.message,variant:"destructive"})}});return{balance:t,updateBalance:s=>n.mutate(s),isUpdating:n.isPending}}function wO(){const{toast:e}=yr(),{balance:t}=bO(),[r,n]=m.useState("bank"),[s,i]=m.useState(0),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,f]=m.useState(!1),[h,p]=m.useState(""),{data:x=[],isLoading:g,error:y,refetch:b}=Ke({queryKey:["/api/transactions/history"],queryFn:()=>hr.getTransactionHistory()}),{data:v={bank:.02,paypal:.035,crypto:.01},isLoading:j}=Ke({queryKey:["/api/deposit/fees"],queryFn:()=>hr.getPaymentFees()}),N=ye({mutationFn:F=>hr.createDeposit(F),onSuccess:F=>{e({title:"To giao dch thnh cng",description:"Vui lng thc hin thanh ton theo hng dn"})},onError:F=>{e({title:"To giao dch tht bi",description:F.message,variant:"destructive"})}}),_=ye({mutationFn:F=>hr.processPayment(F),onSuccess:F=>{Se.invalidateQueries({queryKey:["/api/transactions/history"]}),e({title:F.success?"Thanh ton thnh cng":"ang x l",description:F.message,variant:F.success?"default":"destructive"})},onError:F=>{e({title:"X l thanh ton tht bi",description:F.message,variant:"destructive"})}}),P=ye({mutationFn:({transactionId:F,file:R})=>hr.uploadPaymentProof(F,R),onSuccess:F=>{F.success?e({title:"Ti ln thnh cng",description:F.message}):e({title:"Ti ln tht bi",description:F.message,variant:"destructive"})},onError:F=>{e({title:"Ti ln tht bi",description:F.message,variant:"destructive"})}}),C=s>0||parseFloat(o)>0?hr.calculateFee(s||parseFloat(o)||0,r).fee:0,E=(s||parseFloat(o)||0)+C,S=F=>{i(F),l("")},M=F=>{l(F.target.value),i(0)},O=F=>{n(F)},A=()=>{const F=s||parseFloat(o)||0;if(F<=0){e({title:"Li",description:"Vui lng chn hoc nhp s tin hp l",variant:"destructive"});return}u(!0),N.mutate({amount:F,paymentMethod:r,currency:"USD"})},B=()=>{u(!1)},k=F=>{_.mutate({transactionId:F})},w=F=>{navigator.clipboard.writeText(F).then(()=>{e({title:" sao chp",description:"Thng tin  c sao chp vo clipboard"})}).catch(R=>{e({title:"Li",description:"Khng th sao chp: "+R,variant:"destructive"})})},T=()=>{f(!d)},I={bank:hr.getPaymentInstructions("bank"),paypal:hr.getPaymentInstructions("paypal"),crypto:hr.getPaymentInstructions("crypto")};return{selectedPaymentMethod:r,setSelectedPaymentMethod:n,selectedAmount:s,customAmount:o,showPaymentInfo:c,setShowPaymentInfo:u,showQRCode:d,currentTransactionId:h,totalAmount:E,fee:C,balance:t,transactionHistory:x,fees:v,paymentDetails:I,paymentInfo:I,presetAmounts:hr.getPresetAmounts(),isLoadingTransactions:g,isLoadingFees:j,handleAmountSelect:S,handleCustomAmountChange:M,handlePaymentMethodChange:O,handleConfirmPayment:A,handleClosePaymentInfo:B,checkPaymentStatus:k,copyToClipboard:w,toggleQRCode:T,refetchTransactions:b,calculateFee:hr.calculateFee,getPaymentInstructions:hr.getPaymentInstructions,createDeposit:N.mutate,processPayment:_.mutate,uploadPaymentProof:P.mutate,isCreatingDeposit:N.isPending,isProcessingPayment:_.isPending,isProcessingPaymentMutation:_.isPending,isUploadingPaymentProof:P.isPending}}const jO={bank:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmMWYxZjEiLz48cGF0aCBkPSJNNjAgNjBoMjB2MjBINjB6TTgwIDYwaDIwdjIwSDgwek0xMDAgNjBoMjB2MjBoLTIwek0xMjAgNjBoMjB2MjBoLTIwek02MCA4MGgyMHYyMEg2MHpNMTIwIDgwaDIwdjIwaC0yMHpNNjAgMTAwaDIwdjIwSDYwek0xMjAgMTAwaDIwdjIwaC0yMHpNNjAgMTIwaDIwdjIwSDYwek04MCAxMjBoMjB2MjBIODB6TTEwMCAxMjBoMjB2MjBoLTIwek0xMjAgMTIwaDIwdjIwaC0yMHoiIGZpbGw9IiMzMzMiLz48L3N2Zz4=",paypal:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiMwMDllYzkiLz48cGF0aCBkPSJNNjAgNjBoMjB2MjBINjB6TTgwIDYwaDIwdjIwSDgwek0xMDAgNjBoMjB2MjBoLTIwek0xMjAgNjBoMjB2MjBoLTIwek02MCA4MGgyMHYyMEg2MHpNMTIwIDgwaDIwdjIwaC0yMHpNNjAgMTAwaDIwdjIwSDYwek0xMjAgMTAwaDIwdjIwaC0yMHpNNjAgMTIwaDIwdjIwSDYwek04MCAxMjBoMjB2MjBIODB6TTEwMCAxMjBoMjB2MjBoLTIwek0xMjAgMTIwaDIwdjIwaC0yMHoiIGZpbGw9IndoaXRlIi8+PC9zdmc+",crypto:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+PHJlY3Qgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNmZmFhMDAiLz48cGF0aCBkPSJNNjAgNjBoMjB2MjBINjB6TTgwIDYwaDIwdjIwSDgwek0xMDAgNjBoMjB2MjBoLTIwek0xMjAgNjBoMjB2MjBoLTIwek02MCA4MGgyMHYyMEg2MHpNMTIwIDgwaDIwdjIwaC0yMHpNNjAgMTAwaDIwdjIwSDYwek0xMjAgMTAwaDIwdjIwaC0yMHpNNjAgMTIwaDIwdjIwSDYwek04MCAxMjBoMjB2MjBIODB6TTEwMCAxMjBoMjB2MjBoLTIwek0xMjAgMTIwaDIwdjIwaC0yMHoiIGZpbGw9IiMzMzMiLz48L3N2Zz4="};function NO(){const{balance:e,transactionHistory:t,paymentInfo:r,presetAmounts:n,selectedAmount:s,customAmount:i,totalAmount:o,fee:l,selectedPaymentMethod:c,showPaymentInfo:u,isProcessingPayment:d,currentTransactionId:f,handleAmountSelect:h,handleCustomAmountChange:p,handlePaymentMethodChange:x,handleConfirmPayment:g,handleClosePaymentInfo:y,checkPaymentStatus:b,copyToClipboard:v}=wO();return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"w-full bg-gradient-to-r from-blue-700 to-blue-500 rounded-lg overflow-hidden mb-6",children:a.jsxs("div",{className:"p-6 flex flex-col md:flex-row justify-between items-start md:items-center",children:[a.jsxs("div",{className:"mb-4 md:mb-0",children:[a.jsx("p",{className:"text-white text-sm font-medium opacity-90",children:"Thng tin ti khon"}),a.jsx("h2",{className:"text-white text-xl font-bold mt-1",children:"S d"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-white text-sm font-medium opacity-90",children:"Tng cng:"}),a.jsxs("h2",{className:"text-white text-4xl font-bold",children:["$",e.amount.toFixed(2)]})]})]})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Np tin vo ti khon"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Thm tin vo ti khon  s dng cho proxies, profiles v cc dch v khc"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsxs(ut,{children:[a.jsxs(bt,{children:[a.jsx(wt,{children:"Chn phng thc thanh ton"}),a.jsx(ks,{children:"Chn cch bn mun np tin vo ti khon"})]}),a.jsxs(ft,{children:[a.jsxs(Ys,{value:c,onValueChange:x,className:"space-y-4",children:[a.jsxs("div",{className:`flex items-center border rounded-lg p-4 ${c==="bank"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx(Qt,{value:"bank",id:"bank",className:"mr-4"}),a.jsxs(Le,{htmlFor:"bank",className:"flex-1 flex items-center cursor-pointer",children:[a.jsx(Iy,{className:"h-5 w-5 mr-3 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Chuyn khon ngn hng"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Chuyn khon qua ngn hng hoc ng dng mobile banking"})]})]})]}),a.jsxs("div",{className:`flex items-center border rounded-lg p-4 ${c==="paypal"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx(Qt,{value:"paypal",id:"paypal",className:"mr-4"}),a.jsxs(Le,{htmlFor:"paypal",className:"flex-1 flex items-center cursor-pointer",children:[a.jsx(g5,{className:"h-5 w-5 mr-3 text-blue-600 dark:text-blue-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"PayPal"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Thanh ton an ton vi ti khon PayPal"})]})]})]}),a.jsxs("div",{className:`flex items-center border rounded-lg p-4 ${c==="crypto"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}`,children:[a.jsx(Qt,{value:"crypto",id:"crypto",className:"mr-4"}),a.jsxs(Le,{htmlFor:"crypto",className:"flex-1 flex items-center cursor-pointer",children:[a.jsx(PR,{className:"h-5 w-5 mr-3 text-orange-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Tin in t"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Thanh ton bng Bitcoin, Ethereum hoc USDT"})]})]})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(FS,{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800",children:[a.jsx(Vg,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-400"}),a.jsx(LS,{children:"Lu  khi thanh ton"}),a.jsx($S,{className:"text-sm",children:"Vui lng kim tra k thng tin thanh ton trc khi thc hin giao dch. Sau khi chuyn tin, vui lng lin h vi chng ti qua Telegram hoc Email nu cn h tr."})]})})]})]})}),a.jsx("div",{children:a.jsxs(ut,{children:[a.jsx(bt,{children:a.jsx(wt,{children:"S tin"})}),a.jsxs(ft,{children:[a.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:n.map(j=>a.jsx(ee,{variant:s===j.value?"default":"outline",className:"h-12",onClick:()=>h(j.value),children:j.label},j.value))}),a.jsxs("div",{className:"space-y-4 mt-6",children:[a.jsxs("div",{children:[a.jsx(Le,{htmlFor:"customAmount",children:"S tin khc (USD):"}),a.jsx(Ve,{id:"customAmount",type:"number",placeholder:"Nhp s tin",min:"1",value:i,onChange:p,className:"mt-1"})]}),a.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"S tin:"}),a.jsxs("span",{className:"font-medium",children:["$",(s||parseFloat(i)||0).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Ph giao dch:"}),a.jsxs("span",{className:"font-medium",children:["$",l.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[a.jsx("span",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Tng thanh ton:"}),a.jsxs("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:["$",o.toFixed(2)]})]})]})]})]}),a.jsxs(Lg,{className:"flex flex-col space-y-2",children:[a.jsx(ee,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",onClick:g,disabled:o<=0,children:"Xc nhn thanh ton"}),a.jsx(ee,{variant:"ghost",className:"w-full",children:"Hy"})]})]})})]}),a.jsxs(ut,{className:"mt-6",children:[a.jsxs(bt,{children:[a.jsx(wt,{children:"Lch s giao dch"}),a.jsx(ks,{children:"Cc giao dch gn y ca bn"})]}),a.jsx(ft,{children:a.jsx("div",{className:"space-y-4",children:t.map(j=>a.jsx("div",{className:"border-b pb-4 dark:border-gray-700",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:j.type}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.method," - ",j.date]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("span",{className:"font-medium",children:[j.amount.toLocaleString("vi-VN")," "]}),a.jsxs("div",{className:`flex items-center ${j.status==="completed"?"text-green-600 dark:text-green-400":j.status==="pending"?"text-orange-500 dark:text-orange-300":"text-red-500 dark:text-red-400"} text-sm mt-1`,children:[j.status==="completed"?a.jsx(fi,{className:"h-3 w-3 mr-1"}):j.status==="pending"?a.jsx($y,{className:"h-3 w-3 mr-1 animate-spin"}):a.jsx(jn,{className:"h-3 w-3 mr-1"}),j.status==="completed"?"Hon thnh":j.status==="pending"?"ang x l":"Tht bi"]})]})]})},j.id))})})]}),a.jsx(hO,{open:u,onOpenChange:y,children:a.jsxs(sC,{className:"max-w-2xl p-0 overflow-hidden",children:[a.jsxs(aC,{className:"bg-blue-600 text-white p-4 flex justify-between items-center",children:[a.jsx(iC,{className:"text-xl font-medium",children:r[c].title}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>setShowPaymentInfo(!1),className:"text-white hover:bg-blue-700 rounded-full",children:a.jsx(jn,{className:"h-5 w-5"})})]}),a.jsxs(oC,{children:[a.jsxs("div",{className:"flex flex-col md:flex-row",children:[a.jsxs("div",{className:"md:w-2/5 bg-gray-50 dark:bg-gray-800 p-6 flex flex-col items-center justify-start",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-center font-medium text-lg mb-2",children:"Chn phng thc thanh ton"}),a.jsxs("div",{className:"flex space-x-2 justify-center",children:[c==="bank"&&a.jsx(ee,{size:"sm",variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-300",children:"MB Bank"}),c==="paypal"&&a.jsx(ee,{size:"sm",variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-300",children:"PayPal"}),c==="crypto"&&a.jsx(ee,{size:"sm",variant:"outline",className:"bg-blue-100 text-blue-700 border-blue-300",children:"Bitcoin"})]})]}),a.jsx("div",{className:"bg-white p-6 rounded-lg shadow mb-3 border border-gray-200",children:a.jsx("img",{src:jO[c],alt:"QR Code",className:"w-full h-auto max-w-[180px]"})}),a.jsxs("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-2 max-w-[250px]",children:["Qut m QR bng ng dng ",c==="bank"?"ngn hng":c==="paypal"?"PayPal":"v tin in t","  thanh ton nhanh chng"]})]}),a.jsx("div",{className:"md:w-3/5 p-6",children:a.jsxs("div",{className:"space-y-4",children:[c==="bank"&&a.jsxs("div",{className:"mb-5",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Iy,{className:"h-5 w-5 mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Ngn hng:"}),a.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:"MB Bank"})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("span",{className:"font-medium",children:"Ch ti khon:"}),a.jsx("span",{className:"ml-2 text-blue-600 font-medium",children:"CNG TY TNHH ANTI DETECT"})]}),a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-3 rounded mb-2",children:[a.jsx("span",{className:"text-base font-medium",children:"S ti khon:"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-blue-600 font-medium mr-2",children:"8068888288888"}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>v("8068888288888"),className:"h-8 w-8 p-0",children:a.jsx(wn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[a.jsx("span",{className:"text-base font-medium",children:"Ni dung chuyn khon:"}),a.jsxs("div",{className:"flex items-center",children:[a.jsxs("span",{className:"text-blue-600 font-medium mr-2",children:["NAPTHE ",f]}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>v(`NAPTHE ${f}`),className:"h-8 w-8 p-0",children:a.jsx(wn,{className:"h-4 w-4"})})]})]})]}),c!=="bank"&&a.jsx("div",{className:"space-y-3 mb-5",children:r[c].content.map((j,N)=>a.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-800 p-3 rounded",children:[a.jsx("span",{className:"text-base",children:j}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>v(j),className:"h-8 w-8 p-0",children:a.jsx(wn,{className:"h-4 w-4"})})]},N))}),a.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded border border-blue-100 dark:border-blue-800",children:[a.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300 mb-3 text-lg",children:"Chi tit giao dch:"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-base",children:[a.jsx("span",{children:"S tin:"}),a.jsxs("span",{children:["$",(s||parseFloat(i)||0).toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between text-base",children:[a.jsx("span",{children:"Ph giao dch:"}),a.jsxs("span",{children:["$",l.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-medium mt-3 pt-3 border-t border-blue-200 dark:border-blue-700 text-lg",children:[a.jsx("span",{children:"Tng tin:"}),a.jsxs("span",{className:"text-blue-600",children:["$",o.toFixed(2)]})]}),a.jsxs("div",{className:"flex justify-between font-medium text-base",children:[a.jsx("span",{children:"Tng ng:"}),a.jsxs("span",{children:[(o*25e3).toLocaleString("vi-VN")," VND"]})]})]})]}),a.jsxs("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 space-y-2",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-400 mt-1.5 mr-2"}),a.jsx("p",{children:"Qu khch thc hin giao dch theo ng thng tin trn ti khon s c cng t ng sau khi giao dch thnh cng"})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-gray-400 mt-1.5 mr-2"}),a.jsx("p",{children:"Trng hp qu 10 pht sau khi giao dch thnh cng m ti khon qu khch vn cha c cng, vui lng lin h CSKH"})]})]})]})})]}),a.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-between",children:[a.jsx(ee,{variant:"outline",onClick:()=>setShowPaymentInfo(!1),className:"text-base",children:"ng"}),a.jsx(ee,{className:"bg-blue-600 hover:bg-blue-700 text-base text-white",onClick:b,disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx($y,{className:"mr-2 h-4 w-4 animate-spin"}),"ang x l..."]}):"Ti  thanh ton"})]})]})]})})]})}var dc="Collapsible",[_O,cC]=xr(dc),[kO,gx]=_O(dc),dC=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=_n({prop:n,defaultProp:s??!1,onChange:o,caller:dc});return a.jsx(kO,{scope:r,disabled:i,contentId:li(),open:c,onOpenToggle:m.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Me.div,{"data-state":yx(c),"data-disabled":i?"":void 0,...l,ref:t})})});dC.displayName=dc;var uC="CollapsibleTrigger",fC=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=gx(uC,r);return a.jsx(Me.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":yx(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});fC.displayName=uC;var xx="CollapsibleContent",hC=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=gx(xx,e.__scopeCollapsible);return a.jsx(ys,{present:r||s.open,children:({present:i})=>a.jsx(SO,{...n,ref:t,present:i})})});hC.displayName=xx;var SO=m.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=gx(xx,r),[l,c]=m.useState(n),u=m.useRef(null),d=it(t,u),f=m.useRef(0),h=f.current,p=m.useRef(0),x=p.current,g=o.open||l,y=m.useRef(g),b=m.useRef(void 0);return m.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),dr(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const j=v.getBoundingClientRect();f.current=j.height,p.current=j.width,y.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Me.div,{"data-state":yx(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:g&&s})});function yx(e){return e?"open":"closed"}var CO=dC,TO=fC,EO=hC,$r="Accordion",PO=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[vx,AO,RO]=WN($r),[uc,AH]=xr($r,[RO,cC]),bx=cC(),pC=D.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(vx.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(FO,{...i,ref:t}):a.jsx(OO,{...s,ref:t})})});pC.displayName=$r;var[mC,IO]=uc($r),[gC,MO]=uc($r,{collapsible:!1}),OO=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=_n({prop:r,defaultProp:n??"",onChange:s,caller:$r});return a.jsx(mC,{scope:e.__scopeAccordion,value:D.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:D.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(gC,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(xC,{...o,ref:t})})})}),FO=D.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=_n({prop:r,defaultProp:n??[],onChange:s,caller:$r}),c=D.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=D.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(mC,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(gC,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(xC,{...i,ref:t})})})}),[LO,fc]=uc($r),xC=D.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=D.useRef(null),c=it(l,t),u=AO(r),f=wo(s)==="ltr",h=ze(e.onKeyDown,p=>{var E;if(!PO.includes(p.key))return;const x=p.target,g=u().filter(S=>{var M;return!((M=S.ref.current)!=null&&M.disabled)}),y=g.findIndex(S=>S.ref.current===x),b=g.length;if(y===-1)return;p.preventDefault();let v=y;const j=0,N=b-1,_=()=>{v=y+1,v>N&&(v=j)},P=()=>{v=y-1,v<j&&(v=N)};switch(p.key){case"Home":v=j;break;case"End":v=N;break;case"ArrowRight":i==="horizontal"&&(f?_():P());break;case"ArrowDown":i==="vertical"&&_();break;case"ArrowLeft":i==="horizontal"&&(f?P():_());break;case"ArrowUp":i==="vertical"&&P();break}const C=v%b;(E=g[C].ref.current)==null||E.focus()});return a.jsx(LO,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(vx.Slot,{scope:r,children:a.jsx(Me.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),El="AccordionItem",[$O,wx]=uc(El),yC=D.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=fc(El,r),o=IO(El,r),l=bx(r),c=li(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx($O,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(CO,{"data-orientation":i.orientation,"data-state":_C(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});yC.displayName=El;var vC="AccordionHeader",bC=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=fc($r,r),i=wx(vC,r);return a.jsx(Me.h3,{"data-orientation":s.orientation,"data-state":_C(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});bC.displayName=vC;var Jm="AccordionTrigger",wC=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=fc($r,r),i=wx(Jm,r),o=MO(Jm,r),l=bx(r);return a.jsx(vx.ItemSlot,{scope:r,children:a.jsx(TO,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});wC.displayName=Jm;var jC="AccordionContent",NC=D.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=fc($r,r),i=wx(jC,r),o=bx(r);return a.jsx(EO,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});NC.displayName=jC;function _C(e){return e?"open":"closed"}var DO=pC,qO=yC,VO=bC,kC=wC,SC=NC;const BO=DO,wa=m.forwardRef(({className:e,...t},r)=>a.jsx(qO,{ref:r,className:ne("border-b",e),...t}));wa.displayName="AccordionItem";const ja=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(VO,{className:"flex",children:a.jsxs(kC,{ref:n,className:ne("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(_o,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));ja.displayName=kC.displayName;const Na=m.forwardRef(({className:e,children:t,...r},n)=>a.jsx(SC,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:ne("pb-4 pt-0",e),children:t})}));Na.displayName=SC.displayName;function GO(){return a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"User Guide"}),a.jsx(ut,{children:a.jsx(ft,{className:"p-6",children:a.jsxs("div",{className:"prose max-w-none",children:[a.jsx("h2",{children:"Getting Started with AntiDetect Browser"}),a.jsx("p",{children:"Welcome to AntiDetect Browser! This guide will help you understand the basic features and functionality of our platform."}),a.jsx("h3",{children:"Creating Your First Profile"}),a.jsx("p",{children:"Browser profiles allow you to maintain separate browsing identities. Follow these steps to create your first profile:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Navigate to the Profiles page"}),a.jsx("li",{children:'Click the "Add Profile" button'}),a.jsx("li",{children:"Configure your profile settings (OS, browser, etc.)"}),a.jsx("li",{children:"Save your profile"}),a.jsx("li",{children:"Launch your new profile to start browsing"})]}),a.jsx("h3",{children:"Setting Up Proxies"}),a.jsx("p",{children:"To enhance your anonymity, you can configure proxies for your profiles. Here's how:"}),a.jsxs("ol",{children:[a.jsx("li",{children:"Go to the Network page"}),a.jsx("li",{children:'Click "Add Proxy"'}),a.jsx("li",{children:"Enter your proxy details"}),a.jsx("li",{children:"Assign the proxy to your profiles"})]}),a.jsx("p",{children:"For more detailed instructions, please refer to our comprehensive documentation or contact support."})]})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-8 mb-4",children:"Frequently Asked Questions"}),a.jsx(ut,{children:a.jsx(ft,{className:"p-6",children:a.jsxs(BO,{type:"single",collapsible:!0,className:"w-full",children:[a.jsxs(wa,{value:"item-1",children:[a.jsx(ja,{children:"What is browser fingerprinting?"}),a.jsx(Na,{children:`Browser fingerprinting is a technique used to track and identify users based on their browser's unique characteristics. These include your browser version, operating system, installed plugins, screen resolution, timezone, language settings, and more. When combined, these attributes create a unique "fingerprint" that can be used to identify and track you across websites.`})]}),a.jsxs(wa,{value:"item-2",children:[a.jsx(ja,{children:"How does AntiDetect Browser protect me?"}),a.jsx(Na,{children:"AntiDetect Browser allows you to create multiple browser profiles with unique fingerprints. Each profile emulates a specific browser configuration, making it appear as if you're using a completely different device. This helps prevent tracking and identification across different websites and services. Additionally, we provide WebRTC protection, canvas fingerprint spoofing, and timezone spoofing to further enhance your privacy."})]}),a.jsxs(wa,{value:"item-3",children:[a.jsx(ja,{children:"Can I use my existing bookmarks and extensions?"}),a.jsx(Na,{children:"Yes, you can import your bookmarks from other browsers. Extensions can also be installed in each profile independently, allowing you to maintain different sets of extensions for different browsing purposes. However, be aware that some extensions may compromise your anonymity by revealing identifying information."})]}),a.jsxs(wa,{value:"item-4",children:[a.jsx(ja,{children:"Do I need to use a proxy with AntiDetect Browser?"}),a.jsx(Na,{children:"While not strictly required, using a proxy or VPN with AntiDetect Browser is highly recommended for maximum anonymity. Your IP address is a crucial part of your online identity, and without masking it, websites can still potentially identify you despite browser fingerprinting protection. We offer seamless proxy integration to make this process as simple as possible."})]}),a.jsxs(wa,{value:"item-5",children:[a.jsx(ja,{children:"How many profiles can I create?"}),a.jsx(Na,{children:"The number of profiles you can create depends on your subscription plan. Basic users can create up to 5 profiles, while Premium users get unlimited profiles. Each profile operates independently and has its own settings, cookies, cache, and browsing history."})]})]})})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mt-8 mb-4",children:"Video Tutorials"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Getting Started"})}),a.jsxs(ft,{children:[a.jsx("div",{className:"aspect-video bg-gray-100 rounded-md flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Video tutorial available after login"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"A complete overview of AntiDetect Browser's basic features."})]})]}),a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Advanced Profile Configuration"})}),a.jsxs(ft,{children:[a.jsx("div",{className:"aspect-video bg-gray-100 rounded-md flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Video tutorial available after login"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Learn how to configure advanced fingerprinting settings."})]})]}),a.jsxs(ut,{children:[a.jsx(bt,{className:"pb-2",children:a.jsx(wt,{className:"text-lg",children:"Proxy Integration"})}),a.jsxs(ft,{children:[a.jsx("div",{className:"aspect-video bg-gray-100 rounded-md flex items-center justify-center",children:a.jsx("p",{className:"text-gray-500",children:"Video tutorial available after login"})}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"How to set up and use proxies with your browser profiles."})]})]})]})]})}function Jt(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let r=0,n;r<e.length;r++)(n=Jt(e[r]))!==""&&(t+=(t&&" ")+n);else for(let r in e)e[r]&&(t+=(t&&" ")+r);return t}var CC={exports:{}},TC={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=m,WO=Ul;function zO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HO=typeof Object.is=="function"?Object.is:zO,UO=WO.useSyncExternalStore,KO=hc.useRef,ZO=hc.useEffect,YO=hc.useMemo,QO=hc.useDebugValue;TC.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=KO(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=YO(function(){function c(p){if(!u){if(u=!0,d=p,p=n(p),s!==void 0&&o.hasValue){var x=o.value;if(s(x,p))return f=x}return f=p}if(x=f,HO(d,p))return x;var g=n(p);return s!==void 0&&s(x,g)?(d=p,x):(d=p,f=g)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=UO(e,i[0],i[1]);return ZO(function(){o.hasValue=!0,o.value=l},[l]),QO(l),l};CC.exports=TC;var XO=CC.exports;const JO=t2(XO),eF={},Tv=e=>{let t;const r=new Set,n=(d,f)=>{const h=typeof d=="function"?d(t):d;if(!Object.is(h,t)){const p=t;t=f??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(x=>x(t,p))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(eF?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},tF=e=>e?Tv(e):Tv,{useDebugValue:rF}=D,{useSyncExternalStoreWithSelector:nF}=JO,sF=e=>e;function EC(e,t=sF,r){const n=nF(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return rF(n),n}const Ev=(e,t)=>{const r=tF(e),n=(s,i=t)=>EC(r,s,i);return Object.assign(n,r),n},aF=(e,t)=>e?Ev(e,t):Ev;function $t(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,s]of e)if(!Object.is(s,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!1;for(const n of r)if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.is(e[n],t[n]))return!1;return!0}var iF={value:()=>{}};function pc(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new al(r)}function al(e){this._=e}function oF(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");if(s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}al.prototype=pc.prototype={constructor:al,on:function(e,t){var r=this._,n=oF(e+"",r),s,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((s=(e=n[i]).type)&&(s=lF(r[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=n[i]).type)r[s]=Pv(r[s],e.name,t);else if(t==null)for(s in r)r[s]=Pv(r[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new al(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var r=new Array(s),n=0,s,i;n<s;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,s=i.length;n<s;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],s=0,i=n.length;s<i;++s)n[s].value.apply(t,r)}};function lF(e,t){for(var r=0,n=e.length,s;r<n;++r)if((s=e[r]).name===t)return s.value}function Pv(e,t,r){for(var n=0,s=e.length;n<s;++n)if(e[n].name===t){e[n]=iF,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var eg="http://www.w3.org/1999/xhtml";const Av={svg:"http://www.w3.org/2000/svg",xhtml:eg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mc(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),Av.hasOwnProperty(t)?{space:Av[t],local:e}:e}function cF(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===eg&&t.documentElement.namespaceURI===eg?t.createElement(e):t.createElementNS(r,e)}}function dF(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function PC(e){var t=mc(e);return(t.local?dF:cF)(t)}function uF(){}function jx(e){return e==null?uF:function(){return this.querySelector(e)}}function fF(e){typeof e!="function"&&(e=jx(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=new Array(o),c,u,d=0;d<o;++d)(c=i[d])&&(u=e.call(c,c.__data__,d,i))&&("__data__"in c&&(u.__data__=c.__data__),l[d]=u);return new fr(n,this._parents)}function hF(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function pF(){return[]}function AC(e){return e==null?pF:function(){return this.querySelectorAll(e)}}function mF(e){return function(){return hF(e.apply(this,arguments))}}function gF(e){typeof e=="function"?e=mF(e):e=AC(e);for(var t=this._groups,r=t.length,n=[],s=[],i=0;i<r;++i)for(var o=t[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&(n.push(e.call(c,c.__data__,u,o)),s.push(c));return new fr(n,s)}function RC(e){return function(){return this.matches(e)}}function IC(e){return function(t){return t.matches(e)}}var xF=Array.prototype.find;function yF(e){return function(){return xF.call(this.children,e)}}function vF(){return this.firstElementChild}function bF(e){return this.select(e==null?vF:yF(typeof e=="function"?e:IC(e)))}var wF=Array.prototype.filter;function jF(){return Array.from(this.children)}function NF(e){return function(){return wF.call(this.children,e)}}function _F(e){return this.selectAll(e==null?jF:NF(typeof e=="function"?e:IC(e)))}function kF(e){typeof e!="function"&&(e=RC(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new fr(n,this._parents)}function MC(e){return new Array(e.length)}function SF(){return new fr(this._enter||this._groups.map(MC),this._parents)}function Pl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pl.prototype={constructor:Pl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function CF(e){return function(){return e}}function TF(e,t,r,n,s,i){for(var o=0,l,c=t.length,u=i.length;o<u;++o)(l=t[o])?(l.__data__=i[o],n[o]=l):r[o]=new Pl(e,i[o]);for(;o<c;++o)(l=t[o])&&(s[o]=l)}function EF(e,t,r,n,s,i,o){var l,c,u=new Map,d=t.length,f=i.length,h=new Array(d),p;for(l=0;l<d;++l)(c=t[l])&&(h[l]=p=o.call(c,c.__data__,l,t)+"",u.has(p)?s[l]=c:u.set(p,c));for(l=0;l<f;++l)p=o.call(e,i[l],l,i)+"",(c=u.get(p))?(n[l]=c,c.__data__=i[l],u.delete(p)):r[l]=new Pl(e,i[l]);for(l=0;l<d;++l)(c=t[l])&&u.get(h[l])===c&&(s[l]=c)}function PF(e){return e.__data__}function AF(e,t){if(!arguments.length)return Array.from(this,PF);var r=t?EF:TF,n=this._parents,s=this._groups;typeof e!="function"&&(e=CF(e));for(var i=s.length,o=new Array(i),l=new Array(i),c=new Array(i),u=0;u<i;++u){var d=n[u],f=s[u],h=f.length,p=RF(e.call(d,d&&d.__data__,u,n)),x=p.length,g=l[u]=new Array(x),y=o[u]=new Array(x),b=c[u]=new Array(h);r(d,f,g,y,b,p,t);for(var v=0,j=0,N,_;v<x;++v)if(N=g[v]){for(v>=j&&(j=v+1);!(_=y[j])&&++j<x;);N._next=_||null}}return o=new fr(o,n),o._enter=l,o._exit=c,o}function RF(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IF(){return new fr(this._exit||this._groups.map(MC),this._parents)}function MF(e,t,r){var n=this.enter(),s=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),r==null?i.remove():r(i),n&&s?n.merge(s).order():s}function OF(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,s=r.length,i=n.length,o=Math.min(s,i),l=new Array(s),c=0;c<o;++c)for(var u=r[c],d=n[c],f=u.length,h=l[c]=new Array(f),p,x=0;x<f;++x)(p=u[x]||d[x])&&(h[x]=p);for(;c<s;++c)l[c]=r[c];return new fr(l,this._parents)}function FF(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],s=n.length-1,i=n[s],o;--s>=0;)(o=n[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function LF(e){e||(e=$F);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i){for(var o=r[i],l=o.length,c=s[i]=new Array(l),u,d=0;d<l;++d)(u=o[d])&&(c[d]=u);c.sort(t)}return new fr(s,this._parents).order()}function $F(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function DF(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function qF(){return Array.from(this)}function VF(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length;s<i;++s){var o=n[s];if(o)return o}return null}function BF(){let e=0;for(const t of this)++e;return e}function GF(){return!this.node()}function WF(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var s=t[r],i=0,o=s.length,l;i<o;++i)(l=s[i])&&e.call(l,l.__data__,i,s);return this}function zF(e){return function(){this.removeAttribute(e)}}function HF(e){return function(){this.removeAttributeNS(e.space,e.local)}}function UF(e,t){return function(){this.setAttribute(e,t)}}function KF(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ZF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function YF(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function QF(e,t){var r=mc(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?HF:zF:typeof t=="function"?r.local?YF:ZF:r.local?KF:UF)(r,t))}function OC(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function XF(e){return function(){this.style.removeProperty(e)}}function JF(e,t,r){return function(){this.style.setProperty(e,t,r)}}function eL(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function tL(e,t,r){return arguments.length>1?this.each((t==null?XF:typeof t=="function"?eL:JF)(e,t,r??"")):ni(this.node(),e)}function ni(e,t){return e.style.getPropertyValue(t)||OC(e).getComputedStyle(e,null).getPropertyValue(t)}function rL(e){return function(){delete this[e]}}function nL(e,t){return function(){this[e]=t}}function sL(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function aL(e,t){return arguments.length>1?this.each((t==null?rL:typeof t=="function"?sL:nL)(e,t)):this.node()[e]}function FC(e){return e.trim().split(/^|\s+/)}function Nx(e){return e.classList||new LC(e)}function LC(e){this._node=e,this._names=FC(e.getAttribute("class")||"")}LC.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $C(e,t){for(var r=Nx(e),n=-1,s=t.length;++n<s;)r.add(t[n])}function DC(e,t){for(var r=Nx(e),n=-1,s=t.length;++n<s;)r.remove(t[n])}function iL(e){return function(){$C(this,e)}}function oL(e){return function(){DC(this,e)}}function lL(e,t){return function(){(t.apply(this,arguments)?$C:DC)(this,e)}}function cL(e,t){var r=FC(e+"");if(arguments.length<2){for(var n=Nx(this.node()),s=-1,i=r.length;++s<i;)if(!n.contains(r[s]))return!1;return!0}return this.each((typeof t=="function"?lL:t?iL:oL)(r,t))}function dL(){this.textContent=""}function uL(e){return function(){this.textContent=e}}function fL(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hL(e){return arguments.length?this.each(e==null?dL:(typeof e=="function"?fL:uL)(e)):this.node().textContent}function pL(){this.innerHTML=""}function mL(e){return function(){this.innerHTML=e}}function gL(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function xL(e){return arguments.length?this.each(e==null?pL:(typeof e=="function"?gL:mL)(e)):this.node().innerHTML}function yL(){this.nextSibling&&this.parentNode.appendChild(this)}function vL(){return this.each(yL)}function bL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wL(){return this.each(bL)}function jL(e){var t=typeof e=="function"?e:PC(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function NL(){return null}function _L(e,t){var r=typeof e=="function"?e:PC(e),n=t==null?NL:typeof t=="function"?t:jx(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function kL(){var e=this.parentNode;e&&e.removeChild(this)}function SL(){return this.each(kL)}function CL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function TL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function EL(e){return this.select(e?TL:CL)}function PL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function AL(e){return function(t){e.call(this,t,this.__data__)}}function RL(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function IL(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,s=t.length,i;r<s;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function ML(e,t,r){return function(){var n=this.__on,s,i=AL(t);if(n){for(var o=0,l=n.length;o<l;++o)if((s=n[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=r),s.value=t;return}}this.addEventListener(e.type,i,r),s={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(s):this.__on=[s]}}function OL(e,t,r){var n=RL(e+""),s,i=n.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,u=l.length,d;c<u;++c)for(s=0,d=l[c];s<i;++s)if((o=n[s]).type===d.type&&o.name===d.name)return d.value}return}for(l=t?ML:IL,s=0;s<i;++s)this.each(l(n[s],t,r));return this}function qC(e,t,r){var n=OC(e),s=n.CustomEvent;typeof s=="function"?s=new s(t,r):(s=n.document.createEvent("Event"),r?(s.initEvent(t,r.bubbles,r.cancelable),s.detail=r.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function FL(e,t){return function(){return qC(this,e,t)}}function LL(e,t){return function(){return qC(this,e,t.apply(this,arguments))}}function $L(e,t){return this.each((typeof t=="function"?LL:FL)(e,t))}function*DL(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],s=0,i=n.length,o;s<i;++s)(o=n[s])&&(yield o)}var VC=[null];function fr(e,t){this._groups=e,this._parents=t}function Eo(){return new fr([[document.documentElement]],VC)}function qL(){return this}fr.prototype=Eo.prototype={constructor:fr,select:fF,selectAll:gF,selectChild:bF,selectChildren:_F,filter:kF,data:AF,enter:SF,exit:IF,join:MF,merge:OF,selection:qL,order:FF,sort:LF,call:DF,nodes:qF,node:VF,size:BF,empty:GF,each:WF,attr:QF,style:tL,property:aL,classed:cL,text:hL,html:xL,raise:vL,lower:wL,append:jL,insert:_L,remove:SL,clone:EL,datum:PL,on:OL,dispatch:$L,[Symbol.iterator]:DL};function Or(e){return typeof e=="string"?new fr([[document.querySelector(e)]],[document.documentElement]):new fr([[e]],VC)}function VL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wr(e,t){if(e=VL(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const BL={passive:!1},co={capture:!0,passive:!1};function fd(e){e.stopImmediatePropagation()}function Aa(e){e.preventDefault(),e.stopImmediatePropagation()}function BC(e){var t=e.document.documentElement,r=Or(e).on("dragstart.drag",Aa,co);"onselectstart"in t?r.on("selectstart.drag",Aa,co):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function GC(e,t){var r=e.document.documentElement,n=Or(e).on("dragstart.drag",null);t&&(n.on("click.drag",Aa,co),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const Ho=e=>()=>e;function tg(e,{sourceEvent:t,subject:r,target:n,identifier:s,active:i,x:o,y:l,dx:c,dy:u,dispatch:d}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}tg.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function GL(e){return!e.ctrlKey&&!e.button}function WL(){return this.parentNode}function zL(e,t){return t??{x:e.x,y:e.y}}function HL(){return navigator.maxTouchPoints||"ontouchstart"in this}function UL(){var e=GL,t=WL,r=zL,n=HL,s={},i=pc("start","drag","end"),o=0,l,c,u,d,f=0;function h(N){N.on("mousedown.drag",p).filter(n).on("touchstart.drag",y).on("touchmove.drag",b,BL).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(N,_){if(!(d||!e.call(this,N,_))){var P=j(this,t.call(this,N,_),N,_,"mouse");P&&(Or(N.view).on("mousemove.drag",x,co).on("mouseup.drag",g,co),BC(N.view),fd(N),u=!1,l=N.clientX,c=N.clientY,P("start",N))}}function x(N){if(Aa(N),!u){var _=N.clientX-l,P=N.clientY-c;u=_*_+P*P>f}s.mouse("drag",N)}function g(N){Or(N.view).on("mousemove.drag mouseup.drag",null),GC(N.view,u),Aa(N),s.mouse("end",N)}function y(N,_){if(e.call(this,N,_)){var P=N.changedTouches,C=t.call(this,N,_),E=P.length,S,M;for(S=0;S<E;++S)(M=j(this,C,N,_,P[S].identifier,P[S]))&&(fd(N),M("start",N,P[S]))}}function b(N){var _=N.changedTouches,P=_.length,C,E;for(C=0;C<P;++C)(E=s[_[C].identifier])&&(Aa(N),E("drag",N,_[C]))}function v(N){var _=N.changedTouches,P=_.length,C,E;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),C=0;C<P;++C)(E=s[_[C].identifier])&&(fd(N),E("end",N,_[C]))}function j(N,_,P,C,E,S){var M=i.copy(),O=Wr(S||P,_),A,B,k;if((k=r.call(N,new tg("beforestart",{sourceEvent:P,target:h,identifier:E,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:M}),C))!=null)return A=k.x-O[0]||0,B=k.y-O[1]||0,function w(T,I,F){var R=O,V;switch(T){case"start":s[E]=w,V=o++;break;case"end":delete s[E],--o;case"drag":O=Wr(F||I,_),V=o;break}M.call(T,N,new tg(T,{sourceEvent:I,subject:k,target:h,identifier:E,active:V,x:O[0]+A,y:O[1]+B,dx:O[0]-R[0],dy:O[1]-R[1],dispatch:M}),C)}}return h.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Ho(!!N),h):e},h.container=function(N){return arguments.length?(t=typeof N=="function"?N:Ho(N),h):t},h.subject=function(N){return arguments.length?(r=typeof N=="function"?N:Ho(N),h):r},h.touchable=function(N){return arguments.length?(n=typeof N=="function"?N:Ho(!!N),h):n},h.on=function(){var N=i.on.apply(i,arguments);return N===i?h:N},h.clickDistance=function(N){return arguments.length?(f=(N=+N)*N,h):Math.sqrt(f)},h}function _x(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Po(){}var uo=.7,Al=1/uo,Ra="\\s*([+-]?\\d+)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KL=/^#([0-9a-f]{3,8})$/,ZL=new RegExp(`^rgb\\(${Ra},${Ra},${Ra}\\)$`),YL=new RegExp(`^rgb\\(${Jr},${Jr},${Jr}\\)$`),QL=new RegExp(`^rgba\\(${Ra},${Ra},${Ra},${fo}\\)$`),XL=new RegExp(`^rgba\\(${Jr},${Jr},${Jr},${fo}\\)$`),JL=new RegExp(`^hsl\\(${fo},${Jr},${Jr}\\)$`),e$=new RegExp(`^hsla\\(${fo},${Jr},${Jr},${fo}\\)$`),Rv={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_x(Po,ho,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Iv,formatHex:Iv,formatHex8:t$,formatHsl:r$,formatRgb:Mv,toString:Mv});function Iv(){return this.rgb().formatHex()}function t$(){return this.rgb().formatHex8()}function r$(){return zC(this).formatHsl()}function Mv(){return this.rgb().formatRgb()}function ho(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KL.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Ov(t):r===3?new nr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Uo(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Uo(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ZL.exec(e))?new nr(t[1],t[2],t[3],1):(t=YL.exec(e))?new nr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QL.exec(e))?Uo(t[1],t[2],t[3],t[4]):(t=XL.exec(e))?Uo(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JL.exec(e))?$v(t[1],t[2]/100,t[3]/100,1):(t=e$.exec(e))?$v(t[1],t[2]/100,t[3]/100,t[4]):Rv.hasOwnProperty(e)?Ov(Rv[e]):e==="transparent"?new nr(NaN,NaN,NaN,0):null}function Ov(e){return new nr(e>>16&255,e>>8&255,e&255,1)}function Uo(e,t,r,n){return n<=0&&(e=t=r=NaN),new nr(e,t,r,n)}function n$(e){return e instanceof Po||(e=ho(e)),e?(e=e.rgb(),new nr(e.r,e.g,e.b,e.opacity)):new nr}function rg(e,t,r,n){return arguments.length===1?n$(e):new nr(e,t,r,n??1)}function nr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_x(nr,rg,WC(Po,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uo:Math.pow(uo,e),new nr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nr(Hs(this.r),Hs(this.g),Hs(this.b),Rl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fv,formatHex:Fv,formatHex8:s$,formatRgb:Lv,toString:Lv}));function Fv(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}`}function s$(){return`#${Ps(this.r)}${Ps(this.g)}${Ps(this.b)}${Ps((isNaN(this.opacity)?1:this.opacity)*255)}`}function Lv(){const e=Rl(this.opacity);return`${e===1?"rgb(":"rgba("}${Hs(this.r)}, ${Hs(this.g)}, ${Hs(this.b)}${e===1?")":`, ${e})`}`}function Rl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ps(e){return e=Hs(e),(e<16?"0":"")+e.toString(16)}function $v(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Fr(e,t,r,n)}function zC(e){if(e instanceof Fr)return new Fr(e.h,e.s,e.l,e.opacity);if(e instanceof Po||(e=ho(e)),!e)return new Fr;if(e instanceof Fr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Fr(o,l,c,e.opacity)}function a$(e,t,r,n){return arguments.length===1?zC(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_x(Fr,a$,WC(Po,{brighter(e){return e=e==null?Al:Math.pow(Al,e),new Fr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uo:Math.pow(uo,e),new Fr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new nr(hd(e>=240?e-240:e+120,s,n),hd(e,s,n),hd(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Fr(Dv(this.h),Ko(this.s),Ko(this.l),Rl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rl(this.opacity);return`${e===1?"hsl(":"hsla("}${Dv(this.h)}, ${Ko(this.s)*100}%, ${Ko(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dv(e){return e=(e||0)%360,e<0?e+360:e}function Ko(e){return Math.max(0,Math.min(1,e||0))}function hd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const HC=e=>()=>e;function i$(e,t){return function(r){return e+r*t}}function o$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function l$(e){return(e=+e)==1?UC:function(t,r){return r-t?o$(t,r,e):HC(isNaN(t)?r:t)}}function UC(e,t){var r=t-e;return r?i$(e,r):HC(isNaN(e)?t:e)}const qv=function e(t){var r=l$(t);function n(s,i){var o=r((s=rg(s)).r,(i=rg(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=UC(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function zn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var ng=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pd=new RegExp(ng.source,"g");function c$(e){return function(){return e}}function d$(e){return function(t){return e(t)+""}}function u$(e,t){var r=ng.lastIndex=pd.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=ng.exec(e))&&(s=pd.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:zn(n,s)})),r=pd.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?d$(c[0].x):c$(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}var Vv=180/Math.PI,sg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KC(e,t,r,n,s,i){var o,l,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(l=Math.sqrt(r*r+n*n))&&(r/=l,n/=l,c/=l),e*n<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*Vv,skewX:Math.atan(c)*Vv,scaleX:o,scaleY:l}}var Zo;function f$(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?sg:KC(t.a,t.b,t.c,t.d,t.e,t.f)}function h$(e){return e==null||(Zo||(Zo=document.createElementNS("http://www.w3.org/2000/svg","g")),Zo.setAttribute("transform",e),!(e=Zo.transform.baseVal.consolidate()))?sg:(e=e.matrix,KC(e.a,e.b,e.c,e.d,e.e,e.f))}function ZC(e,t,r,n){function s(u){return u.length?u.pop()+" ":""}function i(u,d,f,h,p,x){if(u!==f||d!==h){var g=p.push("translate(",null,t,null,r);x.push({i:g-4,x:zn(u,f)},{i:g-2,x:zn(d,h)})}else(f||h)&&p.push("translate("+f+t+h+r)}function o(u,d,f,h){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),h.push({i:f.push(s(f)+"rotate(",null,n)-2,x:zn(u,d)})):d&&f.push(s(f)+"rotate("+d+n)}function l(u,d,f,h){u!==d?h.push({i:f.push(s(f)+"skewX(",null,n)-2,x:zn(u,d)}):d&&f.push(s(f)+"skewX("+d+n)}function c(u,d,f,h,p,x){if(u!==f||d!==h){var g=p.push(s(p)+"scale(",null,",",null,")");x.push({i:g-4,x:zn(u,f)},{i:g-2,x:zn(d,h)})}else(f!==1||h!==1)&&p.push(s(p)+"scale("+f+","+h+")")}return function(u,d){var f=[],h=[];return u=e(u),d=e(d),i(u.translateX,u.translateY,d.translateX,d.translateY,f,h),o(u.rotate,d.rotate,f,h),l(u.skewX,d.skewX,f,h),c(u.scaleX,u.scaleY,d.scaleX,d.scaleY,f,h),u=d=null,function(p){for(var x=-1,g=h.length,y;++x<g;)f[(y=h[x]).i]=y.x(p);return f.join("")}}}var p$=ZC(f$,"px, ","px)","deg)"),m$=ZC(h$,", ",")",")"),g$=1e-12;function Bv(e){return((e=Math.exp(e))+1/e)/2}function x$(e){return((e=Math.exp(e))-1/e)/2}function y$(e){return((e=Math.exp(2*e))-1)/(e+1)}const v$=function e(t,r,n){function s(i,o){var l=i[0],c=i[1],u=i[2],d=o[0],f=o[1],h=o[2],p=d-l,x=f-c,g=p*p+x*x,y,b;if(g<g$)b=Math.log(h/u)/t,y=function(C){return[l+C*p,c+C*x,u*Math.exp(t*C*b)]};else{var v=Math.sqrt(g),j=(h*h-u*u+n*g)/(2*u*r*v),N=(h*h-u*u-n*g)/(2*h*r*v),_=Math.log(Math.sqrt(j*j+1)-j),P=Math.log(Math.sqrt(N*N+1)-N);b=(P-_)/t,y=function(C){var E=C*b,S=Bv(_),M=u/(r*v)*(S*y$(t*E+_)-x$(_));return[l+M*p,c+M*x,u*S/Bv(t*E+_)]}}return y.duration=b*1e3*t/Math.SQRT2,y}return s.rho=function(i){var o=Math.max(.001,+i),l=o*o,c=l*l;return e(o,l,c)},s}(Math.SQRT2,2,4);var si=0,Vi=0,Ei=0,YC=1e3,Il,Bi,Ml=0,ea=0,gc=0,po=typeof performance=="object"&&performance.now?performance:Date,QC=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function kx(){return ea||(QC(b$),ea=po.now()+gc)}function b$(){ea=0}function Ol(){this._call=this._time=this._next=null}Ol.prototype=XC.prototype={constructor:Ol,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?kx():+r)+(t==null?0:+t),!this._next&&Bi!==this&&(Bi?Bi._next=this:Il=this,Bi=this),this._call=e,this._time=r,ag()},stop:function(){this._call&&(this._call=null,this._time=1/0,ag())}};function XC(e,t,r){var n=new Ol;return n.restart(e,t,r),n}function w$(){kx(),++si;for(var e=Il,t;e;)(t=ea-e._time)>=0&&e._call.call(void 0,t),e=e._next;--si}function Gv(){ea=(Ml=po.now())+gc,si=Vi=0;try{w$()}finally{si=0,N$(),ea=0}}function j$(){var e=po.now(),t=e-Ml;t>YC&&(gc-=t,Ml=e)}function N$(){for(var e,t=Il,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Il=r);Bi=e,ag(n)}function ag(e){if(!si){Vi&&(Vi=clearTimeout(Vi));var t=e-ea;t>24?(e<1/0&&(Vi=setTimeout(Gv,e-po.now()-gc)),Ei&&(Ei=clearInterval(Ei))):(Ei||(Ml=po.now(),Ei=setInterval(j$,YC)),si=1,QC(Gv))}}function Wv(e,t,r){var n=new Ol;return t=t==null?0:+t,n.restart(s=>{n.stop(),e(s+t)},t,r),n}var _$=pc("start","end","cancel","interrupt"),k$=[],JC=0,zv=1,ig=2,il=3,Hv=4,og=5,ol=6;function xc(e,t,r,n,s,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;S$(e,r,{name:t,index:n,group:s,on:_$,tween:k$,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:JC})}function Sx(e,t){var r=Dr(e,t);if(r.state>JC)throw new Error("too late; already scheduled");return r}function sn(e,t){var r=Dr(e,t);if(r.state>il)throw new Error("too late; already running");return r}function Dr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function S$(e,t,r){var n=e.__transition,s;n[t]=r,r.timer=XC(i,0,r.time);function i(u){r.state=zv,r.timer.restart(o,r.delay,r.time),r.delay<=u&&o(u-r.delay)}function o(u){var d,f,h,p;if(r.state!==zv)return c();for(d in n)if(p=n[d],p.name===r.name){if(p.state===il)return Wv(o);p.state===Hv?(p.state=ol,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[d]):+d<t&&(p.state=ol,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[d])}if(Wv(function(){r.state===il&&(r.state=Hv,r.timer.restart(l,r.delay,r.time),l(u))}),r.state=ig,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ig){for(r.state=il,s=new Array(h=r.tween.length),d=0,f=-1;d<h;++d)(p=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(s[++f]=p);s.length=f+1}}function l(u){for(var d=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(c),r.state=og,1),f=-1,h=s.length;++f<h;)s[f].call(e,d);r.state===og&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=ol,r.timer.stop(),delete n[t];for(var u in n)return;delete e.__transition}}function ll(e,t){var r=e.__transition,n,s,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}s=n.state>ig&&n.state<og,n.state=ol,n.timer.stop(),n.on.call(s?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function C$(e){return this.each(function(){ll(this,e)})}function T$(e,t){var r,n;return function(){var s=sn(this,e),i=s.tween;if(i!==r){n=r=i;for(var o=0,l=n.length;o<l;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}s.tween=n}}function E$(e,t,r){var n,s;if(typeof r!="function")throw new Error;return function(){var i=sn(this,e),o=i.tween;if(o!==n){s=(n=o).slice();for(var l={name:t,value:r},c=0,u=s.length;c<u;++c)if(s[c].name===t){s[c]=l;break}c===u&&s.push(l)}i.tween=s}}function P$(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Dr(this.node(),r).tween,s=0,i=n.length,o;s<i;++s)if((o=n[s]).name===e)return o.value;return null}return this.each((t==null?T$:E$)(r,e,t))}function Cx(e,t,r){var n=e._id;return e.each(function(){var s=sn(this,n);(s.value||(s.value={}))[t]=r.apply(this,arguments)}),function(s){return Dr(s,n).value[t]}}function eT(e,t){var r;return(typeof t=="number"?zn:t instanceof ho?qv:(r=ho(t))?(t=r,qv):u$)(e,t)}function A$(e){return function(){this.removeAttribute(e)}}function R$(e){return function(){this.removeAttributeNS(e.space,e.local)}}function I$(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===n?i:i=t(n=o,r)}}function M$(e,t,r){var n,s=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===n?i:i=t(n=o,r)}}function O$(e,t,r){var n,s,i;return function(){var o,l=r(this),c;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=l+"",o===c?null:o===n&&c===s?i:(s=c,i=t(n=o,l)))}}function F$(e,t,r){var n,s,i;return function(){var o,l=r(this),c;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=l+"",o===c?null:o===n&&c===s?i:(s=c,i=t(n=o,l)))}}function L$(e,t){var r=mc(e),n=r==="transform"?m$:eT;return this.attrTween(e,typeof t=="function"?(r.local?F$:O$)(r,n,Cx(this,"attr."+e,t)):t==null?(r.local?R$:A$)(r):(r.local?M$:I$)(r,n,t))}function $$(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function D$(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function q$(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&D$(e,i)),r}return s._value=t,s}function V$(e,t){var r,n;function s(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&$$(e,i)),r}return s._value=t,s}function B$(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=mc(e);return this.tween(r,(n.local?q$:V$)(n,t))}function G$(e,t){return function(){Sx(this,e).delay=+t.apply(this,arguments)}}function W$(e,t){return t=+t,function(){Sx(this,e).delay=t}}function z$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?G$:W$)(t,e)):Dr(this.node(),t).delay}function H$(e,t){return function(){sn(this,e).duration=+t.apply(this,arguments)}}function U$(e,t){return t=+t,function(){sn(this,e).duration=t}}function K$(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?H$:U$)(t,e)):Dr(this.node(),t).duration}function Z$(e,t){if(typeof t!="function")throw new Error;return function(){sn(this,e).ease=t}}function Y$(e){var t=this._id;return arguments.length?this.each(Z$(t,e)):Dr(this.node(),t).ease}function Q$(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;sn(this,e).ease=r}}function X$(e){if(typeof e!="function")throw new Error;return this.each(Q$(this._id,e))}function J$(e){typeof e!="function"&&(e=RC(e));for(var t=this._groups,r=t.length,n=new Array(r),s=0;s<r;++s)for(var i=t[s],o=i.length,l=n[s]=[],c,u=0;u<o;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&l.push(c);return new Tn(n,this._parents,this._name,this._id)}function eD(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,s=r.length,i=Math.min(n,s),o=new Array(n),l=0;l<i;++l)for(var c=t[l],u=r[l],d=c.length,f=o[l]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(f[p]=h);for(;l<n;++l)o[l]=t[l];return new Tn(o,this._parents,this._name,this._id)}function tD(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function rD(e,t,r){var n,s,i=tD(t)?Sx:sn;return function(){var o=i(this,e),l=o.on;l!==n&&(s=(n=l).copy()).on(t,r),o.on=s}}function nD(e,t){var r=this._id;return arguments.length<2?Dr(this.node(),r).on.on(e):this.each(rD(r,e,t))}function sD(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function aD(){return this.on("end.remove",sD(this._id))}function iD(e){var t=this._name,r=this._id;typeof e!="function"&&(e=jx(e));for(var n=this._groups,s=n.length,i=new Array(s),o=0;o<s;++o)for(var l=n[o],c=l.length,u=i[o]=new Array(c),d,f,h=0;h<c;++h)(d=l[h])&&(f=e.call(d,d.__data__,h,l))&&("__data__"in d&&(f.__data__=d.__data__),u[h]=f,xc(u[h],t,r,h,u,Dr(d,r)));return new Tn(i,this._parents,t,r)}function oD(e){var t=this._name,r=this._id;typeof e!="function"&&(e=AC(e));for(var n=this._groups,s=n.length,i=[],o=[],l=0;l<s;++l)for(var c=n[l],u=c.length,d,f=0;f<u;++f)if(d=c[f]){for(var h=e.call(d,d.__data__,f,c),p,x=Dr(d,r),g=0,y=h.length;g<y;++g)(p=h[g])&&xc(p,t,r,g,h,x);i.push(h),o.push(d)}return new Tn(i,o,t,r)}var lD=Eo.prototype.constructor;function cD(){return new lD(this._groups,this._parents)}function dD(e,t){var r,n,s;return function(){var i=ni(this,e),o=(this.style.removeProperty(e),ni(this,e));return i===o?null:i===r&&o===n?s:s=t(r=i,n=o)}}function tT(e){return function(){this.style.removeProperty(e)}}function uD(e,t,r){var n,s=r+"",i;return function(){var o=ni(this,e);return o===s?null:o===n?i:i=t(n=o,r)}}function fD(e,t,r){var n,s,i;return function(){var o=ni(this,e),l=r(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(e),ni(this,e))),o===c?null:o===n&&c===s?i:(s=c,i=t(n=o,l))}}function hD(e,t){var r,n,s,i="style."+t,o="end."+i,l;return function(){var c=sn(this,e),u=c.on,d=c.value[i]==null?l||(l=tT(t)):void 0;(u!==r||s!==d)&&(n=(r=u).copy()).on(o,s=d),c.on=n}}function pD(e,t,r){var n=(e+="")=="transform"?p$:eT;return t==null?this.styleTween(e,dD(e,n)).on("end.style."+e,tT(e)):typeof t=="function"?this.styleTween(e,fD(e,n,Cx(this,"style."+e,t))).each(hD(this._id,e)):this.styleTween(e,uD(e,n,t),r).on("end.style."+e,null)}function mD(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function gD(e,t,r){var n,s;function i(){var o=t.apply(this,arguments);return o!==s&&(n=(s=o)&&mD(e,o,r)),n}return i._value=t,i}function xD(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,gD(e,t,r??""))}function yD(e){return function(){this.textContent=e}}function vD(e){return function(){var t=e(this);this.textContent=t??""}}function bD(e){return this.tween("text",typeof e=="function"?vD(Cx(this,"text",e)):yD(e==null?"":e+""))}function wD(e){return function(t){this.textContent=e.call(this,t)}}function jD(e){var t,r;function n(){var s=e.apply(this,arguments);return s!==r&&(t=(r=s)&&wD(s)),t}return n._value=e,n}function ND(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,jD(e))}function _D(){for(var e=this._name,t=this._id,r=rT(),n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,c,u=0;u<l;++u)if(c=o[u]){var d=Dr(c,t);xc(c,e,r,u,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Tn(n,this._parents,e,r)}function kD(){var e,t,r=this,n=r._id,s=r.size();return new Promise(function(i,o){var l={value:o},c={value:function(){--s===0&&i()}};r.each(function(){var u=sn(this,n),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),u.on=t}),s===0&&i()})}var SD=0;function Tn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function rT(){return++SD}var dn=Eo.prototype;Tn.prototype={constructor:Tn,select:iD,selectAll:oD,selectChild:dn.selectChild,selectChildren:dn.selectChildren,filter:J$,merge:eD,selection:cD,transition:_D,call:dn.call,nodes:dn.nodes,node:dn.node,size:dn.size,empty:dn.empty,each:dn.each,on:nD,attr:L$,attrTween:B$,style:pD,styleTween:xD,text:bD,textTween:ND,remove:aD,tween:P$,delay:z$,duration:K$,ease:Y$,easeVarying:X$,end:kD,[Symbol.iterator]:dn[Symbol.iterator]};function CD(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var TD={time:null,delay:0,duration:250,ease:CD};function ED(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function PD(e){var t,r;e instanceof Tn?(t=e._id,e=e._name):(t=rT(),(r=TD).time=kx(),e=e==null?null:e+"");for(var n=this._groups,s=n.length,i=0;i<s;++i)for(var o=n[i],l=o.length,c,u=0;u<l;++u)(c=o[u])&&xc(c,e,t,u,o,r||ED(c,t));return new Tn(n,this._parents,e,t)}Eo.prototype.interrupt=C$;Eo.prototype.transition=PD;const Yo=e=>()=>e;function AD(e,{sourceEvent:t,target:r,transform:n,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:s}})}function xn(e,t,r){this.k=e,this.x=t,this.y=r}xn.prototype={constructor:xn,scale:function(e){return e===1?this:new xn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new xn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var fs=new xn(1,0,0);xn.prototype;function md(e){e.stopImmediatePropagation()}function Pi(e){e.preventDefault(),e.stopImmediatePropagation()}function RD(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ID(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Uv(){return this.__zoom||fs}function MD(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function OD(){return navigator.maxTouchPoints||"ontouchstart"in this}function FD(e,t,r){var n=e.invertX(t[0][0])-r[0][0],s=e.invertX(t[1][0])-r[1][0],i=e.invertY(t[0][1])-r[0][1],o=e.invertY(t[1][1])-r[1][1];return e.translate(s>n?(n+s)/2:Math.min(0,n)||Math.max(0,s),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function LD(){var e=RD,t=ID,r=FD,n=MD,s=OD,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=v$,u=pc("start","zoom","end"),d,f,h,p=500,x=150,g=0,y=10;function b(k){k.property("__zoom",Uv).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",O).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}b.transform=function(k,w,T,I){var F=k.selection?k.selection():k;F.property("__zoom",Uv),k!==F?_(k,w,T,I):F.interrupt().each(function(){P(this,arguments).event(I).start().zoom(null,typeof w=="function"?w.apply(this,arguments):w).end()})},b.scaleBy=function(k,w,T,I){b.scaleTo(k,function(){var F=this.__zoom.k,R=typeof w=="function"?w.apply(this,arguments):w;return F*R},T,I)},b.scaleTo=function(k,w,T,I){b.transform(k,function(){var F=t.apply(this,arguments),R=this.__zoom,V=T==null?N(F):typeof T=="function"?T.apply(this,arguments):T,W=R.invert(V),q=typeof w=="function"?w.apply(this,arguments):w;return r(j(v(R,q),V,W),F,o)},T,I)},b.translateBy=function(k,w,T,I){b.transform(k,function(){return r(this.__zoom.translate(typeof w=="function"?w.apply(this,arguments):w,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),o)},null,I)},b.translateTo=function(k,w,T,I,F){b.transform(k,function(){var R=t.apply(this,arguments),V=this.__zoom,W=I==null?N(R):typeof I=="function"?I.apply(this,arguments):I;return r(fs.translate(W[0],W[1]).scale(V.k).translate(typeof w=="function"?-w.apply(this,arguments):-w,typeof T=="function"?-T.apply(this,arguments):-T),R,o)},I,F)};function v(k,w){return w=Math.max(i[0],Math.min(i[1],w)),w===k.k?k:new xn(w,k.x,k.y)}function j(k,w,T){var I=w[0]-T[0]*k.k,F=w[1]-T[1]*k.k;return I===k.x&&F===k.y?k:new xn(k.k,I,F)}function N(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function _(k,w,T,I){k.on("start.zoom",function(){P(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){P(this,arguments).event(I).end()}).tween("zoom",function(){var F=this,R=arguments,V=P(F,R).event(I),W=t.apply(F,R),q=T==null?N(W):typeof T=="function"?T.apply(F,R):T,z=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),Z=F.__zoom,ce=typeof w=="function"?w.apply(F,R):w,Te=c(Z.invert(q).concat(z/Z.k),ce.invert(q).concat(z/ce.k));return function(te){if(te===1)te=ce;else{var pe=Te(te),Ee=z/pe[2];te=new xn(Ee,q[0]-pe[0]*Ee,q[1]-pe[1]*Ee)}V.zoom(null,te)}})}function P(k,w,T){return!T&&k.__zooming||new C(k,w)}function C(k,w){this.that=k,this.args=w,this.active=0,this.sourceEvent=null,this.extent=t.apply(k,w),this.taps=0}C.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,w){return this.mouse&&k!=="mouse"&&(this.mouse[1]=w.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=w.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=w.invert(this.touch1[0])),this.that.__zoom=w,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var w=Or(this.that).datum();u.call(k,this.that,new AD(k,{sourceEvent:this.sourceEvent,target:b,transform:this.that.__zoom,dispatch:u}),w)}};function E(k,...w){if(!e.apply(this,arguments))return;var T=P(this,w).event(k),I=this.__zoom,F=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,n.apply(this,arguments)))),R=Wr(k);if(T.wheel)(T.mouse[0][0]!==R[0]||T.mouse[0][1]!==R[1])&&(T.mouse[1]=I.invert(T.mouse[0]=R)),clearTimeout(T.wheel);else{if(I.k===F)return;T.mouse=[R,I.invert(R)],ll(this),T.start()}Pi(k),T.wheel=setTimeout(V,x),T.zoom("mouse",r(j(v(I,F),T.mouse[0],T.mouse[1]),T.extent,o));function V(){T.wheel=null,T.end()}}function S(k,...w){if(h||!e.apply(this,arguments))return;var T=k.currentTarget,I=P(this,w,!0).event(k),F=Or(k.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",z,!0),R=Wr(k,T),V=k.clientX,W=k.clientY;BC(k.view),md(k),I.mouse=[R,this.__zoom.invert(R)],ll(this),I.start();function q(Z){if(Pi(Z),!I.moved){var ce=Z.clientX-V,Te=Z.clientY-W;I.moved=ce*ce+Te*Te>g}I.event(Z).zoom("mouse",r(j(I.that.__zoom,I.mouse[0]=Wr(Z,T),I.mouse[1]),I.extent,o))}function z(Z){F.on("mousemove.zoom mouseup.zoom",null),GC(Z.view,I.moved),Pi(Z),I.event(Z).end()}}function M(k,...w){if(e.apply(this,arguments)){var T=this.__zoom,I=Wr(k.changedTouches?k.changedTouches[0]:k,this),F=T.invert(I),R=T.k*(k.shiftKey?.5:2),V=r(j(v(T,R),I,F),t.apply(this,w),o);Pi(k),l>0?Or(this).transition().duration(l).call(_,V,I,k):Or(this).call(b.transform,V,I,k)}}function O(k,...w){if(e.apply(this,arguments)){var T=k.touches,I=T.length,F=P(this,w,k.changedTouches.length===I).event(k),R,V,W,q;for(md(k),V=0;V<I;++V)W=T[V],q=Wr(W,this),q=[q,this.__zoom.invert(q),W.identifier],F.touch0?!F.touch1&&F.touch0[2]!==q[2]&&(F.touch1=q,F.taps=0):(F.touch0=q,R=!0,F.taps=1+!!d);d&&(d=clearTimeout(d)),R&&(F.taps<2&&(f=q[0],d=setTimeout(function(){d=null},p)),ll(this),F.start())}}function A(k,...w){if(this.__zooming){var T=P(this,w).event(k),I=k.changedTouches,F=I.length,R,V,W,q;for(Pi(k),R=0;R<F;++R)V=I[R],W=Wr(V,this),T.touch0&&T.touch0[2]===V.identifier?T.touch0[0]=W:T.touch1&&T.touch1[2]===V.identifier&&(T.touch1[0]=W);if(V=T.that.__zoom,T.touch1){var z=T.touch0[0],Z=T.touch0[1],ce=T.touch1[0],Te=T.touch1[1],te=(te=ce[0]-z[0])*te+(te=ce[1]-z[1])*te,pe=(pe=Te[0]-Z[0])*pe+(pe=Te[1]-Z[1])*pe;V=v(V,Math.sqrt(te/pe)),W=[(z[0]+ce[0])/2,(z[1]+ce[1])/2],q=[(Z[0]+Te[0])/2,(Z[1]+Te[1])/2]}else if(T.touch0)W=T.touch0[0],q=T.touch0[1];else return;T.zoom("touch",r(j(V,W,q),T.extent,o))}}function B(k,...w){if(this.__zooming){var T=P(this,w).event(k),I=k.changedTouches,F=I.length,R,V;for(md(k),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),R=0;R<F;++R)V=I[R],T.touch0&&T.touch0[2]===V.identifier?delete T.touch0:T.touch1&&T.touch1[2]===V.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(V=Wr(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<y)){var W=Or(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return b.wheelDelta=function(k){return arguments.length?(n=typeof k=="function"?k:Yo(+k),b):n},b.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Yo(!!k),b):e},b.touchable=function(k){return arguments.length?(s=typeof k=="function"?k:Yo(!!k),b):s},b.extent=function(k){return arguments.length?(t=typeof k=="function"?k:Yo([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),b):t},b.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],b):[i[0],i[1]]},b.translateExtent=function(k){return arguments.length?(o[0][0]=+k[0][0],o[1][0]=+k[1][0],o[0][1]=+k[0][1],o[1][1]=+k[1][1],b):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},b.constrain=function(k){return arguments.length?(r=k,b):r},b.duration=function(k){return arguments.length?(l=+k,b):l},b.interpolate=function(k){return arguments.length?(c=k,b):c},b.on=function(){var k=u.on.apply(u,arguments);return k===u?b:k},b.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,b):Math.sqrt(g)},b.tapDistance=function(k){return arguments.length?(y=+k,b):y},b}const yc=m.createContext(null),$D=yc.Provider,En={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},nT=En.error001();function ht(e,t){const r=m.useContext(yc);if(r===null)throw new Error(nT);return EC(r,e,t)}const It=()=>{const e=m.useContext(yc);if(e===null)throw new Error(nT);return m.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},DD=e=>e.userSelectionActive?"none":"all";function sT({position:e,children:t,className:r,style:n,...s}){const i=ht(DD),o=`${e}`.split("-");return D.createElement("div",{className:Jt(["react-flow__panel",r,...o]),style:{...n,pointerEvents:i},...s},t)}function qD({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:D.createElement(sT,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},D.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const VD=({x:e,y:t,label:r,labelStyle:n={},labelShowBg:s=!0,labelBgStyle:i={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:u,...d})=>{const f=m.useRef(null),[h,p]=m.useState({x:0,y:0,width:0,height:0}),x=Jt(["react-flow__edge-textwrapper",u]);return m.useEffect(()=>{if(f.current){const g=f.current.getBBox();p({x:g.x,y:g.y,width:g.width,height:g.height})}},[r]),typeof r>"u"||!r?null:D.createElement("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...d},s&&D.createElement("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:i,rx:l,ry:l}),D.createElement("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:f,style:n},r),c)};var BD=m.memo(VD);const Tx=e=>({width:e.offsetWidth,height:e.offsetHeight}),ai=(e,t=0,r=1)=>Math.min(Math.max(e,t),r),Ex=(e={x:0,y:0},t)=>({x:ai(e.x,t[0][0],t[1][0]),y:ai(e.y,t[0][1],t[1][1])}),Kv=(e,t,r)=>e<t?ai(Math.abs(e-t),1,50)/50:e>r?-ai(Math.abs(e-r),1,50)/50:0,aT=(e,t)=>{const r=Kv(e.x,35,t.width-35)*20,n=Kv(e.y,35,t.height-35)*20;return[r,n]},iT=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},GD=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Px=({x:e,y:t,width:r,height:n})=>({x:e,y:t,x2:e+r,y2:t+n}),WD=({x:e,y:t,x2:r,y2:n})=>({x:e,y:t,width:r-e,height:n-t}),Zv=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),lg=(e,t)=>{const r=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),n=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(r*n)},zD=e=>mr(e.width)&&mr(e.height)&&mr(e.x)&&mr(e.y),mr=e=>!isNaN(e)&&isFinite(e),yt=Symbol.for("internals"),oT=["Enter"," ","Escape"],HD=(e,t)=>{},UD=e=>"nativeEvent"in e;function cg(e){var s,i;const t=UD(e)?e.nativeEvent:e,r=((i=(s=t.composedPath)==null?void 0:s.call(t))==null?void 0:i[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(r==null?void 0:r.nodeName)||(r==null?void 0:r.hasAttribute("contenteditable"))||!!(r!=null&&r.closest(".nokey"))}const lT=e=>"clientX"in e,hs=(e,t)=>{var i,o;const r=lT(e),n=r?e.clientX:(i=e.touches)==null?void 0:i[0].clientX,s=r?e.clientY:(o=e.touches)==null?void 0:o[0].clientY;return{x:n-((t==null?void 0:t.left)??0),y:s-((t==null?void 0:t.top)??0)}},Fl=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},yi=({id:e,path:t,labelX:r,labelY:n,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p=20})=>D.createElement(D.Fragment,null,D.createElement("path",{id:e,style:d,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:h}),p&&D.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:p,className:"react-flow__edge-interaction"}),s&&mr(r)&&mr(n)?D.createElement(BD,{x:r,y:n,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u}):null);yi.displayName="BaseEdge";function Ai(e,t,r){return r===void 0?r:n=>{const s=t().edges.find(i=>i.id===e);s&&r(n,{...s})}}function cT({sourceX:e,sourceY:t,targetX:r,targetY:n}){const s=Math.abs(r-e)/2,i=r<e?r+s:r-s,o=Math.abs(n-t)/2,l=n<t?n+o:n-o;return[i,l,s,o]}function dT({sourceX:e,sourceY:t,targetX:r,targetY:n,sourceControlX:s,sourceControlY:i,targetControlX:o,targetControlY:l}){const c=e*.125+s*.375+o*.375+r*.125,u=t*.125+i*.375+l*.375+n*.125,d=Math.abs(c-e),f=Math.abs(u-t);return[c,u,d,f]}var ta;(function(e){e.Strict="strict",e.Loose="loose"})(ta||(ta={}));var As;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(As||(As={}));var ii;(function(e){e.Partial="partial",e.Full="full"})(ii||(ii={}));var Kn;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Kn||(Kn={}));var Ll;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ll||(Ll={}));var ie;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ie||(ie={}));function Yv({pos:e,x1:t,y1:r,x2:n,y2:s}){return e===ie.Left||e===ie.Right?[.5*(t+n),r]:[t,.5*(r+s)]}function uT({sourceX:e,sourceY:t,sourcePosition:r=ie.Bottom,targetX:n,targetY:s,targetPosition:i=ie.Top}){const[o,l]=Yv({pos:r,x1:e,y1:t,x2:n,y2:s}),[c,u]=Yv({pos:i,x1:n,y1:s,x2:e,y2:t}),[d,f,h,p]=dT({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${o},${l} ${c},${u} ${n},${s}`,d,f,h,p]}const Ax=m.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=ie.Bottom,targetPosition:i=ie.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:x,interactionWidth:g})=>{const[y,b,v]=uT({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:i});return D.createElement(yi,{path:y,labelX:b,labelY:v,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:x,interactionWidth:g})});Ax.displayName="SimpleBezierEdge";const Qv={[ie.Left]:{x:-1,y:0},[ie.Right]:{x:1,y:0},[ie.Top]:{x:0,y:-1},[ie.Bottom]:{x:0,y:1}},KD=({source:e,sourcePosition:t=ie.Bottom,target:r})=>t===ie.Left||t===ie.Right?e.x<r.x?{x:1,y:0}:{x:-1,y:0}:e.y<r.y?{x:0,y:1}:{x:0,y:-1},Xv=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function ZD({source:e,sourcePosition:t=ie.Bottom,target:r,targetPosition:n=ie.Top,center:s,offset:i}){const o=Qv[t],l=Qv[n],c={x:e.x+o.x*i,y:e.y+o.y*i},u={x:r.x+l.x*i,y:r.y+l.y*i},d=KD({source:c,sourcePosition:t,target:u}),f=d.x!==0?"x":"y",h=d[f];let p=[],x,g;const y={x:0,y:0},b={x:0,y:0},[v,j,N,_]=cT({sourceX:e.x,sourceY:e.y,targetX:r.x,targetY:r.y});if(o[f]*l[f]===-1){x=s.x??v,g=s.y??j;const C=[{x,y:c.y},{x,y:u.y}],E=[{x:c.x,y:g},{x:u.x,y:g}];o[f]===h?p=f==="x"?C:E:p=f==="x"?E:C}else{const C=[{x:c.x,y:u.y}],E=[{x:u.x,y:c.y}];if(f==="x"?p=o.x===h?E:C:p=o.y===h?C:E,t===n){const B=Math.abs(e[f]-r[f]);if(B<=i){const k=Math.min(i-1,i-B);o[f]===h?y[f]=(c[f]>e[f]?-1:1)*k:b[f]=(u[f]>r[f]?-1:1)*k}}if(t!==n){const B=f==="x"?"y":"x",k=o[f]===l[B],w=c[B]>u[B],T=c[B]<u[B];(o[f]===1&&(!k&&w||k&&T)||o[f]!==1&&(!k&&T||k&&w))&&(p=f==="x"?C:E)}const S={x:c.x+y.x,y:c.y+y.y},M={x:u.x+b.x,y:u.y+b.y},O=Math.max(Math.abs(S.x-p[0].x),Math.abs(M.x-p[0].x)),A=Math.max(Math.abs(S.y-p[0].y),Math.abs(M.y-p[0].y));O>=A?(x=(S.x+M.x)/2,g=p[0].y):(x=p[0].x,g=(S.y+M.y)/2)}return[[e,{x:c.x+y.x,y:c.y+y.y},...p,{x:u.x+b.x,y:u.y+b.y},r],x,g,N,_]}function YD(e,t,r,n){const s=Math.min(Xv(e,t)/2,Xv(t,r)/2,n),{x:i,y:o}=t;if(e.x===i&&i===r.x||e.y===o&&o===r.y)return`L${i} ${o}`;if(e.y===o){const u=e.x<r.x?-1:1,d=e.y<r.y?1:-1;return`L ${i+s*u},${o}Q ${i},${o} ${i},${o+s*d}`}const l=e.x<r.x?1:-1,c=e.y<r.y?-1:1;return`L ${i},${o+s*c}Q ${i},${o} ${i+s*l},${o}`}function dg({sourceX:e,sourceY:t,sourcePosition:r=ie.Bottom,targetX:n,targetY:s,targetPosition:i=ie.Top,borderRadius:o=5,centerX:l,centerY:c,offset:u=20}){const[d,f,h,p,x]=ZD({source:{x:e,y:t},sourcePosition:r,target:{x:n,y:s},targetPosition:i,center:{x:l,y:c},offset:u});return[d.reduce((y,b,v)=>{let j="";return v>0&&v<d.length-1?j=YD(d[v-1],b,d[v+1],o):j=`${v===0?"M":"L"}${b.x} ${b.y}`,y+=j,y},""),f,h,p,x]}const vc=m.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,sourcePosition:f=ie.Bottom,targetPosition:h=ie.Top,markerEnd:p,markerStart:x,pathOptions:g,interactionWidth:y})=>{const[b,v,j]=dg({sourceX:e,sourceY:t,sourcePosition:f,targetX:r,targetY:n,targetPosition:h,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return D.createElement(yi,{path:b,labelX:v,labelY:j,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:p,markerStart:x,interactionWidth:y})});vc.displayName="SmoothStepEdge";const Rx=m.memo(e=>{var t;return D.createElement(vc,{...e,pathOptions:m.useMemo(()=>{var r;return{borderRadius:0,offset:(r=e.pathOptions)==null?void 0:r.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Rx.displayName="StepEdge";function fT({sourceX:e,sourceY:t,targetX:r,targetY:n}){const[s,i,o,l]=cT({sourceX:e,sourceY:t,targetX:r,targetY:n});return[`M ${e},${t}L ${r},${n}`,s,i,o,l]}const Ix=m.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})=>{const[x,g,y]=fT({sourceX:e,sourceY:t,targetX:r,targetY:n});return D.createElement(yi,{path:x,labelX:g,labelY:y,label:s,labelStyle:i,labelShowBg:o,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:u,style:d,markerEnd:f,markerStart:h,interactionWidth:p})});Ix.displayName="StraightEdge";function Qo(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function Jv({pos:e,x1:t,y1:r,x2:n,y2:s,c:i}){switch(e){case ie.Left:return[t-Qo(t-n,i),r];case ie.Right:return[t+Qo(n-t,i),r];case ie.Top:return[t,r-Qo(r-s,i)];case ie.Bottom:return[t,r+Qo(s-r,i)]}}function hT({sourceX:e,sourceY:t,sourcePosition:r=ie.Bottom,targetX:n,targetY:s,targetPosition:i=ie.Top,curvature:o=.25}){const[l,c]=Jv({pos:r,x1:e,y1:t,x2:n,y2:s,c:o}),[u,d]=Jv({pos:i,x1:n,y1:s,x2:e,y2:t,c:o}),[f,h,p,x]=dT({sourceX:e,sourceY:t,targetX:n,targetY:s,sourceControlX:l,sourceControlY:c,targetControlX:u,targetControlY:d});return[`M${e},${t} C${l},${c} ${u},${d} ${n},${s}`,f,h,p,x]}const $l=m.memo(({sourceX:e,sourceY:t,targetX:r,targetY:n,sourcePosition:s=ie.Bottom,targetPosition:i=ie.Top,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:x,pathOptions:g,interactionWidth:y})=>{const[b,v,j]=hT({sourceX:e,sourceY:t,sourcePosition:s,targetX:r,targetY:n,targetPosition:i,curvature:g==null?void 0:g.curvature});return D.createElement(yi,{path:b,labelX:v,labelY:j,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:u,labelBgPadding:d,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:x,interactionWidth:y})});$l.displayName="BezierEdge";const Mx=m.createContext(null),QD=Mx.Provider;Mx.Consumer;const XD=()=>m.useContext(Mx),JD=e=>"id"in e&&"source"in e&&"target"in e,e8=({source:e,sourceHandle:t,target:r,targetHandle:n})=>`reactflow__edge-${e}${t||""}-${r}${n||""}`,ug=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(n=>`${n}=${e[n]}`).join("&")}`,t8=(e,t)=>t.some(r=>r.source===e.source&&r.target===e.target&&(r.sourceHandle===e.sourceHandle||!r.sourceHandle&&!e.sourceHandle)&&(r.targetHandle===e.targetHandle||!r.targetHandle&&!e.targetHandle)),pT=(e,t)=>{if(!e.source||!e.target)return t;let r;return JD(e)?r={...e}:r={...e,id:e8(e)},t8(r,t)?t:t.concat(r)},fg=({x:e,y:t},[r,n,s],i,[o,l])=>{const c={x:(e-r)/s,y:(t-n)/s};return i?{x:o*Math.round(c.x/o),y:l*Math.round(c.y/l)}:c},mT=({x:e,y:t},[r,n,s])=>({x:e*s+r,y:t*s+n}),Ia=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(e.width??0)*t[0],n=(e.height??0)*t[1],s={x:e.position.x-r,y:e.position.y-n};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-n}:s}},Ox=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const r=e.reduce((n,s)=>{const{x:i,y:o}=Ia(s,t).positionAbsolute;return GD(n,Px({x:i,y:o,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return WD(r)},gT=(e,t,[r,n,s]=[0,0,1],i=!1,o=!1,l=[0,0])=>{const c={x:(t.x-r)/s,y:(t.y-n)/s,width:t.width/s,height:t.height/s},u=[];return e.forEach(d=>{const{width:f,height:h,selectable:p=!0,hidden:x=!1}=d;if(o&&!p||x)return!1;const{positionAbsolute:g}=Ia(d,l),y={x:g.x,y:g.y,width:f||0,height:h||0},b=lg(c,y),v=typeof f>"u"||typeof h>"u"||f===null||h===null,j=i&&b>0,N=(f||0)*(h||0);(v||j||b>=N||d.dragging)&&u.push(d)}),u},xT=(e,t)=>{const r=e.map(n=>n.id);return t.filter(n=>r.includes(n.source)||r.includes(n.target))},yT=(e,t,r,n,s,i=.1)=>{const o=t/(e.width*(1+i)),l=r/(e.height*(1+i)),c=Math.min(o,l),u=ai(c,n,s),d=e.x+e.width/2,f=e.y+e.height/2,h=t/2-d*u,p=r/2-f*u;return{x:h,y:p,zoom:u}},_s=(e,t=0)=>e.transition().duration(t);function e0(e,t,r,n){return(t[r]||[]).reduce((s,i)=>{var o,l;return`${e.id}-${i.id}-${r}`!==n&&s.push({id:i.id||null,type:r,nodeId:e.id,x:(((o=e.positionAbsolute)==null?void 0:o.x)??0)+i.x+i.width/2,y:(((l=e.positionAbsolute)==null?void 0:l.y)??0)+i.y+i.height/2}),s},[])}function r8(e,t,r,n,s,i){const{x:o,y:l}=hs(e),u=t.elementsFromPoint(o,l).find(x=>x.classList.contains("react-flow__handle"));if(u){const x=u.getAttribute("data-nodeid");if(x){const g=Fx(void 0,u),y=u.getAttribute("data-handleid"),b=i({nodeId:x,id:y,type:g});if(b){const v=s.find(j=>j.nodeId===x&&j.type===g&&j.id===y);return{handle:{id:y,type:g,nodeId:x,x:(v==null?void 0:v.x)||r.x,y:(v==null?void 0:v.y)||r.y},validHandleResult:b}}}}let d=[],f=1/0;if(s.forEach(x=>{const g=Math.sqrt((x.x-r.x)**2+(x.y-r.y)**2);if(g<=n){const y=i(x);g<=f&&(g<f?d=[{handle:x,validHandleResult:y}]:g===f&&d.push({handle:x,validHandleResult:y}),f=g)}}),!d.length)return{handle:null,validHandleResult:vT()};if(d.length===1)return d[0];const h=d.some(({validHandleResult:x})=>x.isValid),p=d.some(({handle:x})=>x.type==="target");return d.find(({handle:x,validHandleResult:g})=>p?x.type==="target":h?g.isValid:!0)||d[0]}const n8={source:null,target:null,sourceHandle:null,targetHandle:null},vT=()=>({handleDomNode:null,isValid:!1,connection:n8,endHandle:null});function bT(e,t,r,n,s,i,o){const l=s==="target",c=o.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),u={...vT(),handleDomNode:c};if(c){const d=Fx(void 0,c),f=c.getAttribute("data-nodeid"),h=c.getAttribute("data-handleid"),p=c.classList.contains("connectable"),x=c.classList.contains("connectableend"),g={source:l?f:r,sourceHandle:l?h:n,target:l?r:f,targetHandle:l?n:h};u.connection=g,p&&x&&(t===ta.Strict?l&&d==="source"||!l&&d==="target":f!==r||h!==n)&&(u.endHandle={nodeId:f,handleId:h,type:d},u.isValid=i(g))}return u}function s8({nodes:e,nodeId:t,handleId:r,handleType:n}){return e.reduce((s,i)=>{if(i[yt]){const{handleBounds:o}=i[yt];let l=[],c=[];o&&(l=e0(i,o,"source",`${t}-${r}-${n}`),c=e0(i,o,"target",`${t}-${r}-${n}`)),s.push(...l,...c)}return s},[])}function Fx(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function gd(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function a8(e,t){let r=null;return t?r="valid":e&&!t&&(r="invalid"),r}function wT({event:e,handleId:t,nodeId:r,onConnect:n,isTarget:s,getState:i,setState:o,isValidConnection:l,edgeUpdaterType:c,onReconnectEnd:u}){const d=iT(e.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:x,onConnectStart:g,panBy:y,getNodes:b,cancelConnection:v}=i();let j=0,N;const{x:_,y:P}=hs(e),C=d==null?void 0:d.elementFromPoint(_,P),E=Fx(c,C),S=h==null?void 0:h.getBoundingClientRect();if(!S||!E)return;let M,O=hs(e,S),A=!1,B=null,k=!1,w=null;const T=s8({nodes:b(),nodeId:r,handleId:t,handleType:E}),I=()=>{if(!p)return;const[V,W]=aT(O,S);y({x:V,y:W}),j=requestAnimationFrame(I)};o({connectionPosition:O,connectionStatus:null,connectionNodeId:r,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:r,handleId:t,type:E},connectionEndHandle:null}),g==null||g(e,{nodeId:r,handleId:t,handleType:E});function F(V){const{transform:W}=i();O=hs(V,S);const{handle:q,validHandleResult:z}=r8(V,d,fg(O,W,!1,[1,1]),x,T,Z=>bT(Z,f,r,t,s?"target":"source",l,d));if(N=q,A||(I(),A=!0),w=z.handleDomNode,B=z.connection,k=z.isValid,o({connectionPosition:N&&k?mT({x:N.x,y:N.y},W):O,connectionStatus:a8(!!N,k),connectionEndHandle:z.endHandle}),!N&&!k&&!w)return gd(M);B.source!==B.target&&w&&(gd(M),M=w,w.classList.add("connecting","react-flow__handle-connecting"),w.classList.toggle("valid",k),w.classList.toggle("react-flow__handle-valid",k))}function R(V){var W,q;(N||w)&&B&&k&&(n==null||n(B)),(q=(W=i()).onConnectEnd)==null||q.call(W,V),c&&(u==null||u(V)),gd(M),v(),cancelAnimationFrame(j),A=!1,k=!1,B=null,w=null,d.removeEventListener("mousemove",F),d.removeEventListener("mouseup",R),d.removeEventListener("touchmove",F),d.removeEventListener("touchend",R)}d.addEventListener("mousemove",F),d.addEventListener("mouseup",R),d.addEventListener("touchmove",F),d.addEventListener("touchend",R)}const t0=()=>!0,i8=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),o8=(e,t,r)=>n=>{const{connectionStartHandle:s,connectionEndHandle:i,connectionClickStartHandle:o}=n;return{connecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===r||(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===r,clickConnecting:(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===r}},jT=m.forwardRef(({type:e="source",position:t=ie.Top,isValidConnection:r,isConnectable:n=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:o,onConnect:l,children:c,className:u,onMouseDown:d,onTouchStart:f,...h},p)=>{var S,M;const x=o||null,g=e==="target",y=It(),b=XD(),{connectOnClick:v,noPanClassName:j}=ht(i8,$t),{connecting:N,clickConnecting:_}=ht(o8(b,x,e),$t);b||(M=(S=y.getState()).onError)==null||M.call(S,"010",En.error010());const P=O=>{const{defaultEdgeOptions:A,onConnect:B,hasDefaultEdges:k}=y.getState(),w={...A,...O};if(k){const{edges:T,setEdges:I}=y.getState();I(pT(w,T))}B==null||B(w),l==null||l(w)},C=O=>{if(!b)return;const A=lT(O);s&&(A&&O.button===0||!A)&&wT({event:O,handleId:x,nodeId:b,onConnect:P,isTarget:g,getState:y.getState,setState:y.setState,isValidConnection:r||y.getState().isValidConnection||t0}),A?d==null||d(O):f==null||f(O)},E=O=>{const{onClickConnectStart:A,onClickConnectEnd:B,connectionClickStartHandle:k,connectionMode:w,isValidConnection:T}=y.getState();if(!b||!k&&!s)return;if(!k){A==null||A(O,{nodeId:b,handleId:x,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:b,type:e,handleId:x}});return}const I=iT(O.target),F=r||T||t0,{connection:R,isValid:V}=bT({nodeId:b,id:x,type:e},w,k.nodeId,k.handleId||null,k.type,F,I);V&&P(R),B==null||B(O),y.setState({connectionClickStartHandle:null})};return D.createElement("div",{"data-handleid":x,"data-nodeid":b,"data-handlepos":t,"data-id":`${b}-${x}-${e}`,className:Jt(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",j,u,{source:!g,target:g,connectable:n,connectablestart:s,connectableend:i,connecting:_,connectionindicator:n&&(s&&!N||i&&N)}]),onMouseDown:C,onTouchStart:C,onClick:v?E:void 0,ref:p,...h},c)});jT.displayName="Handle";var St=m.memo(jT);const NT=({data:e,isConnectable:t,targetPosition:r=ie.Top,sourcePosition:n=ie.Bottom})=>D.createElement(D.Fragment,null,D.createElement(St,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label,D.createElement(St,{type:"source",position:n,isConnectable:t}));NT.displayName="DefaultNode";var hg=m.memo(NT);const _T=({data:e,isConnectable:t,sourcePosition:r=ie.Bottom})=>D.createElement(D.Fragment,null,e==null?void 0:e.label,D.createElement(St,{type:"source",position:r,isConnectable:t}));_T.displayName="InputNode";var kT=m.memo(_T);const ST=({data:e,isConnectable:t,targetPosition:r=ie.Top})=>D.createElement(D.Fragment,null,D.createElement(St,{type:"target",position:r,isConnectable:t}),e==null?void 0:e.label);ST.displayName="OutputNode";var CT=m.memo(ST);const Lx=()=>null;Lx.displayName="GroupNode";const l8=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Xo=e=>e.id;function c8(e,t){return $t(e.selectedNodes.map(Xo),t.selectedNodes.map(Xo))&&$t(e.selectedEdges.map(Xo),t.selectedEdges.map(Xo))}const TT=m.memo(({onSelectionChange:e})=>{const t=It(),{selectedNodes:r,selectedEdges:n}=ht(l8,c8);return m.useEffect(()=>{const s={nodes:r,edges:n};e==null||e(s),t.getState().onSelectionChange.forEach(i=>i(s))},[r,n,e]),null});TT.displayName="SelectionListener";const d8=e=>!!e.onSelectionChange;function u8({onSelectionChange:e}){const t=ht(d8);return e||t?D.createElement(TT,{onSelectionChange:e}):null}const f8=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ha(e,t){m.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function Ge(e,t,r){m.useEffect(()=>{typeof t<"u"&&r({[e]:t})},[t])}const h8=({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:s,onConnectStart:i,onConnectEnd:o,onClickConnectStart:l,onClickConnectEnd:c,nodesDraggable:u,nodesConnectable:d,nodesFocusable:f,edgesFocusable:h,edgesUpdatable:p,elevateNodesOnSelect:x,minZoom:g,maxZoom:y,nodeExtent:b,onNodesChange:v,onEdgesChange:j,elementsSelectable:N,connectionMode:_,snapGrid:P,snapToGrid:C,translateExtent:E,connectOnClick:S,defaultEdgeOptions:M,fitView:O,fitViewOptions:A,onNodesDelete:B,onEdgesDelete:k,onNodeDrag:w,onNodeDragStart:T,onNodeDragStop:I,onSelectionDrag:F,onSelectionDragStart:R,onSelectionDragStop:V,noPanClassName:W,nodeOrigin:q,rfId:z,autoPanOnConnect:Z,autoPanOnNodeDrag:ce,onError:Te,connectionRadius:te,isValidConnection:pe,nodeDragThreshold:Ee})=>{const{setNodes:ge,setEdges:Ie,setDefaultNodesAndEdges:Ce,setMinZoom:ot,setMaxZoom:st,setTranslateExtent:xe,setNodeExtent:mt,reset:fe}=ht(f8,$t),ue=It();return m.useEffect(()=>{const lt=n==null?void 0:n.map(L=>({...L,...M}));return Ce(r,lt),()=>{fe()}},[]),Ge("defaultEdgeOptions",M,ue.setState),Ge("connectionMode",_,ue.setState),Ge("onConnect",s,ue.setState),Ge("onConnectStart",i,ue.setState),Ge("onConnectEnd",o,ue.setState),Ge("onClickConnectStart",l,ue.setState),Ge("onClickConnectEnd",c,ue.setState),Ge("nodesDraggable",u,ue.setState),Ge("nodesConnectable",d,ue.setState),Ge("nodesFocusable",f,ue.setState),Ge("edgesFocusable",h,ue.setState),Ge("edgesUpdatable",p,ue.setState),Ge("elementsSelectable",N,ue.setState),Ge("elevateNodesOnSelect",x,ue.setState),Ge("snapToGrid",C,ue.setState),Ge("snapGrid",P,ue.setState),Ge("onNodesChange",v,ue.setState),Ge("onEdgesChange",j,ue.setState),Ge("connectOnClick",S,ue.setState),Ge("fitViewOnInit",O,ue.setState),Ge("fitViewOnInitOptions",A,ue.setState),Ge("onNodesDelete",B,ue.setState),Ge("onEdgesDelete",k,ue.setState),Ge("onNodeDrag",w,ue.setState),Ge("onNodeDragStart",T,ue.setState),Ge("onNodeDragStop",I,ue.setState),Ge("onSelectionDrag",F,ue.setState),Ge("onSelectionDragStart",R,ue.setState),Ge("onSelectionDragStop",V,ue.setState),Ge("noPanClassName",W,ue.setState),Ge("nodeOrigin",q,ue.setState),Ge("rfId",z,ue.setState),Ge("autoPanOnConnect",Z,ue.setState),Ge("autoPanOnNodeDrag",ce,ue.setState),Ge("onError",Te,ue.setState),Ge("connectionRadius",te,ue.setState),Ge("isValidConnection",pe,ue.setState),Ge("nodeDragThreshold",Ee,ue.setState),ha(e,ge),ha(t,Ie),ha(g,ot),ha(y,st),ha(E,xe),ha(b,mt),null},r0={display:"none"},p8={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},ET="react-flow__node-desc",PT="react-flow__edge-desc",m8="react-flow__aria-live",g8=e=>e.ariaLiveMessage;function x8({rfId:e}){const t=ht(g8);return D.createElement("div",{id:`${m8}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:p8},t)}function y8({rfId:e,disableKeyboardA11y:t}){return D.createElement(D.Fragment,null,D.createElement("div",{id:`${ET}-${e}`,style:r0},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),D.createElement("div",{id:`${PT}-${e}`,style:r0},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&D.createElement(x8,{rfId:e}))}var mo=(e=null,t={actInsideInputWithModifier:!0})=>{const[r,n]=m.useState(!1),s=m.useRef(!1),i=m.useRef(new Set([])),[o,l]=m.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),d=u.reduce((f,h)=>f.concat(...h),[]);return[u,d]}return[[],[]]},[e]);return m.useEffect(()=>{const c=typeof document<"u"?document:null,u=(t==null?void 0:t.target)||c;if(e!==null){const d=p=>{if(s.current=p.ctrlKey||p.metaKey||p.shiftKey,(!s.current||s.current&&!t.actInsideInputWithModifier)&&cg(p))return!1;const g=s0(p.code,l);i.current.add(p[g]),n0(o,i.current,!1)&&(p.preventDefault(),n(!0))},f=p=>{if((!s.current||s.current&&!t.actInsideInputWithModifier)&&cg(p))return!1;const g=s0(p.code,l);n0(o,i.current,!0)?(n(!1),i.current.clear()):i.current.delete(p[g]),p.key==="Meta"&&i.current.clear(),s.current=!1},h=()=>{i.current.clear(),n(!1)};return u==null||u.addEventListener("keydown",d),u==null||u.addEventListener("keyup",f),window.addEventListener("blur",h),()=>{u==null||u.removeEventListener("keydown",d),u==null||u.removeEventListener("keyup",f),window.removeEventListener("blur",h)}}},[e,n]),r};function n0(e,t,r){return e.filter(n=>r||n.length===t.size).some(n=>n.every(s=>t.has(s)))}function s0(e,t){return t.includes(e)?"code":"key"}function AT(e,t,r,n){var l,c;const s=e.parentNode||e.parentId;if(!s)return r;const i=t.get(s),o=Ia(i,n);return AT(i,t,{x:(r.x??0)+o.x,y:(r.y??0)+o.y,z:(((l=i[yt])==null?void 0:l.z)??0)>(r.z??0)?((c=i[yt])==null?void 0:c.z)??0:r.z??0},n)}function RT(e,t,r){e.forEach(n=>{var i;const s=n.parentNode||n.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||r!=null&&r[n.id]){const{x:o,y:l,z:c}=AT(n,e,{...n.position,z:((i=n[yt])==null?void 0:i.z)??0},t);n.positionAbsolute={x:o,y:l},n[yt].z=c,r!=null&&r[n.id]&&(n[yt].isParent=!0)}})}function xd(e,t,r,n){const s=new Map,i={},o=n?1e3:0;return e.forEach(l=>{var p;const c=(mr(l.zIndex)?l.zIndex:0)+(l.selected?o:0),u=t.get(l.id),d={...l,positionAbsolute:{x:l.position.x,y:l.position.y}},f=l.parentNode||l.parentId;f&&(i[f]=!0);const h=(u==null?void 0:u.type)&&(u==null?void 0:u.type)!==l.type;Object.defineProperty(d,yt,{enumerable:!1,value:{handleBounds:h||(p=u==null?void 0:u[yt])==null?void 0:p.handleBounds,z:c}}),s.set(l.id,d)}),RT(s,r,i),s}function IT(e,t={}){const{getNodes:r,width:n,height:s,minZoom:i,maxZoom:o,d3Zoom:l,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:d,nodeOrigin:f}=e(),h=t.initial&&!u&&d;if(l&&c&&(h||!t.initial)){const x=r().filter(y=>{var v;const b=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(v=t.nodes)!=null&&v.length?b&&t.nodes.some(j=>j.id===y.id):b}),g=x.every(y=>y.width&&y.height);if(x.length>0&&g){const y=Ox(x,f),{x:b,y:v,zoom:j}=yT(y,n,s,t.minZoom??i,t.maxZoom??o,t.padding??.1),N=fs.translate(b,v).scale(j);return typeof t.duration=="number"&&t.duration>0?l.transform(_s(c,t.duration),N):l.transform(c,N),!0}}return!1}function v8(e,t){return e.forEach(r=>{const n=t.get(r.id);n&&t.set(n.id,{...n,[yt]:n[yt],selected:r.selected})}),new Map(t)}function b8(e,t){return t.map(r=>{const n=e.find(s=>s.id===r.id);return n&&(r.selected=n.selected),r})}function Jo({changedNodes:e,changedEdges:t,get:r,set:n}){const{nodeInternals:s,edges:i,onNodesChange:o,onEdgesChange:l,hasDefaultNodes:c,hasDefaultEdges:u}=r();e!=null&&e.length&&(c&&n({nodeInternals:v8(e,s)}),o==null||o(e)),t!=null&&t.length&&(u&&n({edges:b8(t,i)}),l==null||l(t))}const pa=()=>{},w8={zoomIn:pa,zoomOut:pa,zoomTo:pa,getZoom:()=>1,setViewport:pa,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:pa,fitBounds:pa,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},j8=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),N8=()=>{const e=It(),{d3Zoom:t,d3Selection:r}=ht(j8,$t);return m.useMemo(()=>r&&t?{zoomIn:s=>t.scaleBy(_s(r,s==null?void 0:s.duration),1.2),zoomOut:s=>t.scaleBy(_s(r,s==null?void 0:s.duration),1/1.2),zoomTo:(s,i)=>t.scaleTo(_s(r,i==null?void 0:i.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,i)=>{const[o,l,c]=e.getState().transform,u=fs.translate(s.x??o,s.y??l).scale(s.zoom??c);t.transform(_s(r,i==null?void 0:i.duration),u)},getViewport:()=>{const[s,i,o]=e.getState().transform;return{x:s,y:i,zoom:o}},fitView:s=>IT(e.getState,s),setCenter:(s,i,o)=>{const{width:l,height:c,maxZoom:u}=e.getState(),d=typeof(o==null?void 0:o.zoom)<"u"?o.zoom:u,f=l/2-s*d,h=c/2-i*d,p=fs.translate(f,h).scale(d);t.transform(_s(r,o==null?void 0:o.duration),p)},fitBounds:(s,i)=>{const{width:o,height:l,minZoom:c,maxZoom:u}=e.getState(),{x:d,y:f,zoom:h}=yT(s,o,l,c,u,(i==null?void 0:i.padding)??.1),p=fs.translate(d,f).scale(h);t.transform(_s(r,i==null?void 0:i.duration),p)},project:s=>{const{transform:i,snapToGrid:o,snapGrid:l}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),fg(s,i,o,l)},screenToFlowPosition:s=>{const{transform:i,snapToGrid:o,snapGrid:l,domNode:c}=e.getState();if(!c)return s;const{x:u,y:d}=c.getBoundingClientRect(),f={x:s.x-u,y:s.y-d};return fg(f,i,o,l)},flowToScreenPosition:s=>{const{transform:i,domNode:o}=e.getState();if(!o)return s;const{x:l,y:c}=o.getBoundingClientRect(),u=mT(s,i);return{x:u.x+l,y:u.y+c}},viewportInitialized:!0}:w8,[t,r])};function bc(){const e=N8(),t=It(),r=m.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),n=m.useCallback(g=>t.getState().nodeInternals.get(g),[]),s=m.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(y=>({...y}))},[]),i=m.useCallback(g=>{const{edges:y=[]}=t.getState();return y.find(b=>b.id===g)},[]),o=m.useCallback(g=>{const{getNodes:y,setNodes:b,hasDefaultNodes:v,onNodesChange:j}=t.getState(),N=y(),_=typeof g=="function"?g(N):g;if(v)b(_);else if(j){const P=_.length===0?N.map(C=>({type:"remove",id:C.id})):_.map(C=>({item:C,type:"reset"}));j(P)}},[]),l=m.useCallback(g=>{const{edges:y=[],setEdges:b,hasDefaultEdges:v,onEdgesChange:j}=t.getState(),N=typeof g=="function"?g(y):g;if(v)b(N);else if(j){const _=N.length===0?y.map(P=>({type:"remove",id:P.id})):N.map(P=>({item:P,type:"reset"}));j(_)}},[]),c=m.useCallback(g=>{const y=Array.isArray(g)?g:[g],{getNodes:b,setNodes:v,hasDefaultNodes:j,onNodesChange:N}=t.getState();if(j){const P=[...b(),...y];v(P)}else if(N){const _=y.map(P=>({item:P,type:"add"}));N(_)}},[]),u=m.useCallback(g=>{const y=Array.isArray(g)?g:[g],{edges:b=[],setEdges:v,hasDefaultEdges:j,onEdgesChange:N}=t.getState();if(j)v([...b,...y]);else if(N){const _=y.map(P=>({item:P,type:"add"}));N(_)}},[]),d=m.useCallback(()=>{const{getNodes:g,edges:y=[],transform:b}=t.getState(),[v,j,N]=b;return{nodes:g().map(_=>({..._})),edges:y.map(_=>({..._})),viewport:{x:v,y:j,zoom:N}}},[]),f=m.useCallback(({nodes:g,edges:y})=>{const{nodeInternals:b,getNodes:v,edges:j,hasDefaultNodes:N,hasDefaultEdges:_,onNodesDelete:P,onEdgesDelete:C,onNodesChange:E,onEdgesChange:S}=t.getState(),M=(g||[]).map(w=>w.id),O=(y||[]).map(w=>w.id),A=v().reduce((w,T)=>{const I=T.parentNode||T.parentId,F=!M.includes(T.id)&&I&&w.find(V=>V.id===I);return(typeof T.deletable=="boolean"?T.deletable:!0)&&(M.includes(T.id)||F)&&w.push(T),w},[]),B=j.filter(w=>typeof w.deletable=="boolean"?w.deletable:!0),k=B.filter(w=>O.includes(w.id));if(A||k){const w=xT(A,B),T=[...k,...w],I=T.reduce((F,R)=>(F.includes(R.id)||F.push(R.id),F),[]);if((_||N)&&(_&&t.setState({edges:j.filter(F=>!I.includes(F.id))}),N&&(A.forEach(F=>{b.delete(F.id)}),t.setState({nodeInternals:new Map(b)}))),I.length>0&&(C==null||C(T),S&&S(I.map(F=>({id:F,type:"remove"})))),A.length>0&&(P==null||P(A),E)){const F=A.map(R=>({id:R.id,type:"remove"}));E(F)}}},[]),h=m.useCallback(g=>{const y=zD(g),b=y?null:t.getState().nodeInternals.get(g.id);return!y&&!b?[null,null,y]:[y?g:Zv(b),b,y]},[]),p=m.useCallback((g,y=!0,b)=>{const[v,j,N]=h(g);return v?(b||t.getState().getNodes()).filter(_=>{if(!N&&(_.id===j.id||!_.positionAbsolute))return!1;const P=Zv(_),C=lg(P,v);return y&&C>0||C>=v.width*v.height}):[]},[]),x=m.useCallback((g,y,b=!0)=>{const[v]=h(g);if(!v)return!1;const j=lg(v,y);return b&&j>0||j>=v.width*v.height},[]);return m.useMemo(()=>({...e,getNodes:r,getNode:n,getEdges:s,getEdge:i,setNodes:o,setEdges:l,addNodes:c,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:x}),[e,r,n,s,i,o,l,c,u,d,f,p,x])}const _8={actInsideInputWithModifier:!1};var k8=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const r=It(),{deleteElements:n}=bc(),s=mo(e,_8),i=mo(t);m.useEffect(()=>{if(s){const{edges:o,getNodes:l}=r.getState(),c=l().filter(d=>d.selected),u=o.filter(d=>d.selected);n({nodes:c,edges:u}),r.setState({nodesSelectionActive:!1})}},[s]),m.useEffect(()=>{r.setState({multiSelectionActive:i})},[i])};function S8(e){const t=It();m.useEffect(()=>{let r;const n=()=>{var i,o;if(!e.current)return;const s=Tx(e.current);(s.height===0||s.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",En.error004())),t.setState({width:s.width||500,height:s.height||500})};return n(),window.addEventListener("resize",n),e.current&&(r=new ResizeObserver(()=>n()),r.observe(e.current)),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}},[])}const $x={position:"absolute",width:"100%",height:"100%",top:0,left:0},C8=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,el=e=>({x:e.x,y:e.y,zoom:e.k}),ma=(e,t)=>e.target.closest(`.${t}`),a0=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),i0=e=>{const t=e.ctrlKey&&Fl()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},T8=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),E8=({onMove:e,onMoveStart:t,onMoveEnd:r,onPaneContextMenu:n,zoomOnScroll:s=!0,zoomOnPinch:i=!0,panOnScroll:o=!1,panOnScrollSpeed:l=.5,panOnScrollMode:c=As.Free,zoomOnDoubleClick:u=!0,elementsSelectable:d,panOnDrag:f=!0,defaultViewport:h,translateExtent:p,minZoom:x,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:b=!0,children:v,noWheelClassName:j,noPanClassName:N})=>{const _=m.useRef(),P=It(),C=m.useRef(!1),E=m.useRef(!1),S=m.useRef(null),M=m.useRef({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:A,d3ZoomHandler:B,userSelectionActive:k}=ht(T8,$t),w=mo(y),T=m.useRef(0),I=m.useRef(!1),F=m.useRef();return S8(S),m.useEffect(()=>{if(S.current){const R=S.current.getBoundingClientRect(),V=LD().scaleExtent([x,g]).translateExtent(p),W=Or(S.current).call(V),q=fs.translate(h.x,h.y).scale(ai(h.zoom,x,g)),z=[[0,0],[R.width,R.height]],Z=V.constrain()(q,z,p);V.transform(W,Z),V.wheelDelta(i0),P.setState({d3Zoom:V,d3Selection:W,d3ZoomHandler:W.on("wheel.zoom"),transform:[Z.x,Z.y,Z.k],domNode:S.current.closest(".react-flow")})}},[]),m.useEffect(()=>{A&&O&&(o&&!w&&!k?A.on("wheel.zoom",R=>{if(ma(R,j))return!1;R.preventDefault(),R.stopImmediatePropagation();const V=A.property("__zoom").k||1;if(R.ctrlKey&&i){const pe=Wr(R),Ee=i0(R),ge=V*Math.pow(2,Ee);O.scaleTo(A,ge,pe,R);return}const W=R.deltaMode===1?20:1;let q=c===As.Vertical?0:R.deltaX*W,z=c===As.Horizontal?0:R.deltaY*W;!Fl()&&R.shiftKey&&c!==As.Vertical&&(q=R.deltaY*W,z=0),O.translateBy(A,-(q/V)*l,-(z/V)*l,{internal:!0});const Z=el(A.property("__zoom")),{onViewportChangeStart:ce,onViewportChange:Te,onViewportChangeEnd:te}=P.getState();clearTimeout(F.current),I.current||(I.current=!0,t==null||t(R,Z),ce==null||ce(Z)),I.current&&(e==null||e(R,Z),Te==null||Te(Z),F.current=setTimeout(()=>{r==null||r(R,Z),te==null||te(Z),I.current=!1},150))},{passive:!1}):typeof B<"u"&&A.on("wheel.zoom",function(R,V){if(!b&&R.type==="wheel"&&!R.ctrlKey||ma(R,j))return null;R.preventDefault(),B.call(this,R,V)},{passive:!1}))},[k,o,c,A,O,B,w,i,b,j,t,e,r]),m.useEffect(()=>{O&&O.on("start",R=>{var q,z;if(!R.sourceEvent||R.sourceEvent.internal)return null;T.current=(q=R.sourceEvent)==null?void 0:q.button;const{onViewportChangeStart:V}=P.getState(),W=el(R.transform);C.current=!0,M.current=W,((z=R.sourceEvent)==null?void 0:z.type)==="mousedown"&&P.setState({paneDragging:!0}),V==null||V(W),t==null||t(R.sourceEvent,W)})},[O,t]),m.useEffect(()=>{O&&(k&&!C.current?O.on("zoom",null):k||O.on("zoom",R=>{var W;const{onViewportChange:V}=P.getState();if(P.setState({transform:[R.transform.x,R.transform.y,R.transform.k]}),E.current=!!(n&&a0(f,T.current??0)),(e||V)&&!((W=R.sourceEvent)!=null&&W.internal)){const q=el(R.transform);V==null||V(q),e==null||e(R.sourceEvent,q)}}))},[k,O,e,f,n]),m.useEffect(()=>{O&&O.on("end",R=>{if(!R.sourceEvent||R.sourceEvent.internal)return null;const{onViewportChangeEnd:V}=P.getState();if(C.current=!1,P.setState({paneDragging:!1}),n&&a0(f,T.current??0)&&!E.current&&n(R.sourceEvent),E.current=!1,(r||V)&&C8(M.current,R.transform)){const W=el(R.transform);M.current=W,clearTimeout(_.current),_.current=setTimeout(()=>{V==null||V(W),r==null||r(R.sourceEvent,W)},o?150:0)}})},[O,o,f,r,n]),m.useEffect(()=>{O&&O.filter(R=>{const V=w||s,W=i&&R.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&R.button===1&&R.type==="mousedown"&&(ma(R,"react-flow__node")||ma(R,"react-flow__edge")))return!0;if(!f&&!V&&!o&&!u&&!i||k||!u&&R.type==="dblclick"||ma(R,j)&&R.type==="wheel"||ma(R,N)&&(R.type!=="wheel"||o&&R.type==="wheel"&&!w)||!i&&R.ctrlKey&&R.type==="wheel"||!V&&!o&&!W&&R.type==="wheel"||!f&&(R.type==="mousedown"||R.type==="touchstart")||Array.isArray(f)&&!f.includes(R.button)&&R.type==="mousedown")return!1;const q=Array.isArray(f)&&f.includes(R.button)||!R.button||R.button<=1;return(!R.ctrlKey||R.type==="wheel")&&q})},[k,O,s,i,o,u,f,d,w]),D.createElement("div",{className:"react-flow__renderer",ref:S,style:$x},v)},P8=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function A8(){const{userSelectionActive:e,userSelectionRect:t}=ht(P8,$t);return e&&t?D.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function o0(e,t){const r=t.parentNode||t.parentId,n=e.find(s=>s.id===r);if(n){const s=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(s>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,s>0&&(n.style.width+=s),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function MT(e,t){if(e.some(n=>n.type==="reset"))return e.filter(n=>n.type==="reset").map(n=>n.item);const r=e.filter(n=>n.type==="add").map(n=>n.item);return t.reduce((n,s)=>{const i=e.filter(l=>l.id===s.id);if(i.length===0)return n.push(s),n;const o={...s};for(const l of i)if(l)switch(l.type){case"select":{o.selected=l.selected;break}case"position":{typeof l.position<"u"&&(o.position=l.position),typeof l.positionAbsolute<"u"&&(o.positionAbsolute=l.positionAbsolute),typeof l.dragging<"u"&&(o.dragging=l.dragging),o.expandParent&&o0(n,o);break}case"dimensions":{typeof l.dimensions<"u"&&(o.width=l.dimensions.width,o.height=l.dimensions.height),typeof l.updateStyle<"u"&&(o.style={...o.style||{},...l.dimensions}),typeof l.resizing=="boolean"&&(o.resizing=l.resizing),o.expandParent&&o0(n,o);break}case"remove":return n}return n.push(o),n},r)}function OT(e,t){return MT(e,t)}function R8(e,t){return MT(e,t)}const Hn=(e,t)=>({id:e,type:"select",selected:t});function Ca(e,t){return e.reduce((r,n)=>{const s=t.includes(n.id);return!n.selected&&s?(n.selected=!0,r.push(Hn(n.id,!0))):n.selected&&!s&&(n.selected=!1,r.push(Hn(n.id,!1))),r},[])}const yd=(e,t)=>r=>{r.target===t.current&&(e==null||e(r))},I8=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),FT=m.memo(({isSelecting:e,selectionMode:t=ii.Full,panOnDrag:r,onSelectionStart:n,onSelectionEnd:s,onPaneClick:i,onPaneContextMenu:o,onPaneScroll:l,onPaneMouseEnter:c,onPaneMouseMove:u,onPaneMouseLeave:d,children:f})=>{const h=m.useRef(null),p=It(),x=m.useRef(0),g=m.useRef(0),y=m.useRef(),{userSelectionActive:b,elementsSelectable:v,dragging:j}=ht(I8,$t),N=()=>{p.setState({userSelectionActive:!1,userSelectionRect:null}),x.current=0,g.current=0},_=B=>{i==null||i(B),p.getState().resetSelectedElements(),p.setState({nodesSelectionActive:!1})},P=B=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){B.preventDefault();return}o==null||o(B)},C=l?B=>l(B):void 0,E=B=>{const{resetSelectedElements:k,domNode:w}=p.getState();if(y.current=w==null?void 0:w.getBoundingClientRect(),!v||!e||B.button!==0||B.target!==h.current||!y.current)return;const{x:T,y:I}=hs(B,y.current);k(),p.setState({userSelectionRect:{width:0,height:0,startX:T,startY:I,x:T,y:I}}),n==null||n(B)},S=B=>{const{userSelectionRect:k,nodeInternals:w,edges:T,transform:I,onNodesChange:F,onEdgesChange:R,nodeOrigin:V,getNodes:W}=p.getState();if(!e||!y.current||!k)return;p.setState({userSelectionActive:!0,nodesSelectionActive:!1});const q=hs(B,y.current),z=k.startX??0,Z=k.startY??0,ce={...k,x:q.x<z?q.x:z,y:q.y<Z?q.y:Z,width:Math.abs(q.x-z),height:Math.abs(q.y-Z)},Te=W(),te=gT(w,ce,I,t===ii.Partial,!0,V),pe=xT(te,T).map(ge=>ge.id),Ee=te.map(ge=>ge.id);if(x.current!==Ee.length){x.current=Ee.length;const ge=Ca(Te,Ee);ge.length&&(F==null||F(ge))}if(g.current!==pe.length){g.current=pe.length;const ge=Ca(T,pe);ge.length&&(R==null||R(ge))}p.setState({userSelectionRect:ce})},M=B=>{if(B.button!==0)return;const{userSelectionRect:k}=p.getState();!b&&k&&B.target===h.current&&(_==null||_(B)),p.setState({nodesSelectionActive:x.current>0}),N(),s==null||s(B)},O=B=>{b&&(p.setState({nodesSelectionActive:x.current>0}),s==null||s(B)),N()},A=v&&(e||b);return D.createElement("div",{className:Jt(["react-flow__pane",{dragging:j,selection:e}]),onClick:A?void 0:yd(_,h),onContextMenu:yd(P,h),onWheel:yd(C,h),onMouseEnter:A?void 0:c,onMouseDown:A?E:void 0,onMouseMove:A?S:u,onMouseUp:A?M:void 0,onMouseLeave:A?O:d,ref:h,style:$x},f,D.createElement(A8,null))});FT.displayName="Pane";function LT(e,t){const r=e.parentNode||e.parentId;if(!r)return!1;const n=t.get(r);return n?n.selected?!0:LT(n,t):!1}function l0(e,t,r){let n=e;do{if(n!=null&&n.matches(t))return!0;if(n===r.current)return!1;n=n.parentElement}while(n);return!1}function M8(e,t,r,n){return Array.from(e.values()).filter(s=>(s.selected||s.id===n)&&(!s.parentNode||s.parentId||!LT(s,e))&&(s.draggable||t&&typeof s.draggable>"u")).map(s=>{var i,o;return{id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:r.x-(((i=s.positionAbsolute)==null?void 0:i.x)??0),y:r.y-(((o=s.positionAbsolute)==null?void 0:o.y)??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}})}function O8(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function $T(e,t,r,n,s=[0,0],i){const o=O8(e,e.extent||n);let l=o;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const f=r.get(c),{x:h,y:p}=Ia(f,s).positionAbsolute;l=f&&mr(h)&&mr(p)&&mr(f.width)&&mr(f.height)?[[h+e.width*s[0],p+e.height*s[1]],[h+f.width-e.width+e.width*s[0],p+f.height-e.height+e.height*s[1]]]:l}else i==null||i("005",En.error005()),l=o;else if(e.extent&&c&&e.extent!=="parent"){const f=r.get(c),{x:h,y:p}=Ia(f,s).positionAbsolute;l=[[e.extent[0][0]+h,e.extent[0][1]+p],[e.extent[1][0]+h,e.extent[1][1]+p]]}let u={x:0,y:0};if(c){const f=r.get(c);u=Ia(f,s).positionAbsolute}const d=l&&l!=="parent"?Ex(t,l):t;return{position:{x:d.x-u.x,y:d.y-u.y},positionAbsolute:d}}function vd({nodeId:e,dragItems:t,nodeInternals:r}){const n=t.map(s=>({...r.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?n.find(s=>s.id===e):n[0],n]}const c0=(e,t,r,n)=>{const s=t.querySelectorAll(e);if(!s||!s.length)return null;const i=Array.from(s),o=t.getBoundingClientRect(),l={x:o.width*n[0],y:o.height*n[1]};return i.map(c=>{const u=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(u.left-o.left-l.x)/r,y:(u.top-o.top-l.y)/r,...Tx(c)}})};function Ri(e,t,r){return r===void 0?r:n=>{const s=t().nodeInternals.get(e);s&&r(n,{...s})}}function pg({id:e,store:t,unselect:r=!1,nodeRef:n}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:o,nodeInternals:l,onError:c}=t.getState(),u=l.get(e);if(!u){c==null||c("012",En.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(r||u.selected&&o)&&(i({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var d;return(d=n==null?void 0:n.current)==null?void 0:d.blur()})):s([e])}function F8(){const e=It();return m.useCallback(({sourceEvent:r})=>{const{transform:n,snapGrid:s,snapToGrid:i}=e.getState(),o=r.touches?r.touches[0].clientX:r.clientX,l=r.touches?r.touches[0].clientY:r.clientY,c={x:(o-n[0])/n[2],y:(l-n[1])/n[2]};return{xSnapped:i?s[0]*Math.round(c.x/s[0]):c.x,ySnapped:i?s[1]*Math.round(c.y/s[1]):c.y,...c}},[])}function bd(e){return(t,r,n)=>e==null?void 0:e(t,n)}function DT({nodeRef:e,disabled:t=!1,noDragClassName:r,handleSelector:n,nodeId:s,isSelectable:i,selectNodesOnDrag:o}){const l=It(),[c,u]=m.useState(!1),d=m.useRef([]),f=m.useRef({x:null,y:null}),h=m.useRef(0),p=m.useRef(null),x=m.useRef({x:0,y:0}),g=m.useRef(null),y=m.useRef(!1),b=m.useRef(!1),v=m.useRef(!1),j=F8();return m.useEffect(()=>{if(e!=null&&e.current){const N=Or(e.current),_=({x:E,y:S})=>{const{nodeInternals:M,onNodeDrag:O,onSelectionDrag:A,updateNodePositions:B,nodeExtent:k,snapGrid:w,snapToGrid:T,nodeOrigin:I,onError:F}=l.getState();f.current={x:E,y:S};let R=!1,V={x:0,y:0,x2:0,y2:0};if(d.current.length>1&&k){const q=Ox(d.current,I);V=Px(q)}if(d.current=d.current.map(q=>{const z={x:E-q.distance.x,y:S-q.distance.y};T&&(z.x=w[0]*Math.round(z.x/w[0]),z.y=w[1]*Math.round(z.y/w[1]));const Z=[[k[0][0],k[0][1]],[k[1][0],k[1][1]]];d.current.length>1&&k&&!q.extent&&(Z[0][0]=q.positionAbsolute.x-V.x+k[0][0],Z[1][0]=q.positionAbsolute.x+(q.width??0)-V.x2+k[1][0],Z[0][1]=q.positionAbsolute.y-V.y+k[0][1],Z[1][1]=q.positionAbsolute.y+(q.height??0)-V.y2+k[1][1]);const ce=$T(q,z,M,Z,I,F);return R=R||q.position.x!==ce.position.x||q.position.y!==ce.position.y,q.position=ce.position,q.positionAbsolute=ce.positionAbsolute,q}),!R)return;B(d.current,!0,!0),u(!0);const W=s?O:bd(A);if(W&&g.current){const[q,z]=vd({nodeId:s,dragItems:d.current,nodeInternals:M});W(g.current,q,z)}},P=()=>{if(!p.current)return;const[E,S]=aT(x.current,p.current);if(E!==0||S!==0){const{transform:M,panBy:O}=l.getState();f.current.x=(f.current.x??0)-E/M[2],f.current.y=(f.current.y??0)-S/M[2],O({x:E,y:S})&&_(f.current)}h.current=requestAnimationFrame(P)},C=E=>{var I;const{nodeInternals:S,multiSelectionActive:M,nodesDraggable:O,unselectNodesAndEdges:A,onNodeDragStart:B,onSelectionDragStart:k}=l.getState();b.current=!0;const w=s?B:bd(k);(!o||!i)&&!M&&s&&((I=S.get(s))!=null&&I.selected||A()),s&&i&&o&&pg({id:s,store:l,nodeRef:e});const T=j(E);if(f.current=T,d.current=M8(S,O,T,s),w&&d.current){const[F,R]=vd({nodeId:s,dragItems:d.current,nodeInternals:S});w(E.sourceEvent,F,R)}};if(t)N.on(".drag",null);else{const E=UL().on("start",S=>{const{domNode:M,nodeDragThreshold:O}=l.getState();O===0&&C(S),v.current=!1;const A=j(S);f.current=A,p.current=(M==null?void 0:M.getBoundingClientRect())||null,x.current=hs(S.sourceEvent,p.current)}).on("drag",S=>{var B,k;const M=j(S),{autoPanOnNodeDrag:O,nodeDragThreshold:A}=l.getState();if(S.sourceEvent.type==="touchmove"&&S.sourceEvent.touches.length>1&&(v.current=!0),!v.current){if(!y.current&&b.current&&O&&(y.current=!0,P()),!b.current){const w=M.xSnapped-(((B=f==null?void 0:f.current)==null?void 0:B.x)??0),T=M.ySnapped-(((k=f==null?void 0:f.current)==null?void 0:k.y)??0);Math.sqrt(w*w+T*T)>A&&C(S)}(f.current.x!==M.xSnapped||f.current.y!==M.ySnapped)&&d.current&&b.current&&(g.current=S.sourceEvent,x.current=hs(S.sourceEvent,p.current),_(M))}}).on("end",S=>{if(!(!b.current||v.current)&&(u(!1),y.current=!1,b.current=!1,cancelAnimationFrame(h.current),d.current)){const{updateNodePositions:M,nodeInternals:O,onNodeDragStop:A,onSelectionDragStop:B}=l.getState(),k=s?A:bd(B);if(M(d.current,!1,!1),k){const[w,T]=vd({nodeId:s,dragItems:d.current,nodeInternals:O});k(S.sourceEvent,w,T)}}}).filter(S=>{const M=S.target;return!S.button&&(!r||!l0(M,`.${r}`,e))&&(!n||l0(M,n,e))});return N.call(E),()=>{N.on(".drag",null)}}}},[e,t,r,n,i,l,s,o,j]),c}function qT(){const e=It();return m.useCallback(r=>{const{nodeInternals:n,nodeExtent:s,updateNodePositions:i,getNodes:o,snapToGrid:l,snapGrid:c,onError:u,nodesDraggable:d}=e.getState(),f=o().filter(v=>v.selected&&(v.draggable||d&&typeof v.draggable>"u")),h=l?c[0]:5,p=l?c[1]:5,x=r.isShiftPressed?4:1,g=r.x*h*x,y=r.y*p*x,b=f.map(v=>{if(v.positionAbsolute){const j={x:v.positionAbsolute.x+g,y:v.positionAbsolute.y+y};l&&(j.x=c[0]*Math.round(j.x/c[0]),j.y=c[1]*Math.round(j.y/c[1]));const{positionAbsolute:N,position:_}=$T(v,j,n,s,void 0,u);v.position=_,v.positionAbsolute=N}return v});i(b,!0,!1)},[])}const Ma={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var Ii=e=>{const t=({id:r,type:n,data:s,xPos:i,yPos:o,xPosOrigin:l,yPosOrigin:c,selected:u,onClick:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:p,onContextMenu:x,onDoubleClick:g,style:y,className:b,isDraggable:v,isSelectable:j,isConnectable:N,isFocusable:_,selectNodesOnDrag:P,sourcePosition:C,targetPosition:E,hidden:S,resizeObserver:M,dragHandle:O,zIndex:A,isParent:B,noDragClassName:k,noPanClassName:w,initialized:T,disableKeyboardA11y:I,ariaLabel:F,rfId:R,hasHandleBounds:V})=>{const W=It(),q=m.useRef(null),z=m.useRef(null),Z=m.useRef(C),ce=m.useRef(E),Te=m.useRef(n),te=j||v||d||f||h||p,pe=qT(),Ee=Ri(r,W.getState,f),ge=Ri(r,W.getState,h),Ie=Ri(r,W.getState,p),Ce=Ri(r,W.getState,x),ot=Ri(r,W.getState,g),st=fe=>{const{nodeDragThreshold:ue}=W.getState();if(j&&(!P||!v||ue>0)&&pg({id:r,store:W,nodeRef:q}),d){const lt=W.getState().nodeInternals.get(r);lt&&d(fe,{...lt})}},xe=fe=>{if(!cg(fe)&&!I)if(oT.includes(fe.key)&&j){const ue=fe.key==="Escape";pg({id:r,store:W,unselect:ue,nodeRef:q})}else v&&u&&Object.prototype.hasOwnProperty.call(Ma,fe.key)&&(W.setState({ariaLiveMessage:`Moved selected node ${fe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~i}, y: ${~~o}`}),pe({x:Ma[fe.key].x,y:Ma[fe.key].y,isShiftPressed:fe.shiftKey}))};m.useEffect(()=>()=>{z.current&&(M==null||M.unobserve(z.current),z.current=null)},[]),m.useEffect(()=>{if(q.current&&!S){const fe=q.current;(!T||!V||z.current!==fe)&&(z.current&&(M==null||M.unobserve(z.current)),M==null||M.observe(fe),z.current=fe)}},[S,T,V]),m.useEffect(()=>{const fe=Te.current!==n,ue=Z.current!==C,lt=ce.current!==E;q.current&&(fe||ue||lt)&&(fe&&(Te.current=n),ue&&(Z.current=C),lt&&(ce.current=E),W.getState().updateNodeDimensions([{id:r,nodeElement:q.current,forceUpdate:!0}]))},[r,n,C,E]);const mt=DT({nodeRef:q,disabled:S||!v,noDragClassName:k,handleSelector:O,nodeId:r,isSelectable:j,selectNodesOnDrag:P});return S?null:D.createElement("div",{className:Jt(["react-flow__node",`react-flow__node-${n}`,{[w]:v},b,{selected:u,selectable:j,parent:B,dragging:mt}]),ref:q,style:{zIndex:A,transform:`translate(${l}px,${c}px)`,pointerEvents:te?"all":"none",visibility:T?"visible":"hidden",...y},"data-id":r,"data-testid":`rf__node-${r}`,onMouseEnter:Ee,onMouseMove:ge,onMouseLeave:Ie,onContextMenu:Ce,onClick:st,onDoubleClick:ot,onKeyDown:_?xe:void 0,tabIndex:_?0:void 0,role:_?"button":void 0,"aria-describedby":I?void 0:`${ET}-${R}`,"aria-label":F},D.createElement(QD,{value:r},D.createElement(e,{id:r,data:s,type:n,xPos:i,yPos:o,selected:u,isConnectable:N,sourcePosition:C,targetPosition:E,dragging:mt,dragHandle:O,zIndex:A})))};return t.displayName="NodeWrapper",m.memo(t)};const L8=e=>{const t=e.getNodes().filter(r=>r.selected);return{...Ox(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function $8({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:r}){const n=It(),{width:s,height:i,x:o,y:l,transformString:c,userSelectionActive:u}=ht(L8,$t),d=qT(),f=m.useRef(null);if(m.useEffect(()=>{var x;r||(x=f.current)==null||x.focus({preventScroll:!0})},[r]),DT({nodeRef:f}),u||!s||!i)return null;const h=e?x=>{const g=n.getState().getNodes().filter(y=>y.selected);e(x,g)}:void 0,p=x=>{Object.prototype.hasOwnProperty.call(Ma,x.key)&&d({x:Ma[x.key].x,y:Ma[x.key].y,isShiftPressed:x.shiftKey})};return D.createElement("div",{className:Jt(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},D.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:r?void 0:-1,onKeyDown:r?void 0:p,style:{width:s,height:i,top:l,left:o}}))}var D8=m.memo($8);const q8=e=>e.nodesSelectionActive,VT=({children:e,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,deleteKeyCode:l,onMove:c,onMoveStart:u,onMoveEnd:d,selectionKeyCode:f,selectionOnDrag:h,selectionMode:p,onSelectionStart:x,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:v,elementsSelectable:j,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:P,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:M,defaultViewport:O,translateExtent:A,minZoom:B,maxZoom:k,preventScrolling:w,onSelectionContextMenu:T,noWheelClassName:I,noPanClassName:F,disableKeyboardA11y:R})=>{const V=ht(q8),W=mo(f),q=mo(b),z=q||M,Z=q||P,ce=W||h&&z!==!0;return k8({deleteKeyCode:l,multiSelectionKeyCode:y}),D.createElement(E8,{onMove:c,onMoveStart:u,onMoveEnd:d,onPaneContextMenu:i,elementsSelectable:j,zoomOnScroll:N,zoomOnPinch:_,panOnScroll:Z,panOnScrollSpeed:C,panOnScrollMode:E,zoomOnDoubleClick:S,panOnDrag:!W&&z,defaultViewport:O,translateExtent:A,minZoom:B,maxZoom:k,zoomActivationKeyCode:v,preventScrolling:w,noWheelClassName:I,noPanClassName:F},D.createElement(FT,{onSelectionStart:x,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:r,onPaneMouseMove:n,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:o,panOnDrag:z,isSelecting:!!ce,selectionMode:p},e,V&&D.createElement(D8,{onSelectionContextMenu:T,noPanClassName:F,disableKeyboardA11y:R})))};VT.displayName="FlowRenderer";var V8=m.memo(VT);function B8(e){return ht(m.useCallback(r=>e?gT(r.nodeInternals,{x:0,y:0,width:r.width,height:r.height},r.transform,!0):r.getNodes(),[e]))}function G8(e){const t={input:Ii(e.input||kT),default:Ii(e.default||hg),output:Ii(e.output||CT),group:Ii(e.group||Lx)},r={},n=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,i)=>(s[i]=Ii(e[i]||hg),s),r);return{...t,...n}}const W8=({x:e,y:t,width:r,height:n,origin:s})=>!r||!n?{x:e,y:t}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:t}:{x:e-r*s[0],y:t-n*s[1]},z8=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),BT=e=>{const{nodesDraggable:t,nodesConnectable:r,nodesFocusable:n,elementsSelectable:s,updateNodeDimensions:i,onError:o}=ht(z8,$t),l=B8(e.onlyRenderVisibleElements),c=m.useRef(),u=m.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const d=new ResizeObserver(f=>{const h=f.map(p=>({id:p.target.getAttribute("data-id"),nodeElement:p.target,forceUpdate:!0}));i(h)});return c.current=d,d},[]);return m.useEffect(()=>()=>{var d;(d=c==null?void 0:c.current)==null||d.disconnect()},[]),D.createElement("div",{className:"react-flow__nodes",style:$x},l.map(d=>{var _,P,C;let f=d.type||"default";e.nodeTypes[f]||(o==null||o("003",En.error003(f)),f="default");const h=e.nodeTypes[f]||e.nodeTypes.default,p=!!(d.draggable||t&&typeof d.draggable>"u"),x=!!(d.selectable||s&&typeof d.selectable>"u"),g=!!(d.connectable||r&&typeof d.connectable>"u"),y=!!(d.focusable||n&&typeof d.focusable>"u"),b=e.nodeExtent?Ex(d.positionAbsolute,e.nodeExtent):d.positionAbsolute,v=(b==null?void 0:b.x)??0,j=(b==null?void 0:b.y)??0,N=W8({x:v,y:j,width:d.width??0,height:d.height??0,origin:e.nodeOrigin});return D.createElement(h,{key:d.id,id:d.id,className:d.className,style:d.style,type:f,data:d.data,sourcePosition:d.sourcePosition||ie.Bottom,targetPosition:d.targetPosition||ie.Top,hidden:d.hidden,xPos:v,yPos:j,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!d.selected,isDraggable:p,isSelectable:x,isConnectable:g,isFocusable:y,resizeObserver:u,dragHandle:d.dragHandle,zIndex:((_=d[yt])==null?void 0:_.z)??0,isParent:!!((P=d[yt])!=null&&P.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!d.width&&!!d.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:d.ariaLabel,hasHandleBounds:!!((C=d[yt])!=null&&C.handleBounds)})}))};BT.displayName="NodeRenderer";var H8=m.memo(BT);const U8=(e,t,r)=>r===ie.Left?e-t:r===ie.Right?e+t:e,K8=(e,t,r)=>r===ie.Top?e-t:r===ie.Bottom?e+t:e,d0="react-flow__edgeupdater",u0=({position:e,centerX:t,centerY:r,radius:n=10,onMouseDown:s,onMouseEnter:i,onMouseOut:o,type:l})=>D.createElement("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:o,className:Jt([d0,`${d0}-${l}`]),cx:U8(t,n,e),cy:K8(r,n,e),r:n,stroke:"transparent",fill:"transparent"}),Z8=()=>!0;var ga=e=>{const t=({id:r,className:n,type:s,data:i,onClick:o,onEdgeDoubleClick:l,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:g,style:y,source:b,target:v,sourceX:j,sourceY:N,targetX:_,targetY:P,sourcePosition:C,targetPosition:E,elementsSelectable:S,hidden:M,sourceHandleId:O,targetHandleId:A,onContextMenu:B,onMouseEnter:k,onMouseMove:w,onMouseLeave:T,reconnectRadius:I,onReconnect:F,onReconnectStart:R,onReconnectEnd:V,markerEnd:W,markerStart:q,rfId:z,ariaLabel:Z,isFocusable:ce,isReconnectable:Te,pathOptions:te,interactionWidth:pe,disableKeyboardA11y:Ee})=>{const ge=m.useRef(null),[Ie,Ce]=m.useState(!1),[ot,st]=m.useState(!1),xe=It(),mt=m.useMemo(()=>`url('#${ug(q,z)}')`,[q,z]),fe=m.useMemo(()=>`url('#${ug(W,z)}')`,[W,z]);if(M)return null;const ue=Je=>{var qt;const{edges:Rt,addSelectedEdges:ke,unselectNodesAndEdges:ae,multiSelectionActive:Nt}=xe.getState(),Ft=Rt.find(Ln=>Ln.id===r);Ft&&(S&&(xe.setState({nodesSelectionActive:!1}),Ft.selected&&Nt?(ae({nodes:[],edges:[Ft]}),(qt=ge.current)==null||qt.blur()):ke([r])),o&&o(Je,Ft))},lt=Ai(r,xe.getState,l),L=Ai(r,xe.getState,B),G=Ai(r,xe.getState,k),H=Ai(r,xe.getState,w),Y=Ai(r,xe.getState,T),Q=(Je,Rt)=>{if(Je.button!==0)return;const{edges:ke,isValidConnection:ae}=xe.getState(),Nt=Rt?v:b,Ft=(Rt?A:O)||null,qt=Rt?"target":"source",Ln=ae||Z8,zc=Rt,_i=ke.find(Ns=>Ns.id===r);st(!0),R==null||R(Je,_i,qt);const Hc=Ns=>{st(!1),V==null||V(Ns,_i,qt)};wT({event:Je,handleId:Ft,nodeId:Nt,onConnect:Ns=>F==null?void 0:F(_i,Ns),isTarget:zc,getState:xe.getState,setState:xe.setState,isValidConnection:Ln,edgeUpdaterType:qt,onReconnectEnd:Hc})},K=Je=>Q(Je,!0),de=Je=>Q(Je,!1),Oe=()=>Ce(!0),Fe=()=>Ce(!1),dt=!S&&!o,Dt=Je=>{var Rt;if(!Ee&&oT.includes(Je.key)&&S){const{unselectNodesAndEdges:ke,addSelectedEdges:ae,edges:Nt}=xe.getState();Je.key==="Escape"?((Rt=ge.current)==null||Rt.blur(),ke({edges:[Nt.find(qt=>qt.id===r)]})):ae([r])}};return D.createElement("g",{className:Jt(["react-flow__edge",`react-flow__edge-${s}`,n,{selected:c,animated:u,inactive:dt,updating:Ie}]),onClick:ue,onDoubleClick:lt,onContextMenu:L,onMouseEnter:G,onMouseMove:H,onMouseLeave:Y,onKeyDown:ce?Dt:void 0,tabIndex:ce?0:void 0,role:ce?"button":"img","data-testid":`rf__edge-${r}`,"aria-label":Z===null?void 0:Z||`Edge from ${b} to ${v}`,"aria-describedby":ce?`${PT}-${z}`:void 0,ref:ge},!ot&&D.createElement(e,{id:r,source:b,target:v,selected:c,animated:u,label:d,labelStyle:f,labelShowBg:h,labelBgStyle:p,labelBgPadding:x,labelBgBorderRadius:g,data:i,style:y,sourceX:j,sourceY:N,targetX:_,targetY:P,sourcePosition:C,targetPosition:E,sourceHandleId:O,targetHandleId:A,markerStart:mt,markerEnd:fe,pathOptions:te,interactionWidth:pe}),Te&&D.createElement(D.Fragment,null,(Te==="source"||Te===!0)&&D.createElement(u0,{position:C,centerX:j,centerY:N,radius:I,onMouseDown:K,onMouseEnter:Oe,onMouseOut:Fe,type:"source"}),(Te==="target"||Te===!0)&&D.createElement(u0,{position:E,centerX:_,centerY:P,radius:I,onMouseDown:de,onMouseEnter:Oe,onMouseOut:Fe,type:"target"})))};return t.displayName="EdgeWrapper",m.memo(t)};function Y8(e){const t={default:ga(e.default||$l),straight:ga(e.bezier||Ix),step:ga(e.step||Rx),smoothstep:ga(e.step||vc),simplebezier:ga(e.simplebezier||Ax)},r={},n=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,i)=>(s[i]=ga(e[i]||$l),s),r);return{...t,...n}}function f0(e,t,r=null){const n=((r==null?void 0:r.x)||0)+t.x,s=((r==null?void 0:r.y)||0)+t.y,i=(r==null?void 0:r.width)||t.width,o=(r==null?void 0:r.height)||t.height;switch(e){case ie.Top:return{x:n+i/2,y:s};case ie.Right:return{x:n+i,y:s+o/2};case ie.Bottom:return{x:n+i/2,y:s+o};case ie.Left:return{x:n,y:s+o/2}}}function h0(e,t){return e?e.length===1||!t?e[0]:t&&e.find(r=>r.id===t)||null:null}const Q8=(e,t,r,n,s,i)=>{const o=f0(r,e,t),l=f0(i,n,s);return{sourceX:o.x,sourceY:o.y,targetX:l.x,targetY:l.y}};function X8({sourcePos:e,targetPos:t,sourceWidth:r,sourceHeight:n,targetWidth:s,targetHeight:i,width:o,height:l,transform:c}){const u={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+r,t.x+s),y2:Math.max(e.y+n,t.y+i)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=Px({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:o/c[2],height:l/c[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}function p0(e){var n,s,i,o,l;const t=((n=e==null?void 0:e[yt])==null?void 0:n.handleBounds)||null,r=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)<"u"&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.y)<"u";return[{x:((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.x)||0,y:((l=e==null?void 0:e.positionAbsolute)==null?void 0:l.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!r]}const J8=[{level:0,isMaxLevel:!0,edges:[]}];function eq(e,t,r=!1){let n=-1;const s=e.reduce((o,l)=>{var d,f;const c=mr(l.zIndex);let u=c?l.zIndex:0;if(r){const h=t.get(l.target),p=t.get(l.source),x=l.selected||(h==null?void 0:h.selected)||(p==null?void 0:p.selected),g=Math.max(((d=p==null?void 0:p[yt])==null?void 0:d.z)||0,((f=h==null?void 0:h[yt])==null?void 0:f.z)||0,1e3);u=(c?l.zIndex:0)+(x?g:0)}return o[u]?o[u].push(l):o[u]=[l],n=u>n?u:n,o},{}),i=Object.entries(s).map(([o,l])=>{const c=+o;return{edges:l,level:c,isMaxLevel:c===n}});return i.length===0?J8:i}function tq(e,t,r){const n=ht(m.useCallback(s=>e?s.edges.filter(i=>{const o=t.get(i.source),l=t.get(i.target);return(o==null?void 0:o.width)&&(o==null?void 0:o.height)&&(l==null?void 0:l.width)&&(l==null?void 0:l.height)&&X8({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:l.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:l.width,targetHeight:l.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,t]));return eq(n,t,r)}const rq=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),nq=({color:e="none",strokeWidth:t=1})=>D.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),m0={[Ll.Arrow]:rq,[Ll.ArrowClosed]:nq};function sq(e){const t=It();return m.useMemo(()=>{var s,i;return Object.prototype.hasOwnProperty.call(m0,e)?m0[e]:((i=(s=t.getState()).onError)==null||i.call(s,"009",En.error009(e)),null)},[e])}const aq=({id:e,type:t,color:r,width:n=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=sq(t);return c?D.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${n}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:l,refX:"0",refY:"0"},D.createElement(c,{color:r,strokeWidth:o})):null},iq=({defaultColor:e,rfId:t})=>r=>{const n=[];return r.edges.reduce((s,i)=>([i.markerStart,i.markerEnd].forEach(o=>{if(o&&typeof o=="object"){const l=ug(o,t);n.includes(l)||(s.push({id:l,color:o.color||e,...o}),n.push(l))}}),s),[]).sort((s,i)=>s.id.localeCompare(i.id))},GT=({defaultColor:e,rfId:t})=>{const r=ht(m.useCallback(iq({defaultColor:e,rfId:t}),[e,t]),(n,s)=>!(n.length!==s.length||n.some((i,o)=>i.id!==s[o].id)));return D.createElement("defs",null,r.map(n=>D.createElement(aq,{id:n.id,key:n.id,type:n.type,color:n.color,width:n.width,height:n.height,markerUnits:n.markerUnits,strokeWidth:n.strokeWidth,orient:n.orient})))};GT.displayName="MarkerDefinitions";var oq=m.memo(GT);const lq=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),WT=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:r,rfId:n,edgeTypes:s,noPanClassName:i,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:g,children:y,disableKeyboardA11y:b})=>{const{edgesFocusable:v,edgesUpdatable:j,elementsSelectable:N,width:_,height:P,connectionMode:C,nodeInternals:E,onError:S}=ht(lq,$t),M=tq(t,E,r);return _?D.createElement(D.Fragment,null,M.map(({level:O,edges:A,isMaxLevel:B})=>D.createElement("svg",{key:O,style:{zIndex:O},width:_,height:P,className:"react-flow__edges react-flow__container"},B&&D.createElement(oq,{defaultColor:e,rfId:n}),D.createElement("g",null,A.map(k=>{const[w,T,I]=p0(E.get(k.source)),[F,R,V]=p0(E.get(k.target));if(!I||!V)return null;let W=k.type||"default";s[W]||(S==null||S("011",En.error011(W)),W="default");const q=s[W]||s.default,z=C===ta.Strict?R.target:(R.target??[]).concat(R.source??[]),Z=h0(T.source,k.sourceHandle),ce=h0(z,k.targetHandle),Te=(Z==null?void 0:Z.position)||ie.Bottom,te=(ce==null?void 0:ce.position)||ie.Top,pe=!!(k.focusable||v&&typeof k.focusable>"u"),Ee=k.reconnectable||k.updatable,ge=typeof h<"u"&&(Ee||j&&typeof Ee>"u");if(!Z||!ce)return S==null||S("008",En.error008(Z,k)),null;const{sourceX:Ie,sourceY:Ce,targetX:ot,targetY:st}=Q8(w,Z,Te,F,ce,te);return D.createElement(q,{key:k.id,id:k.id,className:Jt([k.className,i]),type:W,data:k.data,selected:!!k.selected,animated:!!k.animated,hidden:!!k.hidden,label:k.label,labelStyle:k.labelStyle,labelShowBg:k.labelShowBg,labelBgStyle:k.labelBgStyle,labelBgPadding:k.labelBgPadding,labelBgBorderRadius:k.labelBgBorderRadius,style:k.style,source:k.source,target:k.target,sourceHandleId:k.sourceHandle,targetHandleId:k.targetHandle,markerEnd:k.markerEnd,markerStart:k.markerStart,sourceX:Ie,sourceY:Ce,targetX:ot,targetY:st,sourcePosition:Te,targetPosition:te,elementsSelectable:N,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:d,onEdgeDoubleClick:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:x,reconnectRadius:g,rfId:n,ariaLabel:k.ariaLabel,isFocusable:pe,isReconnectable:ge,pathOptions:"pathOptions"in k?k.pathOptions:void 0,interactionWidth:k.interactionWidth,disableKeyboardA11y:b})})))),y):null};WT.displayName="EdgeRenderer";var cq=m.memo(WT);const dq=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function uq({children:e}){const t=ht(dq);return D.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function fq(e){const t=bc(),r=m.useRef(!1);m.useEffect(()=>{!r.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),r.current=!0)},[e,t.viewportInitialized])}const hq={[ie.Left]:ie.Right,[ie.Right]:ie.Left,[ie.Top]:ie.Bottom,[ie.Bottom]:ie.Top},zT=({nodeId:e,handleType:t,style:r,type:n=Kn.Bezier,CustomComponent:s,connectionStatus:i})=>{var P,C,E;const{fromNode:o,handleId:l,toX:c,toY:u,connectionMode:d}=ht(m.useCallback(S=>({fromNode:S.nodeInternals.get(e),handleId:S.connectionHandleId,toX:(S.connectionPosition.x-S.transform[0])/S.transform[2],toY:(S.connectionPosition.y-S.transform[1])/S.transform[2],connectionMode:S.connectionMode}),[e]),$t),f=(P=o==null?void 0:o[yt])==null?void 0:P.handleBounds;let h=f==null?void 0:f[t];if(d===ta.Loose&&(h=h||(f==null?void 0:f[t==="source"?"target":"source"])),!o||!h)return null;const p=l?h.find(S=>S.id===l):h[0],x=p?p.x+p.width/2:(o.width??0)/2,g=p?p.y+p.height/2:o.height??0,y=(((C=o.positionAbsolute)==null?void 0:C.x)??0)+x,b=(((E=o.positionAbsolute)==null?void 0:E.y)??0)+g,v=p==null?void 0:p.position,j=v?hq[v]:null;if(!v||!j)return null;if(s)return D.createElement(s,{connectionLineType:n,connectionLineStyle:r,fromNode:o,fromHandle:p,fromX:y,fromY:b,toX:c,toY:u,fromPosition:v,toPosition:j,connectionStatus:i});let N="";const _={sourceX:y,sourceY:b,sourcePosition:v,targetX:c,targetY:u,targetPosition:j};return n===Kn.Bezier?[N]=hT(_):n===Kn.Step?[N]=dg({..._,borderRadius:0}):n===Kn.SmoothStep?[N]=dg(_):n===Kn.SimpleBezier?[N]=uT(_):N=`M${y},${b} ${c},${u}`,D.createElement("path",{d:N,fill:"none",className:"react-flow__connection-path",style:r})};zT.displayName="ConnectionLine";const pq=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function mq({containerStyle:e,style:t,type:r,component:n}){const{nodeId:s,handleType:i,nodesConnectable:o,width:l,height:c,connectionStatus:u}=ht(pq,$t);return!(s&&i&&l&&o)?null:D.createElement("svg",{style:e,width:l,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},D.createElement("g",{className:Jt(["react-flow__connection",u])},D.createElement(zT,{nodeId:s,handleType:i,style:t,type:r,CustomComponent:n,connectionStatus:u})))}function g0(e,t){return m.useRef(null),It(),m.useMemo(()=>t(e),[e])}const HT=({nodeTypes:e,edgeTypes:t,onMove:r,onMoveStart:n,onMoveEnd:s,onInit:i,onNodeClick:o,onEdgeClick:l,onNodeDoubleClick:c,onEdgeDoubleClick:u,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,onSelectionContextMenu:x,onSelectionStart:g,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:v,connectionLineComponent:j,connectionLineContainerStyle:N,selectionKeyCode:_,selectionOnDrag:P,selectionMode:C,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:M,deleteKeyCode:O,onlyRenderVisibleElements:A,elementsSelectable:B,selectNodesOnDrag:k,defaultViewport:w,translateExtent:T,minZoom:I,maxZoom:F,preventScrolling:R,defaultMarkerColor:V,zoomOnScroll:W,zoomOnPinch:q,panOnScroll:z,panOnScrollSpeed:Z,panOnScrollMode:ce,zoomOnDoubleClick:Te,panOnDrag:te,onPaneClick:pe,onPaneMouseEnter:Ee,onPaneMouseMove:ge,onPaneMouseLeave:Ie,onPaneScroll:Ce,onPaneContextMenu:ot,onEdgeContextMenu:st,onEdgeMouseEnter:xe,onEdgeMouseMove:mt,onEdgeMouseLeave:fe,onReconnect:ue,onReconnectStart:lt,onReconnectEnd:L,reconnectRadius:G,noDragClassName:H,noWheelClassName:Y,noPanClassName:Q,elevateEdgesOnSelect:K,disableKeyboardA11y:de,nodeOrigin:Oe,nodeExtent:Fe,rfId:dt})=>{const Dt=g0(e,G8),Je=g0(t,Y8);return fq(i),D.createElement(V8,{onPaneClick:pe,onPaneMouseEnter:Ee,onPaneMouseMove:ge,onPaneMouseLeave:Ie,onPaneContextMenu:ot,onPaneScroll:Ce,deleteKeyCode:O,selectionKeyCode:_,selectionOnDrag:P,selectionMode:C,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:E,panActivationKeyCode:S,zoomActivationKeyCode:M,elementsSelectable:B,onMove:r,onMoveStart:n,onMoveEnd:s,zoomOnScroll:W,zoomOnPinch:q,zoomOnDoubleClick:Te,panOnScroll:z,panOnScrollSpeed:Z,panOnScrollMode:ce,panOnDrag:te,defaultViewport:w,translateExtent:T,minZoom:I,maxZoom:F,onSelectionContextMenu:x,preventScrolling:R,noDragClassName:H,noWheelClassName:Y,noPanClassName:Q,disableKeyboardA11y:de},D.createElement(uq,null,D.createElement(cq,{edgeTypes:Je,onEdgeClick:l,onEdgeDoubleClick:u,onlyRenderVisibleElements:A,onEdgeContextMenu:st,onEdgeMouseEnter:xe,onEdgeMouseMove:mt,onEdgeMouseLeave:fe,onReconnect:ue,onReconnectStart:lt,onReconnectEnd:L,reconnectRadius:G,defaultMarkerColor:V,noPanClassName:Q,elevateEdgesOnSelect:!!K,disableKeyboardA11y:de,rfId:dt},D.createElement(mq,{style:v,type:b,component:j,containerStyle:N})),D.createElement("div",{className:"react-flow__edgelabel-renderer"}),D.createElement(H8,{nodeTypes:Dt,onNodeClick:o,onNodeDoubleClick:c,onNodeMouseEnter:d,onNodeMouseMove:f,onNodeMouseLeave:h,onNodeContextMenu:p,selectNodesOnDrag:k,onlyRenderVisibleElements:A,noPanClassName:Q,noDragClassName:H,disableKeyboardA11y:de,nodeOrigin:Oe,nodeExtent:Fe,rfId:dt})))};HT.displayName="GraphView";var gq=m.memo(HT);const mg=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],qn={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:mg,nodeExtent:mg,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ta.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:HD,isValidConnection:void 0},xq=()=>aF((e,t)=>({...qn,setNodes:r=>{const{nodeInternals:n,nodeOrigin:s,elevateNodesOnSelect:i}=t();e({nodeInternals:xd(r,n,s,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:r=>{const{defaultEdgeOptions:n={}}=t();e({edges:r.map(s=>({...n,...s}))})},setDefaultNodesAndEdges:(r,n)=>{const s=typeof r<"u",i=typeof n<"u",o=s?xd(r,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:o,edges:i?n:[],hasDefaultNodes:s,hasDefaultEdges:i})},updateNodeDimensions:r=>{const{onNodesChange:n,nodeInternals:s,fitViewOnInit:i,fitViewOnInitDone:o,fitViewOnInitOptions:l,domNode:c,nodeOrigin:u}=t(),d=c==null?void 0:c.querySelector(".react-flow__viewport");if(!d)return;const f=window.getComputedStyle(d),{m22:h}=new window.DOMMatrixReadOnly(f.transform),p=r.reduce((g,y)=>{const b=s.get(y.id);if(b!=null&&b.hidden)s.set(b.id,{...b,[yt]:{...b[yt],handleBounds:void 0}});else if(b){const v=Tx(y.nodeElement);!!(v.width&&v.height&&(b.width!==v.width||b.height!==v.height||y.forceUpdate))&&(s.set(b.id,{...b,[yt]:{...b[yt],handleBounds:{source:c0(".source",y.nodeElement,h,u),target:c0(".target",y.nodeElement,h,u)}},...v}),g.push({id:b.id,type:"dimensions",dimensions:v}))}return g},[]);RT(s,u);const x=o||i&&!o&&IT(t,{initial:!0,...l});e({nodeInternals:new Map(s),fitViewOnInitDone:x}),(p==null?void 0:p.length)>0&&(n==null||n(p))},updateNodePositions:(r,n=!0,s=!1)=>{const{triggerNodeChanges:i}=t(),o=r.map(l=>{const c={id:l.id,type:"position",dragging:s};return n&&(c.positionAbsolute=l.positionAbsolute,c.position=l.position),c});i(o)},triggerNodeChanges:r=>{const{onNodesChange:n,nodeInternals:s,hasDefaultNodes:i,nodeOrigin:o,getNodes:l,elevateNodesOnSelect:c}=t();if(r!=null&&r.length){if(i){const u=OT(r,l()),d=xd(u,s,o,c);e({nodeInternals:d})}n==null||n(r)}},addSelectedNodes:r=>{const{multiSelectionActive:n,edges:s,getNodes:i}=t();let o,l=null;n?o=r.map(c=>Hn(c,!0)):(o=Ca(i(),r),l=Ca(s,[])),Jo({changedNodes:o,changedEdges:l,get:t,set:e})},addSelectedEdges:r=>{const{multiSelectionActive:n,edges:s,getNodes:i}=t();let o,l=null;n?o=r.map(c=>Hn(c,!0)):(o=Ca(s,r),l=Ca(i(),[])),Jo({changedNodes:l,changedEdges:o,get:t,set:e})},unselectNodesAndEdges:({nodes:r,edges:n}={})=>{const{edges:s,getNodes:i}=t(),o=r||i(),l=n||s,c=o.map(d=>(d.selected=!1,Hn(d.id,!1))),u=l.map(d=>Hn(d.id,!1));Jo({changedNodes:c,changedEdges:u,get:t,set:e})},setMinZoom:r=>{const{d3Zoom:n,maxZoom:s}=t();n==null||n.scaleExtent([r,s]),e({minZoom:r})},setMaxZoom:r=>{const{d3Zoom:n,minZoom:s}=t();n==null||n.scaleExtent([s,r]),e({maxZoom:r})},setTranslateExtent:r=>{var n;(n=t().d3Zoom)==null||n.translateExtent(r),e({translateExtent:r})},resetSelectedElements:()=>{const{edges:r,getNodes:n}=t(),i=n().filter(l=>l.selected).map(l=>Hn(l.id,!1)),o=r.filter(l=>l.selected).map(l=>Hn(l.id,!1));Jo({changedNodes:i,changedEdges:o,get:t,set:e})},setNodeExtent:r=>{const{nodeInternals:n}=t();n.forEach(s=>{s.positionAbsolute=Ex(s.position,r)}),e({nodeExtent:r,nodeInternals:new Map(n)})},panBy:r=>{const{transform:n,width:s,height:i,d3Zoom:o,d3Selection:l,translateExtent:c}=t();if(!o||!l||!r.x&&!r.y)return!1;const u=fs.translate(n[0]+r.x,n[1]+r.y).scale(n[2]),d=[[0,0],[s,i]],f=o==null?void 0:o.constrain()(u,d,c);return o.transform(l,f),n[0]!==f.x||n[1]!==f.y||n[2]!==f.k},cancelConnection:()=>e({connectionNodeId:qn.connectionNodeId,connectionHandleId:qn.connectionHandleId,connectionHandleType:qn.connectionHandleType,connectionStatus:qn.connectionStatus,connectionStartHandle:qn.connectionStartHandle,connectionEndHandle:qn.connectionEndHandle}),reset:()=>e({...qn})}),Object.is),Dx=({children:e})=>{const t=m.useRef(null);return t.current||(t.current=xq()),D.createElement($D,{value:t.current},e)};Dx.displayName="ReactFlowProvider";const UT=({children:e})=>m.useContext(yc)?D.createElement(D.Fragment,null,e):D.createElement(Dx,null,e);UT.displayName="ReactFlowWrapper";const yq={input:kT,default:hg,output:CT,group:Lx},vq={default:$l,straight:Ix,step:Rx,smoothstep:vc,simplebezier:Ax},bq=[0,0],wq=[15,15],jq={x:0,y:0,zoom:1},Nq={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},KT=m.forwardRef(({nodes:e,edges:t,defaultNodes:r,defaultEdges:n,className:s,nodeTypes:i=yq,edgeTypes:o=vq,onNodeClick:l,onEdgeClick:c,onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:x,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:b,onNodeMouseEnter:v,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:P,onNodeDragStart:C,onNodeDrag:E,onNodeDragStop:S,onNodesDelete:M,onEdgesDelete:O,onSelectionChange:A,onSelectionDragStart:B,onSelectionDrag:k,onSelectionDragStop:w,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:F,connectionMode:R=ta.Strict,connectionLineType:V=Kn.Bezier,connectionLineStyle:W,connectionLineComponent:q,connectionLineContainerStyle:z,deleteKeyCode:Z="Backspace",selectionKeyCode:ce="Shift",selectionOnDrag:Te=!1,selectionMode:te=ii.Full,panActivationKeyCode:pe="Space",multiSelectionKeyCode:Ee=Fl()?"Meta":"Control",zoomActivationKeyCode:ge=Fl()?"Meta":"Control",snapToGrid:Ie=!1,snapGrid:Ce=wq,onlyRenderVisibleElements:ot=!1,selectNodesOnDrag:st=!0,nodesDraggable:xe,nodesConnectable:mt,nodesFocusable:fe,nodeOrigin:ue=bq,edgesFocusable:lt,edgesUpdatable:L,elementsSelectable:G,defaultViewport:H=jq,minZoom:Y=.5,maxZoom:Q=2,translateExtent:K=mg,preventScrolling:de=!0,nodeExtent:Oe,defaultMarkerColor:Fe="#b1b1b7",zoomOnScroll:dt=!0,zoomOnPinch:Dt=!0,panOnScroll:Je=!1,panOnScrollSpeed:Rt=.5,panOnScrollMode:ke=As.Free,zoomOnDoubleClick:ae=!0,panOnDrag:Nt=!0,onPaneClick:Ft,onPaneMouseEnter:qt,onPaneMouseMove:Ln,onPaneMouseLeave:zc,onPaneScroll:_i,onPaneContextMenu:Hc,children:dy,onEdgeContextMenu:Ns,onEdgeDoubleClick:FP,onEdgeMouseEnter:LP,onEdgeMouseMove:$P,onEdgeMouseLeave:DP,onEdgeUpdate:qP,onEdgeUpdateStart:VP,onEdgeUpdateEnd:BP,onReconnect:GP,onReconnectStart:WP,onReconnectEnd:zP,reconnectRadius:HP=10,edgeUpdaterRadius:UP=10,onNodesChange:KP,onEdgesChange:ZP,noDragClassName:YP="nodrag",noWheelClassName:QP="nowheel",noPanClassName:uy="nopan",fitView:XP=!1,fitViewOptions:JP,connectOnClick:e4=!0,attributionPosition:t4,proOptions:r4,defaultEdgeOptions:n4,elevateNodesOnSelect:s4=!0,elevateEdgesOnSelect:a4=!1,disableKeyboardA11y:fy=!1,autoPanOnConnect:i4=!0,autoPanOnNodeDrag:o4=!0,connectionRadius:l4=20,isValidConnection:c4,onError:d4,style:u4,id:hy,nodeDragThreshold:f4,...h4},p4)=>{const Uc=hy||"1";return D.createElement("div",{...h4,style:{...u4,...Nq},ref:p4,className:Jt(["react-flow",s]),"data-testid":"rf__wrapper",id:hy},D.createElement(UT,null,D.createElement(gq,{onInit:u,onMove:d,onMoveStart:f,onMoveEnd:h,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:v,onNodeMouseMove:j,onNodeMouseLeave:N,onNodeContextMenu:_,onNodeDoubleClick:P,nodeTypes:i,edgeTypes:o,connectionLineType:V,connectionLineStyle:W,connectionLineComponent:q,connectionLineContainerStyle:z,selectionKeyCode:ce,selectionOnDrag:Te,selectionMode:te,deleteKeyCode:Z,multiSelectionKeyCode:Ee,panActivationKeyCode:pe,zoomActivationKeyCode:ge,onlyRenderVisibleElements:ot,selectNodesOnDrag:st,defaultViewport:H,translateExtent:K,minZoom:Y,maxZoom:Q,preventScrolling:de,zoomOnScroll:dt,zoomOnPinch:Dt,zoomOnDoubleClick:ae,panOnScroll:Je,panOnScrollSpeed:Rt,panOnScrollMode:ke,panOnDrag:Nt,onPaneClick:Ft,onPaneMouseEnter:qt,onPaneMouseMove:Ln,onPaneMouseLeave:zc,onPaneScroll:_i,onPaneContextMenu:Hc,onSelectionContextMenu:T,onSelectionStart:I,onSelectionEnd:F,onEdgeContextMenu:Ns,onEdgeDoubleClick:FP,onEdgeMouseEnter:LP,onEdgeMouseMove:$P,onEdgeMouseLeave:DP,onReconnect:GP??qP,onReconnectStart:WP??VP,onReconnectEnd:zP??BP,reconnectRadius:HP??UP,defaultMarkerColor:Fe,noDragClassName:YP,noWheelClassName:QP,noPanClassName:uy,elevateEdgesOnSelect:a4,rfId:Uc,disableKeyboardA11y:fy,nodeOrigin:ue,nodeExtent:Oe}),D.createElement(h8,{nodes:e,edges:t,defaultNodes:r,defaultEdges:n,onConnect:p,onConnectStart:x,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:b,nodesDraggable:xe,nodesConnectable:mt,nodesFocusable:fe,edgesFocusable:lt,edgesUpdatable:L,elementsSelectable:G,elevateNodesOnSelect:s4,minZoom:Y,maxZoom:Q,nodeExtent:Oe,onNodesChange:KP,onEdgesChange:ZP,snapToGrid:Ie,snapGrid:Ce,connectionMode:R,translateExtent:K,connectOnClick:e4,defaultEdgeOptions:n4,fitView:XP,fitViewOptions:JP,onNodesDelete:M,onEdgesDelete:O,onNodeDragStart:C,onNodeDrag:E,onNodeDragStop:S,onSelectionDrag:k,onSelectionDragStart:B,onSelectionDragStop:w,noPanClassName:uy,nodeOrigin:ue,rfId:Uc,autoPanOnConnect:i4,autoPanOnNodeDrag:o4,onError:d4,connectionRadius:l4,isValidConnection:c4,nodeDragThreshold:f4}),D.createElement(u8,{onSelectionChange:A}),dy,D.createElement(qD,{proOptions:r4,position:t4}),D.createElement(y8,{rfId:Uc,disableKeyboardA11y:fy})))});KT.displayName="ReactFlow";const _q=e=>{var t;return(t=e.domNode)==null?void 0:t.querySelector(".react-flow__edgelabel-renderer")};function kq({children:e}){const t=ht(_q);return t?Hl.createPortal(e,t):null}function ZT(e){return t=>{const[r,n]=m.useState(t),s=m.useCallback(i=>n(o=>e(i,o)),[]);return[r,n,s]}}const Sq=ZT(OT),Cq=ZT(R8);function Tq(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},D.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function Eq(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},D.createElement("path",{d:"M0 0h32v4.2H0z"}))}function Pq(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},D.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function Aq(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function Rq(){return D.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},D.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const Gi=({children:e,className:t,...r})=>D.createElement("button",{type:"button",className:Jt(["react-flow__controls-button",t]),...r},e);Gi.displayName="ControlButton";const Iq=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),YT=({style:e,showZoom:t=!0,showFitView:r=!0,showInteractive:n=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:u,children:d,position:f="bottom-left"})=>{const h=It(),[p,x]=m.useState(!1),{isInteractive:g,minZoomReached:y,maxZoomReached:b}=ht(Iq,$t),{zoomIn:v,zoomOut:j,fitView:N}=bc();if(m.useEffect(()=>{x(!0)},[]),!p)return null;const _=()=>{v(),i==null||i()},P=()=>{j(),o==null||o()},C=()=>{N(s),l==null||l()},E=()=>{h.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c==null||c(!g)};return D.createElement(sT,{className:Jt(["react-flow__controls",u]),position:f,style:e,"data-testid":"rf__controls"},t&&D.createElement(D.Fragment,null,D.createElement(Gi,{onClick:_,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:b},D.createElement(Tq,null)),D.createElement(Gi,{onClick:P,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:y},D.createElement(Eq,null))),r&&D.createElement(Gi,{className:"react-flow__controls-fitview",onClick:C,title:"fit view","aria-label":"fit view"},D.createElement(Pq,null)),n&&D.createElement(Gi,{className:"react-flow__controls-interactive",onClick:E,title:"toggle interactivity","aria-label":"toggle interactivity"},g?D.createElement(Rq,null):D.createElement(Aq,null)),d)};YT.displayName="Controls";var Mq=m.memo(YT),Lr;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Lr||(Lr={}));function Oq({color:e,dimensions:t,lineWidth:r}){return D.createElement("path",{stroke:e,strokeWidth:r,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function Fq({color:e,radius:t}){return D.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const Lq={[Lr.Dots]:"#91919a",[Lr.Lines]:"#eee",[Lr.Cross]:"#e2e2e2"},$q={[Lr.Dots]:1,[Lr.Lines]:1,[Lr.Cross]:6},Dq=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function QT({id:e,variant:t=Lr.Dots,gap:r=20,size:n,lineWidth:s=1,offset:i=2,color:o,style:l,className:c}){const u=m.useRef(null),{transform:d,patternId:f}=ht(Dq,$t),h=o||Lq[t],p=n||$q[t],x=t===Lr.Dots,g=t===Lr.Cross,y=Array.isArray(r)?r:[r,r],b=[y[0]*d[2]||1,y[1]*d[2]||1],v=p*d[2],j=g?[v,v]:b,N=x?[v/i,v/i]:[j[0]/i,j[1]/i];return D.createElement("svg",{className:Jt(["react-flow__background",c]),style:{...l,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:u,"data-testid":"rf__background"},D.createElement("pattern",{id:f+e,x:d[0]%b[0],y:d[1]%b[1],width:b[0],height:b[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${N[0]},-${N[1]})`},x?D.createElement(Fq,{color:h,radius:v/i}):D.createElement(Oq,{dimensions:j,color:h,lineWidth:s})),D.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f+e})`}))}QT.displayName="Background";var qq=m.memo(QT);function qx(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wd,x0;function Vq(){if(x0)return wd;x0=1;function e(){this.__data__=[],this.size=0}return wd=e,wd}var jd,y0;function vi(){if(y0)return jd;y0=1;function e(t,r){return t===r||t!==t&&r!==r}return jd=e,jd}var Nd,v0;function wc(){if(v0)return Nd;v0=1;var e=vi();function t(r,n){for(var s=r.length;s--;)if(e(r[s][0],n))return s;return-1}return Nd=t,Nd}var _d,b0;function Bq(){if(b0)return _d;b0=1;var e=wc(),t=Array.prototype,r=t.splice;function n(s){var i=this.__data__,o=e(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return _d=n,_d}var kd,w0;function Gq(){if(w0)return kd;w0=1;var e=wc();function t(r){var n=this.__data__,s=e(n,r);return s<0?void 0:n[s][1]}return kd=t,kd}var Sd,j0;function Wq(){if(j0)return Sd;j0=1;var e=wc();function t(r){return e(this.__data__,r)>-1}return Sd=t,Sd}var Cd,N0;function zq(){if(N0)return Cd;N0=1;var e=wc();function t(r,n){var s=this.__data__,i=e(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return Cd=t,Cd}var Td,_0;function jc(){if(_0)return Td;_0=1;var e=Vq(),t=Bq(),r=Gq(),n=Wq(),s=zq();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Td=i,Td}var Ed,k0;function Hq(){if(k0)return Ed;k0=1;var e=jc();function t(){this.__data__=new e,this.size=0}return Ed=t,Ed}var Pd,S0;function Uq(){if(S0)return Pd;S0=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return Pd=e,Pd}var Ad,C0;function Kq(){if(C0)return Ad;C0=1;function e(t){return this.__data__.get(t)}return Ad=e,Ad}var Rd,T0;function Zq(){if(T0)return Rd;T0=1;function e(t){return this.__data__.has(t)}return Rd=e,Rd}var Id,E0;function XT(){if(E0)return Id;E0=1;var e=typeof qo=="object"&&qo&&qo.Object===Object&&qo;return Id=e,Id}var Md,P0;function qr(){if(P0)return Md;P0=1;var e=XT(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Md=r,Md}var Od,A0;function bi(){if(A0)return Od;A0=1;var e=qr(),t=e.Symbol;return Od=t,Od}var Fd,R0;function Yq(){if(R0)return Fd;R0=1;var e=bi(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[s]=c:delete o[s]),d}return Fd=i,Fd}var Ld,I0;function Qq(){if(I0)return Ld;I0=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return Ld=r,Ld}var $d,M0;function sa(){if(M0)return $d;M0=1;var e=bi(),t=Yq(),r=Qq(),n="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?t(l):r(l)}return $d=o,$d}var Dd,O0;function br(){if(O0)return Dd;O0=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return Dd=e,Dd}var qd,F0;function Ao(){if(F0)return qd;F0=1;var e=sa(),t=br(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==s||c==r||c==i}return qd=o,qd}var Vd,L0;function Xq(){if(L0)return Vd;L0=1;var e=qr(),t=e["__core-js_shared__"];return Vd=t,Vd}var Bd,$0;function Jq(){if($0)return Bd;$0=1;var e=Xq(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return Bd=r,Bd}var Gd,D0;function JT(){if(D0)return Gd;D0=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return Gd=r,Gd}var Wd,q0;function e7(){if(q0)return Wd;q0=1;var e=Ao(),t=Jq(),r=br(),n=JT(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!r(h)||t(h))return!1;var p=e(h)?d:i;return p.test(n(h))}return Wd=f,Wd}var zd,V0;function t7(){if(V0)return zd;V0=1;function e(t,r){return t==null?void 0:t[r]}return zd=e,zd}var Hd,B0;function aa(){if(B0)return Hd;B0=1;var e=e7(),t=t7();function r(n,s){var i=t(n,s);return e(i)?i:void 0}return Hd=r,Hd}var Ud,G0;function Vx(){if(G0)return Ud;G0=1;var e=aa(),t=qr(),r=e(t,"Map");return Ud=r,Ud}var Kd,W0;function Nc(){if(W0)return Kd;W0=1;var e=aa(),t=e(Object,"create");return Kd=t,Kd}var Zd,z0;function r7(){if(z0)return Zd;z0=1;var e=Nc();function t(){this.__data__=e?e(null):{},this.size=0}return Zd=t,Zd}var Yd,H0;function n7(){if(H0)return Yd;H0=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return Yd=e,Yd}var Qd,U0;function s7(){if(U0)return Qd;U0=1;var e=Nc(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(e){var l=o[i];return l===t?void 0:l}return n.call(o,i)?o[i]:void 0}return Qd=s,Qd}var Xd,K0;function a7(){if(K0)return Xd;K0=1;var e=Nc(),t=Object.prototype,r=t.hasOwnProperty;function n(s){var i=this.__data__;return e?i[s]!==void 0:r.call(i,s)}return Xd=n,Xd}var Jd,Z0;function i7(){if(Z0)return Jd;Z0=1;var e=Nc(),t="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=e&&s===void 0?t:s,this}return Jd=r,Jd}var eu,Y0;function o7(){if(Y0)return eu;Y0=1;var e=r7(),t=n7(),r=s7(),n=a7(),s=i7();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,eu=i,eu}var tu,Q0;function l7(){if(Q0)return tu;Q0=1;var e=o7(),t=jc(),r=Vx();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return tu=n,tu}var ru,X0;function c7(){if(X0)return ru;X0=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return ru=e,ru}var nu,J0;function _c(){if(J0)return nu;J0=1;var e=c7();function t(r,n){var s=r.__data__;return e(n)?s[typeof n=="string"?"string":"hash"]:s.map}return nu=t,nu}var su,eb;function d7(){if(eb)return su;eb=1;var e=_c();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return su=t,su}var au,tb;function u7(){if(tb)return au;tb=1;var e=_c();function t(r){return e(this,r).get(r)}return au=t,au}var iu,rb;function f7(){if(rb)return iu;rb=1;var e=_c();function t(r){return e(this,r).has(r)}return iu=t,iu}var ou,nb;function h7(){if(nb)return ou;nb=1;var e=_c();function t(r,n){var s=e(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return ou=t,ou}var lu,sb;function Bx(){if(sb)return lu;sb=1;var e=l7(),t=d7(),r=u7(),n=f7(),s=h7();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,lu=i,lu}var cu,ab;function p7(){if(ab)return cu;ab=1;var e=jc(),t=Vx(),r=Bx(),n=200;function s(i,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return cu=s,cu}var du,ib;function kc(){if(ib)return du;ib=1;var e=jc(),t=Hq(),r=Uq(),n=Kq(),s=Zq(),i=p7();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,du=o,du}var uu,ob;function Gx(){if(ob)return uu;ob=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s&&r(t[n],n,t)!==!1;);return t}return uu=e,uu}var fu,lb;function eE(){if(lb)return fu;lb=1;var e=aa(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return fu=t,fu}var hu,cb;function Sc(){if(cb)return hu;cb=1;var e=eE();function t(r,n,s){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return hu=t,hu}var pu,db;function Cc(){if(db)return pu;db=1;var e=Sc(),t=vi(),r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l){var c=i[o];(!(n.call(i,o)&&t(c,l))||l===void 0&&!(o in i))&&e(i,o,l)}return pu=s,pu}var mu,ub;function Ro(){if(ub)return mu;ub=1;var e=Cc(),t=Sc();function r(n,s,i,o){var l=!i;i||(i={});for(var c=-1,u=s.length;++c<u;){var d=s[c],f=o?o(i[d],n[d],d,i,n):void 0;f===void 0&&(f=n[d]),l?t(i,d,f):e(i,d,f)}return i}return mu=r,mu}var gu,fb;function m7(){if(fb)return gu;fb=1;function e(t,r){for(var n=-1,s=Array(t);++n<t;)s[n]=r(n);return s}return gu=e,gu}var xu,hb;function an(){if(hb)return xu;hb=1;function e(t){return t!=null&&typeof t=="object"}return xu=e,xu}var yu,pb;function g7(){if(pb)return yu;pb=1;var e=sa(),t=an(),r="[object Arguments]";function n(s){return t(s)&&e(s)==r}return yu=n,yu}var vu,mb;function Io(){if(mb)return vu;mb=1;var e=g7(),t=an(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return vu=i,vu}var bu,gb;function Ct(){if(gb)return bu;gb=1;var e=Array.isArray;return bu=e,bu}var Wi={exports:{}},wu,xb;function x7(){if(xb)return wu;xb=1;function e(){return!1}return wu=e,wu}Wi.exports;var yb;function wi(){return yb||(yb=1,function(e,t){var r=qr(),n=x7(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u}(Wi,Wi.exports)),Wi.exports}var ju,vb;function Tc(){if(vb)return ju;vb=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<s}return ju=r,ju}var Nu,bb;function Wx(){if(bb)return Nu;bb=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return Nu=t,Nu}var _u,wb;function y7(){if(wb)return _u;wb=1;var e=sa(),t=Wx(),r=an(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",h="[object RegExp]",p="[object Set]",x="[object String]",g="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",v="[object Float32Array]",j="[object Float64Array]",N="[object Int8Array]",_="[object Int16Array]",P="[object Int32Array]",C="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",M="[object Uint32Array]",O={};O[v]=O[j]=O[N]=O[_]=O[P]=O[C]=O[E]=O[S]=O[M]=!0,O[n]=O[s]=O[y]=O[i]=O[b]=O[o]=O[l]=O[c]=O[u]=O[d]=O[f]=O[h]=O[p]=O[x]=O[g]=!1;function A(B){return r(B)&&t(B.length)&&!!O[e(B)]}return _u=A,_u}var ku,jb;function Ec(){if(jb)return ku;jb=1;function e(t){return function(r){return t(r)}}return ku=e,ku}var zi={exports:{}};zi.exports;var Nb;function zx(){return Nb||(Nb=1,function(e,t){var r=XT(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(zi,zi.exports)),zi.exports}var Su,_b;function Mo(){if(_b)return Su;_b=1;var e=y7(),t=Ec(),r=zx(),n=r&&r.isTypedArray,s=n?t(n):e;return Su=s,Su}var Cu,kb;function tE(){if(kb)return Cu;kb=1;var e=m7(),t=Io(),r=Ct(),n=wi(),s=Tc(),i=Mo(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),h=!f&&t(u),p=!f&&!h&&n(u),x=!f&&!h&&!p&&i(u),g=f||h||p||x,y=g?e(u.length,String):[],b=y.length;for(var v in u)(d||l.call(u,v))&&!(g&&(v=="length"||p&&(v=="offset"||v=="parent")||x&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||s(v,b)))&&y.push(v);return y}return Cu=c,Cu}var Tu,Sb;function Pc(){if(Sb)return Tu;Sb=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||e;return r===s}return Tu=t,Tu}var Eu,Cb;function rE(){if(Cb)return Eu;Cb=1;function e(t,r){return function(n){return t(r(n))}}return Eu=e,Eu}var Pu,Tb;function v7(){if(Tb)return Pu;Tb=1;var e=rE(),t=e(Object.keys,Object);return Pu=t,Pu}var Au,Eb;function Hx(){if(Eb)return Au;Eb=1;var e=Pc(),t=v7(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!e(i))return t(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return Au=s,Au}var Ru,Pb;function On(){if(Pb)return Ru;Pb=1;var e=Ao(),t=Wx();function r(n){return n!=null&&t(n.length)&&!e(n)}return Ru=r,Ru}var Iu,Ab;function js(){if(Ab)return Iu;Ab=1;var e=tE(),t=Hx(),r=On();function n(s){return r(s)?e(s):t(s)}return Iu=n,Iu}var Mu,Rb;function b7(){if(Rb)return Mu;Rb=1;var e=Ro(),t=js();function r(n,s){return n&&e(s,t(s),n)}return Mu=r,Mu}var Ou,Ib;function w7(){if(Ib)return Ou;Ib=1;function e(t){var r=[];if(t!=null)for(var n in Object(t))r.push(n);return r}return Ou=e,Ou}var Fu,Mb;function j7(){if(Mb)return Fu;Mb=1;var e=br(),t=Pc(),r=w7(),n=Object.prototype,s=n.hasOwnProperty;function i(o){if(!e(o))return r(o);var l=t(o),c=[];for(var u in o)u=="constructor"&&(l||!s.call(o,u))||c.push(u);return c}return Fu=i,Fu}var Lu,Ob;function ia(){if(Ob)return Lu;Ob=1;var e=tE(),t=j7(),r=On();function n(s){return r(s)?e(s,!0):t(s)}return Lu=n,Lu}var $u,Fb;function N7(){if(Fb)return $u;Fb=1;var e=Ro(),t=ia();function r(n,s){return n&&e(s,t(s),n)}return $u=r,$u}var Hi={exports:{}};Hi.exports;var Lb;function nE(){return Lb||(Lb=1,function(e,t){var r=qr(),n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c}(Hi,Hi.exports)),Hi.exports}var Du,$b;function sE(){if($b)return Du;$b=1;function e(t,r){var n=-1,s=t.length;for(r||(r=Array(s));++n<s;)r[n]=t[n];return r}return Du=e,Du}var qu,Db;function aE(){if(Db)return qu;Db=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=0,o=[];++n<s;){var l=t[n];r(l,n,t)&&(o[i++]=l)}return o}return qu=e,qu}var Vu,qb;function iE(){if(qb)return Vu;qb=1;function e(){return[]}return Vu=e,Vu}var Bu,Vb;function Ux(){if(Vb)return Bu;Vb=1;var e=aE(),t=iE(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),e(s(o),function(l){return n.call(o,l)}))}:t;return Bu=i,Bu}var Gu,Bb;function _7(){if(Bb)return Gu;Bb=1;var e=Ro(),t=Ux();function r(n,s){return e(n,t(n),s)}return Gu=r,Gu}var Wu,Gb;function Kx(){if(Gb)return Wu;Gb=1;function e(t,r){for(var n=-1,s=r.length,i=t.length;++n<s;)t[i+n]=r[n];return t}return Wu=e,Wu}var zu,Wb;function Ac(){if(Wb)return zu;Wb=1;var e=rE(),t=e(Object.getPrototypeOf,Object);return zu=t,zu}var Hu,zb;function oE(){if(zb)return Hu;zb=1;var e=Kx(),t=Ac(),r=Ux(),n=iE(),s=Object.getOwnPropertySymbols,i=s?function(o){for(var l=[];o;)e(l,r(o)),o=t(o);return l}:n;return Hu=i,Hu}var Uu,Hb;function k7(){if(Hb)return Uu;Hb=1;var e=Ro(),t=oE();function r(n,s){return e(n,t(n),s)}return Uu=r,Uu}var Ku,Ub;function lE(){if(Ub)return Ku;Ub=1;var e=Kx(),t=Ct();function r(n,s,i){var o=s(n);return t(n)?o:e(o,i(n))}return Ku=r,Ku}var Zu,Kb;function cE(){if(Kb)return Zu;Kb=1;var e=lE(),t=Ux(),r=js();function n(s){return e(s,r,t)}return Zu=n,Zu}var Yu,Zb;function S7(){if(Zb)return Yu;Zb=1;var e=lE(),t=oE(),r=ia();function n(s){return e(s,r,t)}return Yu=n,Yu}var Qu,Yb;function C7(){if(Yb)return Qu;Yb=1;var e=aa(),t=qr(),r=e(t,"DataView");return Qu=r,Qu}var Xu,Qb;function T7(){if(Qb)return Xu;Qb=1;var e=aa(),t=qr(),r=e(t,"Promise");return Xu=r,Xu}var Ju,Xb;function dE(){if(Xb)return Ju;Xb=1;var e=aa(),t=qr(),r=e(t,"Set");return Ju=r,Ju}var ef,Jb;function E7(){if(Jb)return ef;Jb=1;var e=aa(),t=qr(),r=e(t,"WeakMap");return ef=r,ef}var tf,ew;function ji(){if(ew)return tf;ew=1;var e=C7(),t=Vx(),r=T7(),n=dE(),s=E7(),i=sa(),o=JT(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",h="[object DataView]",p=o(e),x=o(t),g=o(r),y=o(n),b=o(s),v=i;return(e&&v(new e(new ArrayBuffer(1)))!=h||t&&v(new t)!=l||r&&v(r.resolve())!=u||n&&v(new n)!=d||s&&v(new s)!=f)&&(v=function(j){var N=i(j),_=N==c?j.constructor:void 0,P=_?o(_):"";if(P)switch(P){case p:return h;case x:return l;case g:return u;case y:return d;case b:return f}return N}),tf=v,tf}var rf,tw;function P7(){if(tw)return rf;tw=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n){var s=n.length,i=new n.constructor(s);return s&&typeof n[0]=="string"&&t.call(n,"index")&&(i.index=n.index,i.input=n.input),i}return rf=r,rf}var nf,rw;function uE(){if(rw)return nf;rw=1;var e=qr(),t=e.Uint8Array;return nf=t,nf}var sf,nw;function Zx(){if(nw)return sf;nw=1;var e=uE();function t(r){var n=new r.constructor(r.byteLength);return new e(n).set(new e(r)),n}return sf=t,sf}var af,sw;function A7(){if(sw)return af;sw=1;var e=Zx();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.byteLength)}return af=t,af}var of,aw;function R7(){if(aw)return of;aw=1;var e=/\w*$/;function t(r){var n=new r.constructor(r.source,e.exec(r));return n.lastIndex=r.lastIndex,n}return of=t,of}var lf,iw;function I7(){if(iw)return lf;iw=1;var e=bi(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;function n(s){return r?Object(r.call(s)):{}}return lf=n,lf}var cf,ow;function fE(){if(ow)return cf;ow=1;var e=Zx();function t(r,n){var s=n?e(r.buffer):r.buffer;return new r.constructor(s,r.byteOffset,r.length)}return cf=t,cf}var df,lw;function M7(){if(lw)return df;lw=1;var e=Zx(),t=A7(),r=R7(),n=I7(),s=fE(),i="[object Boolean]",o="[object Date]",l="[object Map]",c="[object Number]",u="[object RegExp]",d="[object Set]",f="[object String]",h="[object Symbol]",p="[object ArrayBuffer]",x="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",b="[object Int8Array]",v="[object Int16Array]",j="[object Int32Array]",N="[object Uint8Array]",_="[object Uint8ClampedArray]",P="[object Uint16Array]",C="[object Uint32Array]";function E(S,M,O){var A=S.constructor;switch(M){case p:return e(S);case i:case o:return new A(+S);case x:return t(S,O);case g:case y:case b:case v:case j:case N:case _:case P:case C:return s(S,O);case l:return new A;case c:case f:return new A(S);case u:return r(S);case d:return new A;case h:return n(S)}}return df=E,df}var uf,cw;function hE(){if(cw)return uf;cw=1;var e=br(),t=Object.create,r=function(){function n(){}return function(s){if(!e(s))return{};if(t)return t(s);n.prototype=s;var i=new n;return n.prototype=void 0,i}}();return uf=r,uf}var ff,dw;function pE(){if(dw)return ff;dw=1;var e=hE(),t=Ac(),r=Pc();function n(s){return typeof s.constructor=="function"&&!r(s)?e(t(s)):{}}return ff=n,ff}var hf,uw;function O7(){if(uw)return hf;uw=1;var e=ji(),t=an(),r="[object Map]";function n(s){return t(s)&&e(s)==r}return hf=n,hf}var pf,fw;function F7(){if(fw)return pf;fw=1;var e=O7(),t=Ec(),r=zx(),n=r&&r.isMap,s=n?t(n):e;return pf=s,pf}var mf,hw;function L7(){if(hw)return mf;hw=1;var e=ji(),t=an(),r="[object Set]";function n(s){return t(s)&&e(s)==r}return mf=n,mf}var gf,pw;function $7(){if(pw)return gf;pw=1;var e=L7(),t=Ec(),r=zx(),n=r&&r.isSet,s=n?t(n):e;return gf=s,gf}var xf,mw;function mE(){if(mw)return xf;mw=1;var e=kc(),t=Gx(),r=Cc(),n=b7(),s=N7(),i=nE(),o=sE(),l=_7(),c=k7(),u=cE(),d=S7(),f=ji(),h=P7(),p=M7(),x=pE(),g=Ct(),y=wi(),b=F7(),v=br(),j=$7(),N=js(),_=ia(),P=1,C=2,E=4,S="[object Arguments]",M="[object Array]",O="[object Boolean]",A="[object Date]",B="[object Error]",k="[object Function]",w="[object GeneratorFunction]",T="[object Map]",I="[object Number]",F="[object Object]",R="[object RegExp]",V="[object Set]",W="[object String]",q="[object Symbol]",z="[object WeakMap]",Z="[object ArrayBuffer]",ce="[object DataView]",Te="[object Float32Array]",te="[object Float64Array]",pe="[object Int8Array]",Ee="[object Int16Array]",ge="[object Int32Array]",Ie="[object Uint8Array]",Ce="[object Uint8ClampedArray]",ot="[object Uint16Array]",st="[object Uint32Array]",xe={};xe[S]=xe[M]=xe[Z]=xe[ce]=xe[O]=xe[A]=xe[Te]=xe[te]=xe[pe]=xe[Ee]=xe[ge]=xe[T]=xe[I]=xe[F]=xe[R]=xe[V]=xe[W]=xe[q]=xe[Ie]=xe[Ce]=xe[ot]=xe[st]=!0,xe[B]=xe[k]=xe[z]=!1;function mt(fe,ue,lt,L,G,H){var Y,Q=ue&P,K=ue&C,de=ue&E;if(lt&&(Y=G?lt(fe,L,G,H):lt(fe)),Y!==void 0)return Y;if(!v(fe))return fe;var Oe=g(fe);if(Oe){if(Y=h(fe),!Q)return o(fe,Y)}else{var Fe=f(fe),dt=Fe==k||Fe==w;if(y(fe))return i(fe,Q);if(Fe==F||Fe==S||dt&&!G){if(Y=K||dt?{}:x(fe),!Q)return K?c(fe,s(Y,fe)):l(fe,n(Y,fe))}else{if(!xe[Fe])return G?fe:{};Y=p(fe,Fe,Q)}}H||(H=new e);var Dt=H.get(fe);if(Dt)return Dt;H.set(fe,Y),j(fe)?fe.forEach(function(ke){Y.add(mt(ke,ue,lt,ke,fe,H))}):b(fe)&&fe.forEach(function(ke,ae){Y.set(ae,mt(ke,ue,lt,ae,fe,H))});var Je=de?K?d:u:K?_:N,Rt=Oe?void 0:Je(fe);return t(Rt||fe,function(ke,ae){Rt&&(ae=ke,ke=fe[ae]),r(Y,ae,mt(ke,ue,lt,ae,fe,H))}),Y}return xf=mt,xf}var yf,gw;function D7(){if(gw)return yf;gw=1;var e=mE(),t=4;function r(n){return e(n,t)}return yf=r,yf}var vf,xw;function Yx(){if(xw)return vf;xw=1;function e(t){return function(){return t}}return vf=e,vf}var bf,yw;function q7(){if(yw)return bf;yw=1;function e(t){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[t?c:++i];if(n(o[u],u,o)===!1)break}return r}}return bf=e,bf}var wf,vw;function Qx(){if(vw)return wf;vw=1;var e=q7(),t=e();return wf=t,wf}var jf,bw;function Xx(){if(bw)return jf;bw=1;var e=Qx(),t=js();function r(n,s){return n&&e(n,s,t)}return jf=r,jf}var Nf,ww;function V7(){if(ww)return Nf;ww=1;var e=On();function t(r,n){return function(s,i){if(s==null)return s;if(!e(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return Nf=t,Nf}var _f,jw;function Rc(){if(jw)return _f;jw=1;var e=Xx(),t=V7(),r=t(e);return _f=r,_f}var kf,Nw;function oa(){if(Nw)return kf;Nw=1;function e(t){return t}return kf=e,kf}var Sf,_w;function gE(){if(_w)return Sf;_w=1;var e=oa();function t(r){return typeof r=="function"?r:e}return Sf=t,Sf}var Cf,kw;function xE(){if(kw)return Cf;kw=1;var e=Gx(),t=Rc(),r=gE(),n=Ct();function s(i,o){var l=n(i)?e:t;return l(i,r(o))}return Cf=s,Cf}var Tf,Sw;function yE(){return Sw||(Sw=1,Tf=xE()),Tf}var Ef,Cw;function B7(){if(Cw)return Ef;Cw=1;var e=Rc();function t(r,n){var s=[];return e(r,function(i,o,l){n(i,o,l)&&s.push(i)}),s}return Ef=t,Ef}var Pf,Tw;function G7(){if(Tw)return Pf;Tw=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return Pf=t,Pf}var Af,Ew;function W7(){if(Ew)return Af;Ew=1;function e(t){return this.__data__.has(t)}return Af=e,Af}var Rf,Pw;function vE(){if(Pw)return Rf;Pw=1;var e=Bx(),t=G7(),r=W7();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new e;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,Rf=n,Rf}var If,Aw;function z7(){if(Aw)return If;Aw=1;function e(t,r){for(var n=-1,s=t==null?0:t.length;++n<s;)if(r(t[n],n,t))return!0;return!1}return If=e,If}var Mf,Rw;function bE(){if(Rw)return Mf;Rw=1;function e(t,r){return t.has(r)}return Mf=e,Mf}var Of,Iw;function wE(){if(Iw)return Of;Iw=1;var e=vE(),t=z7(),r=bE(),n=1,s=2;function i(o,l,c,u,d,f){var h=c&n,p=o.length,x=l.length;if(p!=x&&!(h&&x>p))return!1;var g=f.get(o),y=f.get(l);if(g&&y)return g==l&&y==o;var b=-1,v=!0,j=c&s?new e:void 0;for(f.set(o,l),f.set(l,o);++b<p;){var N=o[b],_=l[b];if(u)var P=h?u(_,N,b,l,o,f):u(N,_,b,o,l,f);if(P!==void 0){if(P)continue;v=!1;break}if(j){if(!t(l,function(C,E){if(!r(j,E)&&(N===C||d(N,C,c,u,f)))return j.push(E)})){v=!1;break}}else if(!(N===_||d(N,_,c,u,f))){v=!1;break}}return f.delete(o),f.delete(l),v}return Of=i,Of}var Ff,Mw;function H7(){if(Mw)return Ff;Mw=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s,i){n[++r]=[i,s]}),n}return Ff=e,Ff}var Lf,Ow;function Jx(){if(Ow)return Lf;Ow=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(s){n[++r]=s}),n}return Lf=e,Lf}var $f,Fw;function U7(){if(Fw)return $f;Fw=1;var e=bi(),t=uE(),r=vi(),n=wE(),s=H7(),i=Jx(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",h="[object Number]",p="[object RegExp]",x="[object Set]",g="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",j=e?e.prototype:void 0,N=j?j.valueOf:void 0;function _(P,C,E,S,M,O,A){switch(E){case v:if(P.byteLength!=C.byteLength||P.byteOffset!=C.byteOffset)return!1;P=P.buffer,C=C.buffer;case b:return!(P.byteLength!=C.byteLength||!O(new t(P),new t(C)));case c:case u:case h:return r(+P,+C);case d:return P.name==C.name&&P.message==C.message;case p:case g:return P==C+"";case f:var B=s;case x:var k=S&o;if(B||(B=i),P.size!=C.size&&!k)return!1;var w=A.get(P);if(w)return w==C;S|=l,A.set(P,C);var T=n(B(P),B(C),S,M,O,A);return A.delete(P),T;case y:if(N)return N.call(P)==N.call(C)}return!1}return $f=_,$f}var Df,Lw;function K7(){if(Lw)return Df;Lw=1;var e=cE(),t=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,u,d){var f=l&t,h=e(i),p=h.length,x=e(o),g=x.length;if(p!=g&&!f)return!1;for(var y=p;y--;){var b=h[y];if(!(f?b in o:n.call(o,b)))return!1}var v=d.get(i),j=d.get(o);if(v&&j)return v==o&&j==i;var N=!0;d.set(i,o),d.set(o,i);for(var _=f;++y<p;){b=h[y];var P=i[b],C=o[b];if(c)var E=f?c(C,P,b,o,i,d):c(P,C,b,i,o,d);if(!(E===void 0?P===C||u(P,C,l,c,d):E)){N=!1;break}_||(_=b=="constructor")}if(N&&!_){var S=i.constructor,M=o.constructor;S!=M&&"constructor"in i&&"constructor"in o&&!(typeof S=="function"&&S instanceof S&&typeof M=="function"&&M instanceof M)&&(N=!1)}return d.delete(i),d.delete(o),N}return Df=s,Df}var qf,$w;function Z7(){if($w)return qf;$w=1;var e=kc(),t=wE(),r=U7(),n=K7(),s=ji(),i=Ct(),o=wi(),l=Mo(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",h=Object.prototype,p=h.hasOwnProperty;function x(g,y,b,v,j,N){var _=i(g),P=i(y),C=_?d:s(g),E=P?d:s(y);C=C==u?f:C,E=E==u?f:E;var S=C==f,M=E==f,O=C==E;if(O&&o(g)){if(!o(y))return!1;_=!0,S=!1}if(O&&!S)return N||(N=new e),_||l(g)?t(g,y,b,v,j,N):r(g,y,C,b,v,j,N);if(!(b&c)){var A=S&&p.call(g,"__wrapped__"),B=M&&p.call(y,"__wrapped__");if(A||B){var k=A?g.value():g,w=B?y.value():y;return N||(N=new e),j(k,w,b,v,N)}}return O?(N||(N=new e),n(g,y,b,v,j,N)):!1}return qf=x,qf}var Vf,Dw;function jE(){if(Dw)return Vf;Dw=1;var e=Z7(),t=an();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!t(n)&&!t(s)?n!==n&&s!==s:e(n,s,i,o,r,l)}return Vf=r,Vf}var Bf,qw;function Y7(){if(qw)return Bf;qw=1;var e=kc(),t=jE(),r=1,n=2;function s(i,o,l,c){var u=l.length,d=u,f=!c;if(i==null)return!d;for(i=Object(i);u--;){var h=l[u];if(f&&h[2]?h[1]!==i[h[0]]:!(h[0]in i))return!1}for(;++u<d;){h=l[u];var p=h[0],x=i[p],g=h[1];if(f&&h[2]){if(x===void 0&&!(p in i))return!1}else{var y=new e;if(c)var b=c(x,g,p,i,o,y);if(!(b===void 0?t(g,x,r|n,c,y):b))return!1}}return!0}return Bf=s,Bf}var Gf,Vw;function NE(){if(Vw)return Gf;Vw=1;var e=br();function t(r){return r===r&&!e(r)}return Gf=t,Gf}var Wf,Bw;function Q7(){if(Bw)return Wf;Bw=1;var e=NE(),t=js();function r(n){for(var s=t(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,e(l)]}return s}return Wf=r,Wf}var zf,Gw;function _E(){if(Gw)return zf;Gw=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return zf=e,zf}var Hf,Ww;function X7(){if(Ww)return Hf;Ww=1;var e=Y7(),t=Q7(),r=_E();function n(s){var i=t(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||e(o,s,i)}}return Hf=n,Hf}var Uf,zw;function Ni(){if(zw)return Uf;zw=1;var e=sa(),t=an(),r="[object Symbol]";function n(s){return typeof s=="symbol"||t(s)&&e(s)==r}return Uf=n,Uf}var Kf,Hw;function ey(){if(Hw)return Kf;Hw=1;var e=Ct(),t=Ni(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(e(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||t(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return Kf=s,Kf}var Zf,Uw;function J7(){if(Uw)return Zf;Uw=1;var e=Bx(),t="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||e),i}return r.Cache=e,Zf=r,Zf}var Yf,Kw;function e9(){if(Kw)return Yf;Kw=1;var e=J7(),t=500;function r(n){var s=e(n,function(o){return i.size===t&&i.clear(),o}),i=s.cache;return s}return Yf=r,Yf}var Qf,Zw;function t9(){if(Zw)return Qf;Zw=1;var e=e9(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(o,l,c,u){i.push(c?u.replace(r,"$1"):l||o)}),i});return Qf=n,Qf}var Xf,Yw;function Ic(){if(Yw)return Xf;Yw=1;function e(t,r){for(var n=-1,s=t==null?0:t.length,i=Array(s);++n<s;)i[n]=r(t[n],n,t);return i}return Xf=e,Xf}var Jf,Qw;function r9(){if(Qw)return Jf;Qw=1;var e=bi(),t=Ic(),r=Ct(),n=Ni(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return Jf=o,Jf}var eh,Xw;function kE(){if(Xw)return eh;Xw=1;var e=r9();function t(r){return r==null?"":e(r)}return eh=t,eh}var th,Jw;function Mc(){if(Jw)return th;Jw=1;var e=Ct(),t=ey(),r=t9(),n=kE();function s(i,o){return e(i)?i:t(i,o)?[i]:r(n(i))}return th=s,th}var rh,e1;function Oo(){if(e1)return rh;e1=1;var e=Ni();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return rh=t,rh}var nh,t1;function Oc(){if(t1)return nh;t1=1;var e=Mc(),t=Oo();function r(n,s){s=e(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[t(s[i++])];return i&&i==o?n:void 0}return nh=r,nh}var sh,r1;function n9(){if(r1)return sh;r1=1;var e=Oc();function t(r,n,s){var i=r==null?void 0:e(r,n);return i===void 0?s:i}return sh=t,sh}var ah,n1;function s9(){if(n1)return ah;n1=1;function e(t,r){return t!=null&&r in Object(t)}return ah=e,ah}var ih,s1;function SE(){if(s1)return ih;s1=1;var e=Mc(),t=Io(),r=Ct(),n=Tc(),s=Wx(),i=Oo();function o(l,c,u){c=e(c,l);for(var d=-1,f=c.length,h=!1;++d<f;){var p=i(c[d]);if(!(h=l!=null&&u(l,p)))break;l=l[p]}return h||++d!=f?h:(f=l==null?0:l.length,!!f&&s(f)&&n(p,f)&&(r(l)||t(l)))}return ih=o,ih}var oh,a1;function CE(){if(a1)return oh;a1=1;var e=s9(),t=SE();function r(n,s){return n!=null&&t(n,s,e)}return oh=r,oh}var lh,i1;function a9(){if(i1)return lh;i1=1;var e=jE(),t=n9(),r=CE(),n=ey(),s=NE(),i=_E(),o=Oo(),l=1,c=2;function u(d,f){return n(d)&&s(f)?i(o(d),f):function(h){var p=t(h,d);return p===void 0&&p===f?r(h,d):e(f,p,l|c)}}return lh=u,lh}var ch,o1;function TE(){if(o1)return ch;o1=1;function e(t){return function(r){return r==null?void 0:r[t]}}return ch=e,ch}var dh,l1;function i9(){if(l1)return dh;l1=1;var e=Oc();function t(r){return function(n){return e(n,r)}}return dh=t,dh}var uh,c1;function o9(){if(c1)return uh;c1=1;var e=TE(),t=i9(),r=ey(),n=Oo();function s(i){return r(i)?e(n(i)):t(i)}return uh=s,uh}var fh,d1;function Fn(){if(d1)return fh;d1=1;var e=X7(),t=a9(),r=oa(),n=Ct(),s=o9();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):s(o)}return fh=i,fh}var hh,u1;function EE(){if(u1)return hh;u1=1;var e=aE(),t=B7(),r=Fn(),n=Ct();function s(i,o){var l=n(i)?e:t;return l(i,r(o,3))}return hh=s,hh}var ph,f1;function l9(){if(f1)return ph;f1=1;var e=Object.prototype,t=e.hasOwnProperty;function r(n,s){return n!=null&&t.call(n,s)}return ph=r,ph}var mh,h1;function PE(){if(h1)return mh;h1=1;var e=l9(),t=SE();function r(n,s){return n!=null&&t(n,s,e)}return mh=r,mh}var gh,p1;function c9(){if(p1)return gh;p1=1;var e=Hx(),t=ji(),r=Io(),n=Ct(),s=On(),i=wi(),o=Pc(),l=Mo(),c="[object Map]",u="[object Set]",d=Object.prototype,f=d.hasOwnProperty;function h(p){if(p==null)return!0;if(s(p)&&(n(p)||typeof p=="string"||typeof p.splice=="function"||i(p)||l(p)||r(p)))return!p.length;var x=t(p);if(x==c||x==u)return!p.size;if(o(p))return!e(p).length;for(var g in p)if(f.call(p,g))return!1;return!0}return gh=h,gh}var xh,m1;function AE(){if(m1)return xh;m1=1;function e(t){return t===void 0}return xh=e,xh}var yh,g1;function RE(){if(g1)return yh;g1=1;var e=Rc(),t=On();function r(n,s){var i=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++i]=s(l,c,u)}),o}return yh=r,yh}var vh,x1;function IE(){if(x1)return vh;x1=1;var e=Ic(),t=Fn(),r=RE(),n=Ct();function s(i,o){var l=n(i)?e:r;return l(i,t(o,3))}return vh=s,vh}var bh,y1;function d9(){if(y1)return bh;y1=1;function e(t,r,n,s){var i=-1,o=t==null?0:t.length;for(s&&o&&(n=t[++i]);++i<o;)n=r(n,t[i],i,t);return n}return bh=e,bh}var wh,v1;function u9(){if(v1)return wh;v1=1;function e(t,r,n,s,i){return i(t,function(o,l,c){n=s?(s=!1,o):r(n,o,l,c)}),n}return wh=e,wh}var jh,b1;function ME(){if(b1)return jh;b1=1;var e=d9(),t=Rc(),r=Fn(),n=u9(),s=Ct();function i(o,l,c){var u=s(o)?e:n,d=arguments.length<3;return u(o,r(l,4),c,d,t)}return jh=i,jh}var Nh,w1;function f9(){if(w1)return Nh;w1=1;var e=sa(),t=Ct(),r=an(),n="[object String]";function s(i){return typeof i=="string"||!t(i)&&r(i)&&e(i)==n}return Nh=s,Nh}var _h,j1;function h9(){if(j1)return _h;j1=1;var e=TE(),t=e("length");return _h=t,_h}var kh,N1;function p9(){if(N1)return kh;N1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+s+i+"]");function c(u){return l.test(u)}return kh=c,kh}var Sh,_1;function m9(){if(_1)return Sh;_1=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=t+r+n,i="\\ufe0e\\ufe0f",o="["+e+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+e+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",x=u+"?",g="["+i+"]?",y="(?:"+p+"(?:"+[d,f,h].join("|")+")"+g+x+")*",b=g+x+y,v="(?:"+[d+l+"?",l,f,h,o].join("|")+")",j=RegExp(c+"(?="+c+")|"+v+b,"g");function N(_){for(var P=j.lastIndex=0;j.test(_);)++P;return P}return Sh=N,Sh}var Ch,k1;function g9(){if(k1)return Ch;k1=1;var e=h9(),t=p9(),r=m9();function n(s){return t(s)?r(s):e(s)}return Ch=n,Ch}var Th,S1;function x9(){if(S1)return Th;S1=1;var e=Hx(),t=ji(),r=On(),n=f9(),s=g9(),i="[object Map]",o="[object Set]";function l(c){if(c==null)return 0;if(r(c))return n(c)?s(c):c.length;var u=t(c);return u==i||u==o?c.size:e(c).length}return Th=l,Th}var Eh,C1;function y9(){if(C1)return Eh;C1=1;var e=Gx(),t=hE(),r=Xx(),n=Fn(),s=Ac(),i=Ct(),o=wi(),l=Ao(),c=br(),u=Mo();function d(f,h,p){var x=i(f),g=x||o(f)||u(f);if(h=n(h,4),p==null){var y=f&&f.constructor;g?p=x?new y:[]:c(f)?p=l(y)?t(s(f)):{}:p={}}return(g?e:r)(f,function(b,v,j){return h(p,b,v,j)}),p}return Eh=d,Eh}var Ph,T1;function v9(){if(T1)return Ph;T1=1;var e=bi(),t=Io(),r=Ct(),n=e?e.isConcatSpreadable:void 0;function s(i){return r(i)||t(i)||!!(n&&i&&i[n])}return Ph=s,Ph}var Ah,E1;function ty(){if(E1)return Ah;E1=1;var e=Kx(),t=v9();function r(n,s,i,o,l){var c=-1,u=n.length;for(i||(i=t),l||(l=[]);++c<u;){var d=n[c];s>0&&i(d)?s>1?r(d,s-1,i,o,l):e(l,d):o||(l[l.length]=d)}return l}return Ah=r,Ah}var Rh,P1;function b9(){if(P1)return Rh;P1=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return Rh=e,Rh}var Ih,A1;function OE(){if(A1)return Ih;A1=1;var e=b9(),t=Math.max;function r(n,s,i){return s=t(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=t(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=i(u),e(n,this,d)}}return Ih=r,Ih}var Mh,R1;function w9(){if(R1)return Mh;R1=1;var e=Yx(),t=eE(),r=oa(),n=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:r;return Mh=n,Mh}var Oh,I1;function j9(){if(I1)return Oh;I1=1;var e=800,t=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return Oh=n,Oh}var Fh,M1;function FE(){if(M1)return Fh;M1=1;var e=w9(),t=j9(),r=t(e);return Fh=r,Fh}var Lh,O1;function Fc(){if(O1)return Lh;O1=1;var e=oa(),t=OE(),r=FE();function n(s,i){return r(t(s,i,e),s+"")}return Lh=n,Lh}var $h,F1;function LE(){if(F1)return $h;F1=1;function e(t,r,n,s){for(var i=t.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(t[o],o,t))return o;return-1}return $h=e,$h}var Dh,L1;function N9(){if(L1)return Dh;L1=1;function e(t){return t!==t}return Dh=e,Dh}var qh,$1;function _9(){if($1)return qh;$1=1;function e(t,r,n){for(var s=n-1,i=t.length;++s<i;)if(t[s]===r)return s;return-1}return qh=e,qh}var Vh,D1;function k9(){if(D1)return Vh;D1=1;var e=LE(),t=N9(),r=_9();function n(s,i,o){return i===i?r(s,i,o):e(s,t,o)}return Vh=n,Vh}var Bh,q1;function S9(){if(q1)return Bh;q1=1;var e=k9();function t(r,n){var s=r==null?0:r.length;return!!s&&e(r,n,0)>-1}return Bh=t,Bh}var Gh,V1;function C9(){if(V1)return Gh;V1=1;function e(t,r,n){for(var s=-1,i=t==null?0:t.length;++s<i;)if(n(r,t[s]))return!0;return!1}return Gh=e,Gh}var Wh,B1;function T9(){if(B1)return Wh;B1=1;function e(){}return Wh=e,Wh}var zh,G1;function E9(){if(G1)return zh;G1=1;var e=dE(),t=T9(),r=Jx(),n=1/0,s=e&&1/r(new e([,-0]))[1]==n?function(i){return new e(i)}:t;return zh=s,zh}var Hh,W1;function P9(){if(W1)return Hh;W1=1;var e=vE(),t=S9(),r=C9(),n=bE(),s=E9(),i=Jx(),o=200;function l(c,u,d){var f=-1,h=t,p=c.length,x=!0,g=[],y=g;if(d)x=!1,h=r;else if(p>=o){var b=u?null:s(c);if(b)return i(b);x=!1,h=n,y=new e}else y=u?[]:g;e:for(;++f<p;){var v=c[f],j=u?u(v):v;if(v=d||v!==0?v:0,x&&j===j){for(var N=y.length;N--;)if(y[N]===j)continue e;u&&y.push(j),g.push(v)}else h(y,j,d)||(y!==g&&y.push(j),g.push(v))}return g}return Hh=l,Hh}var Uh,z1;function $E(){if(z1)return Uh;z1=1;var e=On(),t=an();function r(n){return t(n)&&e(n)}return Uh=r,Uh}var Kh,H1;function A9(){if(H1)return Kh;H1=1;var e=ty(),t=Fc(),r=P9(),n=$E(),s=t(function(i){return r(e(i,1,n,!0))});return Kh=s,Kh}var Zh,U1;function R9(){if(U1)return Zh;U1=1;var e=Ic();function t(r,n){return e(n,function(s){return r[s]})}return Zh=t,Zh}var Yh,K1;function DE(){if(K1)return Yh;K1=1;var e=R9(),t=js();function r(n){return n==null?[]:e(n,t(n))}return Yh=r,Yh}var Qh,Z1;function wr(){if(Z1)return Qh;Z1=1;var e;if(typeof qx=="function")try{e={clone:D7(),constant:Yx(),each:yE(),filter:EE(),has:PE(),isArray:Ct(),isEmpty:c9(),isFunction:Ao(),isUndefined:AE(),keys:js(),map:IE(),reduce:ME(),size:x9(),transform:y9(),union:A9(),values:DE()}}catch{}return e||(e=window._),Qh=e,Qh}var Xh,Y1;function ry(){if(Y1)return Xh;Y1=1;var e=wr();Xh=s;var t="\0",r="\0",n="";function s(d){this._isDirected=e.has(d,"directed")?d.directed:!0,this._isMultigraph=e.has(d,"multigraph")?d.multigraph:!1,this._isCompound=e.has(d,"compound")?d.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(d){return this._label=d,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultNodeLabelFn=d,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return e.keys(this._nodes)},s.prototype.sources=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._in[f])})},s.prototype.sinks=function(){var d=this;return e.filter(this.nodes(),function(f){return e.isEmpty(d._out[f])})},s.prototype.setNodes=function(d,f){var h=arguments,p=this;return e.each(d,function(x){h.length>1?p.setNode(x,f):p.setNode(x)}),this},s.prototype.setNode=function(d,f){return e.has(this._nodes,d)?(arguments.length>1&&(this._nodes[d]=f),this):(this._nodes[d]=arguments.length>1?f:this._defaultNodeLabelFn(d),this._isCompound&&(this._parent[d]=r,this._children[d]={},this._children[r][d]=!0),this._in[d]={},this._preds[d]={},this._out[d]={},this._sucs[d]={},++this._nodeCount,this)},s.prototype.node=function(d){return this._nodes[d]},s.prototype.hasNode=function(d){return e.has(this._nodes,d)},s.prototype.removeNode=function(d){var f=this;if(e.has(this._nodes,d)){var h=function(p){f.removeEdge(f._edgeObjs[p])};delete this._nodes[d],this._isCompound&&(this._removeFromParentsChildList(d),delete this._parent[d],e.each(this.children(d),function(p){f.setParent(p)}),delete this._children[d]),e.each(e.keys(this._in[d]),h),delete this._in[d],delete this._preds[d],e.each(e.keys(this._out[d]),h),delete this._out[d],delete this._sucs[d],--this._nodeCount}return this},s.prototype.setParent=function(d,f){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(f))f=r;else{f+="";for(var h=f;!e.isUndefined(h);h=this.parent(h))if(h===d)throw new Error("Setting "+f+" as parent of "+d+" would create a cycle");this.setNode(f)}return this.setNode(d),this._removeFromParentsChildList(d),this._parent[d]=f,this._children[f][d]=!0,this},s.prototype._removeFromParentsChildList=function(d){delete this._children[this._parent[d]][d]},s.prototype.parent=function(d){if(this._isCompound){var f=this._parent[d];if(f!==r)return f}},s.prototype.children=function(d){if(e.isUndefined(d)&&(d=r),this._isCompound){var f=this._children[d];if(f)return e.keys(f)}else{if(d===r)return this.nodes();if(this.hasNode(d))return[]}},s.prototype.predecessors=function(d){var f=this._preds[d];if(f)return e.keys(f)},s.prototype.successors=function(d){var f=this._sucs[d];if(f)return e.keys(f)},s.prototype.neighbors=function(d){var f=this.predecessors(d);if(f)return e.union(f,this.successors(d))},s.prototype.isLeaf=function(d){var f;return this.isDirected()?f=this.successors(d):f=this.neighbors(d),f.length===0},s.prototype.filterNodes=function(d){var f=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});f.setGraph(this.graph());var h=this;e.each(this._nodes,function(g,y){d(y)&&f.setNode(y,g)}),e.each(this._edgeObjs,function(g){f.hasNode(g.v)&&f.hasNode(g.w)&&f.setEdge(g,h.edge(g))});var p={};function x(g){var y=h.parent(g);return y===void 0||f.hasNode(y)?(p[g]=y,y):y in p?p[y]:x(y)}return this._isCompound&&e.each(f.nodes(),function(g){f.setParent(g,x(g))}),f},s.prototype.setDefaultEdgeLabel=function(d){return e.isFunction(d)||(d=e.constant(d)),this._defaultEdgeLabelFn=d,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return e.values(this._edgeObjs)},s.prototype.setPath=function(d,f){var h=this,p=arguments;return e.reduce(d,function(x,g){return p.length>1?h.setEdge(x,g,f):h.setEdge(x,g),g}),this},s.prototype.setEdge=function(){var d,f,h,p,x=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(d=g.v,f=g.w,h=g.name,arguments.length===2&&(p=arguments[1],x=!0)):(d=g,f=arguments[1],h=arguments[3],arguments.length>2&&(p=arguments[2],x=!0)),d=""+d,f=""+f,e.isUndefined(h)||(h=""+h);var y=l(this._isDirected,d,f,h);if(e.has(this._edgeLabels,y))return x&&(this._edgeLabels[y]=p),this;if(!e.isUndefined(h)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(d),this.setNode(f),this._edgeLabels[y]=x?p:this._defaultEdgeLabelFn(d,f,h);var b=c(this._isDirected,d,f,h);return d=b.v,f=b.w,Object.freeze(b),this._edgeObjs[y]=b,i(this._preds[f],d),i(this._sucs[d],f),this._in[f][y]=b,this._out[d][y]=b,this._edgeCount++,this},s.prototype.edge=function(d,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return this._edgeLabels[p]},s.prototype.hasEdge=function(d,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h);return e.has(this._edgeLabels,p)},s.prototype.removeEdge=function(d,f,h){var p=arguments.length===1?u(this._isDirected,arguments[0]):l(this._isDirected,d,f,h),x=this._edgeObjs[p];return x&&(d=x.v,f=x.w,delete this._edgeLabels[p],delete this._edgeObjs[p],o(this._preds[f],d),o(this._sucs[d],f),delete this._in[f][p],delete this._out[d][p],this._edgeCount--),this},s.prototype.inEdges=function(d,f){var h=this._in[d];if(h){var p=e.values(h);return f?e.filter(p,function(x){return x.v===f}):p}},s.prototype.outEdges=function(d,f){var h=this._out[d];if(h){var p=e.values(h);return f?e.filter(p,function(x){return x.w===f}):p}},s.prototype.nodeEdges=function(d,f){var h=this.inEdges(d,f);if(h)return h.concat(this.outEdges(d,f))};function i(d,f){d[f]?d[f]++:d[f]=1}function o(d,f){--d[f]||delete d[f]}function l(d,f,h,p){var x=""+f,g=""+h;if(!d&&x>g){var y=x;x=g,g=y}return x+n+g+n+(e.isUndefined(p)?t:p)}function c(d,f,h,p){var x=""+f,g=""+h;if(!d&&x>g){var y=x;x=g,g=y}var b={v:x,w:g};return p&&(b.name=p),b}function u(d,f){return l(d,f.v,f.w,f.name)}return Xh}var Jh,Q1;function I9(){return Q1||(Q1=1,Jh="2.1.8"),Jh}var ep,X1;function M9(){return X1||(X1=1,ep={Graph:ry(),version:I9()}),ep}var tp,J1;function O9(){if(J1)return tp;J1=1;var e=wr(),t=ry();tp={write:r,read:i};function r(o){var l={options:{directed:o.isDirected(),multigraph:o.isMultigraph(),compound:o.isCompound()},nodes:n(o),edges:s(o)};return e.isUndefined(o.graph())||(l.value=e.clone(o.graph())),l}function n(o){return e.map(o.nodes(),function(l){var c=o.node(l),u=o.parent(l),d={v:l};return e.isUndefined(c)||(d.value=c),e.isUndefined(u)||(d.parent=u),d})}function s(o){return e.map(o.edges(),function(l){var c=o.edge(l),u={v:l.v,w:l.w};return e.isUndefined(l.name)||(u.name=l.name),e.isUndefined(c)||(u.value=c),u})}function i(o){var l=new t(o.options).setGraph(o.value);return e.each(o.nodes,function(c){l.setNode(c.v,c.value),c.parent&&l.setParent(c.v,c.parent)}),e.each(o.edges,function(c){l.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),l}return tp}var rp,ej;function F9(){if(ej)return rp;ej=1;var e=wr();rp=t;function t(r){var n={},s=[],i;function o(l){e.has(n,l)||(n[l]=!0,i.push(l),e.each(r.successors(l),o),e.each(r.predecessors(l),o))}return e.each(r.nodes(),function(l){i=[],o(l),i.length&&s.push(i)}),s}return rp}var np,tj;function qE(){if(tj)return np;tj=1;var e=wr();np=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(r){return r.key})},t.prototype.has=function(r){return e.has(this._keyIndices,r)},t.prototype.priority=function(r){var n=this._keyIndices[r];if(n!==void 0)return this._arr[n].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(r,n){var s=this._keyIndices;if(r=String(r),!e.has(s,r)){var i=this._arr,o=i.length;return s[r]=o,i.push({key:r,priority:n}),this._decrease(o),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key},t.prototype.decrease=function(r,n){var s=this._keyIndices[r];if(n>this._arr[s].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[s].priority+" New: "+n);this._arr[s].priority=n,this._decrease(s)},t.prototype._heapify=function(r){var n=this._arr,s=2*r,i=s+1,o=r;s<n.length&&(o=n[s].priority<n[o].priority?s:o,i<n.length&&(o=n[i].priority<n[o].priority?i:o),o!==r&&(this._swap(r,o),this._heapify(o)))},t.prototype._decrease=function(r){for(var n=this._arr,s=n[r].priority,i;r!==0&&(i=r>>1,!(n[i].priority<s));)this._swap(r,i),r=i},t.prototype._swap=function(r,n){var s=this._arr,i=this._keyIndices,o=s[r],l=s[n];s[r]=l,s[n]=o,i[l.key]=r,i[o.key]=n},np}var sp,rj;function VE(){if(rj)return sp;rj=1;var e=wr(),t=qE();sp=n;var r=e.constant(1);function n(i,o,l,c){return s(i,String(o),l||r,c||function(u){return i.outEdges(u)})}function s(i,o,l,c){var u={},d=new t,f,h,p=function(x){var g=x.v!==f?x.v:x.w,y=u[g],b=l(x),v=h.distance+b;if(b<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+b);v<y.distance&&(y.distance=v,y.predecessor=f,d.decrease(g,v))};for(i.nodes().forEach(function(x){var g=x===o?0:Number.POSITIVE_INFINITY;u[x]={distance:g},d.add(x,g)});d.size()>0&&(f=d.removeMin(),h=u[f],h.distance!==Number.POSITIVE_INFINITY);)c(f).forEach(p);return u}return sp}var ap,nj;function L9(){if(nj)return ap;nj=1;var e=VE(),t=wr();ap=r;function r(n,s,i){return t.transform(n.nodes(),function(o,l){o[l]=e(n,l,s,i)},{})}return ap}var ip,sj;function BE(){if(sj)return ip;sj=1;var e=wr();ip=t;function t(r){var n=0,s=[],i={},o=[];function l(c){var u=i[c]={onStack:!0,lowlink:n,index:n++};if(s.push(c),r.successors(c).forEach(function(h){e.has(i,h)?i[h].onStack&&(u.lowlink=Math.min(u.lowlink,i[h].index)):(l(h),u.lowlink=Math.min(u.lowlink,i[h].lowlink))}),u.lowlink===u.index){var d=[],f;do f=s.pop(),i[f].onStack=!1,d.push(f);while(c!==f);o.push(d)}}return r.nodes().forEach(function(c){e.has(i,c)||l(c)}),o}return ip}var op,aj;function $9(){if(aj)return op;aj=1;var e=wr(),t=BE();op=r;function r(n){return e.filter(t(n),function(s){return s.length>1||s.length===1&&n.hasEdge(s[0],s[0])})}return op}var lp,ij;function D9(){if(ij)return lp;ij=1;var e=wr();lp=r;var t=e.constant(1);function r(s,i,o){return n(s,i||t,o||function(l){return s.outEdges(l)})}function n(s,i,o){var l={},c=s.nodes();return c.forEach(function(u){l[u]={},l[u][u]={distance:0},c.forEach(function(d){u!==d&&(l[u][d]={distance:Number.POSITIVE_INFINITY})}),o(u).forEach(function(d){var f=d.v===u?d.w:d.v,h=i(d);l[u][f]={distance:h,predecessor:u}})}),c.forEach(function(u){var d=l[u];c.forEach(function(f){var h=l[f];c.forEach(function(p){var x=h[u],g=d[p],y=h[p],b=x.distance+g.distance;b<y.distance&&(y.distance=b,y.predecessor=g.predecessor)})})}),l}return lp}var cp,oj;function GE(){if(oj)return cp;oj=1;var e=wr();cp=t,t.CycleException=r;function t(n){var s={},i={},o=[];function l(c){if(e.has(i,c))throw new r;e.has(s,c)||(i[c]=!0,s[c]=!0,e.each(n.predecessors(c),l),delete i[c],o.push(c))}if(e.each(n.sinks(),l),e.size(s)!==n.nodeCount())throw new r;return o}function r(){}return r.prototype=new Error,cp}var dp,lj;function q9(){if(lj)return dp;lj=1;var e=GE();dp=t;function t(r){try{e(r)}catch(n){if(n instanceof e.CycleException)return!1;throw n}return!0}return dp}var up,cj;function WE(){if(cj)return up;cj=1;var e=wr();up=t;function t(n,s,i){e.isArray(s)||(s=[s]);var o=(n.isDirected()?n.successors:n.neighbors).bind(n),l=[],c={};return e.each(s,function(u){if(!n.hasNode(u))throw new Error("Graph does not have node: "+u);r(n,u,i==="post",c,o,l)}),l}function r(n,s,i,o,l,c){e.has(o,s)||(o[s]=!0,i||c.push(s),e.each(l(s),function(u){r(n,u,i,o,l,c)}),i&&c.push(s))}return up}var fp,dj;function V9(){if(dj)return fp;dj=1;var e=WE();fp=t;function t(r,n){return e(r,n,"post")}return fp}var hp,uj;function B9(){if(uj)return hp;uj=1;var e=WE();hp=t;function t(r,n){return e(r,n,"pre")}return hp}var pp,fj;function G9(){if(fj)return pp;fj=1;var e=wr(),t=ry(),r=qE();pp=n;function n(s,i){var o=new t,l={},c=new r,u;function d(h){var p=h.v===u?h.w:h.v,x=c.priority(p);if(x!==void 0){var g=i(h);g<x&&(l[p]=u,c.decrease(p,g))}}if(s.nodeCount()===0)return o;e.each(s.nodes(),function(h){c.add(h,Number.POSITIVE_INFINITY),o.setNode(h)}),c.decrease(s.nodes()[0],0);for(var f=!1;c.size()>0;){if(u=c.removeMin(),e.has(l,u))o.setEdge(u,l[u]);else{if(f)throw new Error("Input graph is not connected: "+s);f=!0}s.nodeEdges(u).forEach(d)}return o}return pp}var mp,hj;function W9(){return hj||(hj=1,mp={components:F9(),dijkstra:VE(),dijkstraAll:L9(),findCycles:$9(),floydWarshall:D9(),isAcyclic:q9(),postorder:V9(),preorder:B9(),prim:G9(),tarjan:BE(),topsort:GE()}),mp}var gp,pj;function z9(){if(pj)return gp;pj=1;var e=M9();return gp={Graph:e.Graph,json:O9(),alg:W9(),version:e.version},gp}var Dl;if(typeof qx=="function")try{Dl=z9()}catch{}Dl||(Dl=window.graphlib);var Vr=Dl,xp,mj;function H9(){if(mj)return xp;mj=1;var e=mE(),t=1,r=4;function n(s){return e(s,t|r)}return xp=n,xp}var yp,gj;function Lc(){if(gj)return yp;gj=1;var e=vi(),t=On(),r=Tc(),n=br();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],i):!1}return yp=s,yp}var vp,xj;function U9(){if(xj)return vp;xj=1;var e=Fc(),t=vi(),r=Lc(),n=ia(),s=Object.prototype,i=s.hasOwnProperty,o=e(function(l,c){l=Object(l);var u=-1,d=c.length,f=d>2?c[2]:void 0;for(f&&r(c[0],c[1],f)&&(d=1);++u<d;)for(var h=c[u],p=n(h),x=-1,g=p.length;++x<g;){var y=p[x],b=l[y];(b===void 0||t(b,s[y])&&!i.call(l,y))&&(l[y]=h[y])}return l});return vp=o,vp}var bp,yj;function K9(){if(yj)return bp;yj=1;var e=Fn(),t=On(),r=js();function n(s){return function(i,o,l){var c=Object(i);if(!t(i)){var u=e(o,3);i=r(i),o=function(f){return u(c[f],f,c)}}var d=s(i,o,l);return d>-1?c[u?i[d]:d]:void 0}}return bp=n,bp}var wp,vj;function Z9(){if(vj)return wp;vj=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return wp=t,wp}var jp,bj;function Y9(){if(bj)return jp;bj=1;var e=Z9(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return jp=r,jp}var Np,wj;function Q9(){if(wj)return Np;wj=1;var e=Y9(),t=br(),r=Ni(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=t(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=e(u);var f=i.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):s.test(u)?n:+u}return Np=c,Np}var _p,jj;function zE(){if(jj)return _p;jj=1;var e=Q9(),t=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-1/0){var i=s<0?-1:1;return i*r}return s===s?s:0}return _p=n,_p}var kp,Nj;function X9(){if(Nj)return kp;Nj=1;var e=zE();function t(r){var n=e(r),s=n%1;return n===n?s?n-s:n:0}return kp=t,kp}var Sp,_j;function J9(){if(_j)return Sp;_j=1;var e=LE(),t=Fn(),r=X9(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(i,t(o,3),u)}return Sp=s,Sp}var Cp,kj;function eV(){if(kj)return Cp;kj=1;var e=K9(),t=J9(),r=e(t);return Cp=r,Cp}var Tp,Sj;function HE(){if(Sj)return Tp;Sj=1;var e=ty();function t(r){var n=r==null?0:r.length;return n?e(r,1):[]}return Tp=t,Tp}var Ep,Cj;function tV(){if(Cj)return Ep;Cj=1;var e=Qx(),t=gE(),r=ia();function n(s,i){return s==null?s:e(s,t(i),r)}return Ep=n,Ep}var Pp,Tj;function rV(){if(Tj)return Pp;Tj=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return Pp=e,Pp}var Ap,Ej;function nV(){if(Ej)return Ap;Ej=1;var e=Sc(),t=Xx(),r=Fn();function n(s,i){var o={};return i=r(i,3),t(s,function(l,c,u){e(o,c,i(l,c,u))}),o}return Ap=n,Ap}var Rp,Pj;function ny(){if(Pj)return Rp;Pj=1;var e=Ni();function t(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):s(c,u)))var u=c,d=l}return d}return Rp=t,Rp}var Ip,Aj;function sV(){if(Aj)return Ip;Aj=1;function e(t,r){return t>r}return Ip=e,Ip}var Mp,Rj;function aV(){if(Rj)return Mp;Rj=1;var e=ny(),t=sV(),r=oa();function n(s){return s&&s.length?e(s,r,t):void 0}return Mp=n,Mp}var Op,Ij;function UE(){if(Ij)return Op;Ij=1;var e=Sc(),t=vi();function r(n,s,i){(i!==void 0&&!t(n[s],i)||i===void 0&&!(s in n))&&e(n,s,i)}return Op=r,Op}var Fp,Mj;function iV(){if(Mj)return Fp;Mj=1;var e=sa(),t=Ac(),r=an(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||e(d)!=n)return!1;var f=t(d);if(f===null)return!0;var h=l.call(f,"constructor")&&f.constructor;return typeof h=="function"&&h instanceof h&&o.call(h)==c}return Fp=u,Fp}var Lp,Oj;function KE(){if(Oj)return Lp;Oj=1;function e(t,r){if(!(r==="constructor"&&typeof t[r]=="function")&&r!="__proto__")return t[r]}return Lp=e,Lp}var $p,Fj;function oV(){if(Fj)return $p;Fj=1;var e=Ro(),t=ia();function r(n){return e(n,t(n))}return $p=r,$p}var Dp,Lj;function lV(){if(Lj)return Dp;Lj=1;var e=UE(),t=nE(),r=fE(),n=sE(),s=pE(),i=Io(),o=Ct(),l=$E(),c=wi(),u=Ao(),d=br(),f=iV(),h=Mo(),p=KE(),x=oV();function g(y,b,v,j,N,_,P){var C=p(y,v),E=p(b,v),S=P.get(E);if(S){e(y,v,S);return}var M=_?_(C,E,v+"",y,b,P):void 0,O=M===void 0;if(O){var A=o(E),B=!A&&c(E),k=!A&&!B&&h(E);M=E,A||B||k?o(C)?M=C:l(C)?M=n(C):B?(O=!1,M=t(E,!0)):k?(O=!1,M=r(E,!0)):M=[]:f(E)||i(E)?(M=C,i(C)?M=x(C):(!d(C)||u(C))&&(M=s(E))):O=!1}O&&(P.set(E,M),N(M,E,j,_,P),P.delete(E)),e(y,v,M)}return Dp=g,Dp}var qp,$j;function cV(){if($j)return qp;$j=1;var e=kc(),t=UE(),r=Qx(),n=lV(),s=br(),i=ia(),o=KE();function l(c,u,d,f,h){c!==u&&r(u,function(p,x){if(h||(h=new e),s(p))n(c,u,x,d,l,f,h);else{var g=f?f(o(c,x),p,x+"",c,u,h):void 0;g===void 0&&(g=p),t(c,x,g)}},i)}return qp=l,qp}var Vp,Dj;function dV(){if(Dj)return Vp;Dj=1;var e=Fc(),t=Lc();function r(n){return e(function(s,i){var o=-1,l=i.length,c=l>1?i[l-1]:void 0,u=l>2?i[2]:void 0;for(c=n.length>3&&typeof c=="function"?(l--,c):void 0,u&&t(i[0],i[1],u)&&(c=l<3?void 0:c,l=1),s=Object(s);++o<l;){var d=i[o];d&&n(s,d,o,c)}return s})}return Vp=r,Vp}var Bp,qj;function uV(){if(qj)return Bp;qj=1;var e=cV(),t=dV(),r=t(function(n,s,i){e(n,s,i)});return Bp=r,Bp}var Gp,Vj;function ZE(){if(Vj)return Gp;Vj=1;function e(t,r){return t<r}return Gp=e,Gp}var Wp,Bj;function fV(){if(Bj)return Wp;Bj=1;var e=ny(),t=ZE(),r=oa();function n(s){return s&&s.length?e(s,r,t):void 0}return Wp=n,Wp}var zp,Gj;function hV(){if(Gj)return zp;Gj=1;var e=ny(),t=Fn(),r=ZE();function n(s,i){return s&&s.length?e(s,t(i,2),r):void 0}return zp=n,zp}var Hp,Wj;function pV(){if(Wj)return Hp;Wj=1;var e=qr(),t=function(){return e.Date.now()};return Hp=t,Hp}var Up,zj;function mV(){if(zj)return Up;zj=1;var e=Cc(),t=Mc(),r=Tc(),n=br(),s=Oo();function i(o,l,c,u){if(!n(o))return o;l=t(l,o);for(var d=-1,f=l.length,h=f-1,p=o;p!=null&&++d<f;){var x=s(l[d]),g=c;if(x==="__proto__"||x==="constructor"||x==="prototype")return o;if(d!=h){var y=p[x];g=u?u(y,x,p):void 0,g===void 0&&(g=n(y)?y:r(l[d+1])?[]:{})}e(p,x,g),p=p[x]}return o}return Up=i,Up}var Kp,Hj;function gV(){if(Hj)return Kp;Hj=1;var e=Oc(),t=mV(),r=Mc();function n(s,i,o){for(var l=-1,c=i.length,u={};++l<c;){var d=i[l],f=e(s,d);o(f,d)&&t(u,r(d,s),f)}return u}return Kp=n,Kp}var Zp,Uj;function xV(){if(Uj)return Zp;Uj=1;var e=gV(),t=CE();function r(n,s){return e(n,s,function(i,o){return t(n,o)})}return Zp=r,Zp}var Yp,Kj;function yV(){if(Kj)return Yp;Kj=1;var e=HE(),t=OE(),r=FE();function n(s){return r(t(s,void 0,e),s+"")}return Yp=n,Yp}var Qp,Zj;function vV(){if(Zj)return Qp;Zj=1;var e=xV(),t=yV(),r=t(function(n,s){return n==null?{}:e(n,s)});return Qp=r,Qp}var Xp,Yj;function bV(){if(Yj)return Xp;Yj=1;var e=Math.ceil,t=Math.max;function r(n,s,i,o){for(var l=-1,c=t(e((s-n)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=i;return u}return Xp=r,Xp}var Jp,Qj;function wV(){if(Qj)return Jp;Qj=1;var e=bV(),t=Lc(),r=zE();function n(s){return function(i,o,l){return l&&typeof l!="number"&&t(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),e(i,o,l,s)}}return Jp=n,Jp}var em,Xj;function jV(){if(Xj)return em;Xj=1;var e=wV(),t=e();return em=t,em}var tm,Jj;function NV(){if(Jj)return tm;Jj=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return tm=e,tm}var rm,eN;function _V(){if(eN)return rm;eN=1;var e=Ni();function t(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,d=n===n,f=e(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||i&&c&&d||!s&&d||!o)return 1;if(!i&&!l&&!f&&r<n||f&&s&&o&&!i&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return rm=t,rm}var nm,tN;function kV(){if(tN)return nm;tN=1;var e=_V();function t(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++i<c;){var d=e(o[i],l[i]);if(d){if(i>=u)return d;var f=s[i];return d*(f=="desc"?-1:1)}}return r.index-n.index}return nm=t,nm}var sm,rN;function SV(){if(rN)return sm;rN=1;var e=Ic(),t=Oc(),r=Fn(),n=RE(),s=NV(),i=Ec(),o=kV(),l=oa(),c=Ct();function u(d,f,h){f.length?f=e(f,function(g){return c(g)?function(y){return t(y,g.length===1?g[0]:g)}:g}):f=[l];var p=-1;f=e(f,i(r));var x=n(d,function(g,y,b){var v=e(f,function(j){return j(g)});return{criteria:v,index:++p,value:g}});return s(x,function(g,y){return o(g,y,h)})}return sm=u,sm}var am,nN;function CV(){if(nN)return am;nN=1;var e=ty(),t=SV(),r=Fc(),n=Lc(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(i,e(o,1),[])});return am=s,am}var im,sN;function TV(){if(sN)return im;sN=1;var e=kE(),t=0;function r(n){var s=++t;return e(n)+s}return im=r,im}var om,aN;function EV(){if(aN)return om;aN=1;function e(t,r,n){for(var s=-1,i=t.length,o=r.length,l={};++s<i;){var c=s<o?r[s]:void 0;n(l,t[s],c)}return l}return om=e,om}var lm,iN;function PV(){if(iN)return lm;iN=1;var e=Cc(),t=EV();function r(n,s){return t(n||[],s||[],e)}return lm=r,lm}var ql;if(typeof qx=="function")try{ql={cloneDeep:H9(),constant:Yx(),defaults:U9(),each:yE(),filter:EE(),find:eV(),flatten:HE(),forEach:xE(),forIn:tV(),has:PE(),isUndefined:AE(),last:rV(),map:IE(),mapValues:nV(),max:aV(),merge:uV(),min:fV(),minBy:hV(),now:pV(),pick:vV(),range:jV(),reduce:ME(),sortBy:CV(),uniqueId:TV(),values:DE(),zipObject:PV()}}catch{}ql||(ql=window._);var pt=ql,AV=$c;function $c(){var e={};e._next=e._prev=e,this._sentinel=e}$c.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return YE(t),t};$c.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&YE(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};$c.prototype.toString=function(){for(var e=[],t=this._sentinel,r=t._prev;r!==t;)e.push(JSON.stringify(r,RV)),r=r._prev;return"["+e.join(", ")+"]"};function YE(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function RV(e,t){if(e!=="_next"&&e!=="_prev")return t}var yn=pt,IV=Vr.Graph,MV=AV,OV=LV,FV=yn.constant(1);function LV(e,t){if(e.nodeCount()<=1)return[];var r=DV(e,t||FV),n=$V(r.graph,r.buckets,r.zeroIdx);return yn.flatten(yn.map(n,function(s){return e.outEdges(s.v,s.w)}),!0)}function $V(e,t,r){for(var n=[],s=t[t.length-1],i=t[0],o;e.nodeCount();){for(;o=i.dequeue();)cm(e,t,r,o);for(;o=s.dequeue();)cm(e,t,r,o);if(e.nodeCount()){for(var l=t.length-2;l>0;--l)if(o=t[l].dequeue(),o){n=n.concat(cm(e,t,r,o,!0));break}}}return n}function cm(e,t,r,n,s){var i=s?[]:void 0;return yn.forEach(e.inEdges(n.v),function(o){var l=e.edge(o),c=e.node(o.v);s&&i.push({v:o.v,w:o.w}),c.out-=l,gg(t,r,c)}),yn.forEach(e.outEdges(n.v),function(o){var l=e.edge(o),c=o.w,u=e.node(c);u.in-=l,gg(t,r,u)}),e.removeNode(n.v),i}function DV(e,t){var r=new IV,n=0,s=0;yn.forEach(e.nodes(),function(l){r.setNode(l,{v:l,in:0,out:0})}),yn.forEach(e.edges(),function(l){var c=r.edge(l.v,l.w)||0,u=t(l),d=c+u;r.setEdge(l.v,l.w,d),s=Math.max(s,r.node(l.v).out+=u),n=Math.max(n,r.node(l.w).in+=u)});var i=yn.range(s+n+3).map(function(){return new MV}),o=n+1;return yn.forEach(r.nodes(),function(l){gg(i,o,r.node(l))}),{graph:r,buckets:i,zeroIdx:o}}function gg(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}var Rs=pt,qV=OV,VV={run:BV,undo:WV};function BV(e){var t=e.graph().acyclicer==="greedy"?qV(e,r(e)):GV(e);Rs.forEach(t,function(n){var s=e.edge(n);e.removeEdge(n),s.forwardName=n.name,s.reversed=!0,e.setEdge(n.w,n.v,s,Rs.uniqueId("rev"))});function r(n){return function(s){return n.edge(s).weight}}}function GV(e){var t=[],r={},n={};function s(i){Rs.has(n,i)||(n[i]=!0,r[i]=!0,Rs.forEach(e.outEdges(i),function(o){Rs.has(r,o.w)?t.push(o):s(o.w)}),delete r[i])}return Rs.forEach(e.nodes(),s),t}function WV(e){Rs.forEach(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}var Ye=pt,QE=Vr.Graph,sr={addDummyNode:XE,simplify:zV,asNonCompoundGraph:HV,successorWeights:UV,predecessorWeights:KV,intersectRect:ZV,buildLayerMatrix:YV,normalizeRanks:QV,removeEmptyRanks:XV,addBorderNode:JV,maxRank:JE,partition:eB,time:tB,notime:rB};function XE(e,t,r,n){var s;do s=Ye.uniqueId(n);while(e.hasNode(s));return r.dummy=t,e.setNode(s,r),s}function zV(e){var t=new QE().setGraph(e.graph());return Ye.forEach(e.nodes(),function(r){t.setNode(r,e.node(r))}),Ye.forEach(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},s=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+s.weight,minlen:Math.max(n.minlen,s.minlen)})}),t}function HV(e){var t=new QE({multigraph:e.isMultigraph()}).setGraph(e.graph());return Ye.forEach(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),Ye.forEach(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function UV(e){var t=Ye.map(e.nodes(),function(r){var n={};return Ye.forEach(e.outEdges(r),function(s){n[s.w]=(n[s.w]||0)+e.edge(s).weight}),n});return Ye.zipObject(e.nodes(),t)}function KV(e){var t=Ye.map(e.nodes(),function(r){var n={};return Ye.forEach(e.inEdges(r),function(s){n[s.v]=(n[s.v]||0)+e.edge(s).weight}),n});return Ye.zipObject(e.nodes(),t)}function ZV(e,t){var r=e.x,n=e.y,s=t.x-r,i=t.y-n,o=e.width/2,l=e.height/2;if(!s&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var c,u;return Math.abs(i)*o>Math.abs(s)*l?(i<0&&(l=-l),c=l*s/i,u=l):(s<0&&(o=-o),c=o,u=o*i/s),{x:r+c,y:n+u}}function YV(e){var t=Ye.map(Ye.range(JE(e)+1),function(){return[]});return Ye.forEach(e.nodes(),function(r){var n=e.node(r),s=n.rank;Ye.isUndefined(s)||(t[s][n.order]=r)}),t}function QV(e){var t=Ye.min(Ye.map(e.nodes(),function(r){return e.node(r).rank}));Ye.forEach(e.nodes(),function(r){var n=e.node(r);Ye.has(n,"rank")&&(n.rank-=t)})}function XV(e){var t=Ye.min(Ye.map(e.nodes(),function(i){return e.node(i).rank})),r=[];Ye.forEach(e.nodes(),function(i){var o=e.node(i).rank-t;r[o]||(r[o]=[]),r[o].push(i)});var n=0,s=e.graph().nodeRankFactor;Ye.forEach(r,function(i,o){Ye.isUndefined(i)&&o%s!==0?--n:n&&Ye.forEach(i,function(l){e.node(l).rank+=n})})}function JV(e,t,r,n){var s={width:0,height:0};return arguments.length>=4&&(s.rank=r,s.order=n),XE(e,"border",s,t)}function JE(e){return Ye.max(Ye.map(e.nodes(),function(t){var r=e.node(t).rank;if(!Ye.isUndefined(r))return r}))}function eB(e,t){var r={lhs:[],rhs:[]};return Ye.forEach(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function tB(e,t){var r=Ye.now();try{return t()}finally{console.log(e+" time: "+(Ye.now()-r)+"ms")}}function rB(e,t){return t()}var eP=pt,nB=sr,sB={run:aB,undo:oB};function aB(e){e.graph().dummyChains=[],eP.forEach(e.edges(),function(t){iB(e,t)})}function iB(e,t){var r=t.v,n=e.node(r).rank,s=t.w,i=e.node(s).rank,o=t.name,l=e.edge(t),c=l.labelRank;if(i!==n+1){e.removeEdge(t);var u,d,f;for(f=0,++n;n<i;++f,++n)l.points=[],d={width:0,height:0,edgeLabel:l,edgeObj:t,rank:n},u=nB.addDummyNode(e,"edge",d,"_d"),n===c&&(d.width=l.width,d.height=l.height,d.dummy="edge-label",d.labelpos=l.labelpos),e.setEdge(r,u,{weight:l.weight},o),f===0&&e.graph().dummyChains.push(u),r=u;e.setEdge(r,s,{weight:l.weight},o)}}function oB(e){eP.forEach(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,s;for(e.setEdge(r.edgeObj,n);r.dummy;)s=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=s,r=e.node(t)})}var tl=pt,Dc={longestPath:lB,slack:cB};function lB(e){var t={};function r(n){var s=e.node(n);if(tl.has(t,n))return s.rank;t[n]=!0;var i=tl.min(tl.map(e.outEdges(n),function(o){return r(o.w)-e.edge(o).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),s.rank=i}tl.forEach(e.sources(),r)}function cB(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var Vl=pt,dB=Vr.Graph,Bl=Dc.slack,tP=uB;function uB(e){var t=new dB({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var s,i;fB(t,e)<n;)s=hB(t,e),i=t.hasNode(s.v)?Bl(e,s):-Bl(e,s),pB(t,e,i);return t}function fB(e,t){function r(n){Vl.forEach(t.nodeEdges(n),function(s){var i=s.v,o=n===i?s.w:i;!e.hasNode(o)&&!Bl(t,s)&&(e.setNode(o,{}),e.setEdge(n,o,{}),r(o))})}return Vl.forEach(e.nodes(),r),e.nodeCount()}function hB(e,t){return Vl.minBy(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return Bl(t,r)})}function pB(e,t,r){Vl.forEach(e.nodes(),function(n){t.node(n).rank+=r})}var Pn=pt,mB=tP,gB=Dc.slack,xB=Dc.longestPath,yB=Vr.alg.preorder,vB=Vr.alg.postorder,bB=sr.simplify,wB=la;la.initLowLimValues=ay;la.initCutValues=sy;la.calcCutValue=rP;la.leaveEdge=sP;la.enterEdge=aP;la.exchangeEdges=iP;function la(e){e=bB(e),xB(e);var t=mB(e);ay(t),sy(t,e);for(var r,n;r=sP(t);)n=aP(t,e,r),iP(t,e,r,n)}function sy(e,t){var r=vB(e,e.nodes());r=r.slice(0,r.length-1),Pn.forEach(r,function(n){jB(e,t,n)})}function jB(e,t,r){var n=e.node(r),s=n.parent;e.edge(r,s).cutvalue=rP(e,t,r)}function rP(e,t,r){var n=e.node(r),s=n.parent,i=!0,o=t.edge(r,s),l=0;return o||(i=!1,o=t.edge(s,r)),l=o.weight,Pn.forEach(t.nodeEdges(r),function(c){var u=c.v===r,d=u?c.w:c.v;if(d!==s){var f=u===i,h=t.edge(c).weight;if(l+=f?h:-h,_B(e,r,d)){var p=e.edge(r,d).cutvalue;l+=f?-p:p}}}),l}function ay(e,t){arguments.length<2&&(t=e.nodes()[0]),nP(e,{},1,t)}function nP(e,t,r,n,s){var i=r,o=e.node(n);return t[n]=!0,Pn.forEach(e.neighbors(n),function(l){Pn.has(t,l)||(r=nP(e,t,r,l,n))}),o.low=i,o.lim=r++,s?o.parent=s:delete o.parent,r}function sP(e){return Pn.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function aP(e,t,r){var n=r.v,s=r.w;t.hasEdge(n,s)||(n=r.w,s=r.v);var i=e.node(n),o=e.node(s),l=i,c=!1;i.lim>o.lim&&(l=o,c=!0);var u=Pn.filter(t.edges(),function(d){return c===oN(e,e.node(d.v),l)&&c!==oN(e,e.node(d.w),l)});return Pn.minBy(u,function(d){return gB(t,d)})}function iP(e,t,r,n){var s=r.v,i=r.w;e.removeEdge(s,i),e.setEdge(n.v,n.w,{}),ay(e),sy(e,t),NB(e,t)}function NB(e,t){var r=Pn.find(e.nodes(),function(s){return!t.node(s).parent}),n=yB(e,r);n=n.slice(1),Pn.forEach(n,function(s){var i=e.node(s).parent,o=t.edge(s,i),l=!1;o||(o=t.edge(i,s),l=!0),t.node(s).rank=t.node(i).rank+(l?o.minlen:-o.minlen)})}function _B(e,t,r){return e.hasEdge(t,r)}function oN(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}var kB=Dc,oP=kB.longestPath,SB=tP,CB=wB,TB=EB;function EB(e){switch(e.graph().ranker){case"network-simplex":lN(e);break;case"tight-tree":AB(e);break;case"longest-path":PB(e);break;default:lN(e)}}var PB=oP;function AB(e){oP(e),SB(e)}function lN(e){CB(e)}var xg=pt,RB=IB;function IB(e){var t=OB(e);xg.forEach(e.graph().dummyChains,function(r){for(var n=e.node(r),s=n.edgeObj,i=MB(e,t,s.v,s.w),o=i.path,l=i.lca,c=0,u=o[c],d=!0;r!==s.w;){if(n=e.node(r),d){for(;(u=o[c])!==l&&e.node(u).maxRank<n.rank;)c++;u===l&&(d=!1)}if(!d){for(;c<o.length-1&&e.node(u=o[c+1]).minRank<=n.rank;)c++;u=o[c]}e.setParent(r,u),r=e.successors(r)[0]}})}function MB(e,t,r,n){var s=[],i=[],o=Math.min(t[r].low,t[n].low),l=Math.max(t[r].lim,t[n].lim),c,u;c=r;do c=e.parent(c),s.push(c);while(c&&(t[c].low>o||l>t[c].lim));for(u=c,c=n;(c=e.parent(c))!==u;)i.push(c);return{path:s.concat(i.reverse()),lca:u}}function OB(e){var t={},r=0;function n(s){var i=r;xg.forEach(e.children(s),n),t[s]={low:i,lim:r++}}return xg.forEach(e.children(),n),t}var vn=pt,yg=sr,FB={run:LB,cleanup:qB};function LB(e){var t=yg.addDummyNode(e,"root",{},"_root"),r=$B(e),n=vn.max(vn.values(r))-1,s=2*n+1;e.graph().nestingRoot=t,vn.forEach(e.edges(),function(o){e.edge(o).minlen*=s});var i=DB(e)+1;vn.forEach(e.children(),function(o){lP(e,t,s,i,n,r,o)}),e.graph().nodeRankFactor=s}function lP(e,t,r,n,s,i,o){var l=e.children(o);if(!l.length){o!==t&&e.setEdge(t,o,{weight:0,minlen:r});return}var c=yg.addBorderNode(e,"_bt"),u=yg.addBorderNode(e,"_bb"),d=e.node(o);e.setParent(c,o),d.borderTop=c,e.setParent(u,o),d.borderBottom=u,vn.forEach(l,function(f){lP(e,t,r,n,s,i,f);var h=e.node(f),p=h.borderTop?h.borderTop:f,x=h.borderBottom?h.borderBottom:f,g=h.borderTop?n:2*n,y=p!==x?1:s-i[o]+1;e.setEdge(c,p,{weight:g,minlen:y,nestingEdge:!0}),e.setEdge(x,u,{weight:g,minlen:y,nestingEdge:!0})}),e.parent(o)||e.setEdge(t,c,{weight:0,minlen:s+i[o]})}function $B(e){var t={};function r(n,s){var i=e.children(n);i&&i.length&&vn.forEach(i,function(o){r(o,s+1)}),t[n]=s}return vn.forEach(e.children(),function(n){r(n,1)}),t}function DB(e){return vn.reduce(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function qB(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,vn.forEach(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}var dm=pt,VB=sr,BB=GB;function GB(e){function t(r){var n=e.children(r),s=e.node(r);if(n.length&&dm.forEach(n,t),dm.has(s,"minRank")){s.borderLeft=[],s.borderRight=[];for(var i=s.minRank,o=s.maxRank+1;i<o;++i)cN(e,"borderLeft","_bl",r,s,i),cN(e,"borderRight","_br",r,s,i)}}dm.forEach(e.children(),t)}function cN(e,t,r,n,s,i){var o={width:0,height:0,rank:i,borderType:t},l=s[t][i-1],c=VB.addDummyNode(e,"border",o,r);s[t][i]=c,e.setParent(c,n),l&&e.setEdge(l,c,{weight:1})}var Qr=pt,WB={adjust:zB,undo:HB};function zB(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&cP(e)}function HB(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&UB(e),(t==="lr"||t==="rl")&&(KB(e),cP(e))}function cP(e){Qr.forEach(e.nodes(),function(t){dN(e.node(t))}),Qr.forEach(e.edges(),function(t){dN(e.edge(t))})}function dN(e){var t=e.width;e.width=e.height,e.height=t}function UB(e){Qr.forEach(e.nodes(),function(t){um(e.node(t))}),Qr.forEach(e.edges(),function(t){var r=e.edge(t);Qr.forEach(r.points,um),Qr.has(r,"y")&&um(r)})}function um(e){e.y=-e.y}function KB(e){Qr.forEach(e.nodes(),function(t){fm(e.node(t))}),Qr.forEach(e.edges(),function(t){var r=e.edge(t);Qr.forEach(r.points,fm),Qr.has(r,"x")&&fm(r)})}function fm(e){var t=e.x;e.x=e.y,e.y=t}var un=pt,ZB=YB;function YB(e){var t={},r=un.filter(e.nodes(),function(l){return!e.children(l).length}),n=un.max(un.map(r,function(l){return e.node(l).rank})),s=un.map(un.range(n+1),function(){return[]});function i(l){if(!un.has(t,l)){t[l]=!0;var c=e.node(l);s[c.rank].push(l),un.forEach(e.successors(l),i)}}var o=un.sortBy(r,function(l){return e.node(l).rank});return un.forEach(o,i),s}var Vn=pt,QB=XB;function XB(e,t){for(var r=0,n=1;n<t.length;++n)r+=JB(e,t[n-1],t[n]);return r}function JB(e,t,r){for(var n=Vn.zipObject(r,Vn.map(r,function(u,d){return d})),s=Vn.flatten(Vn.map(t,function(u){return Vn.sortBy(Vn.map(e.outEdges(u),function(d){return{pos:n[d.w],weight:e.edge(d).weight}}),"pos")}),!0),i=1;i<r.length;)i<<=1;var o=2*i-1;i-=1;var l=Vn.map(new Array(o),function(){return 0}),c=0;return Vn.forEach(s.forEach(function(u){var d=u.pos+i;l[d]+=u.weight;for(var f=0;d>0;)d%2&&(f+=l[d+1]),d=d-1>>1,l[d]+=u.weight;c+=u.weight*f})),c}var uN=pt,eG=tG;function tG(e,t){return uN.map(t,function(r){var n=e.inEdges(r);if(n.length){var s=uN.reduce(n,function(i,o){var l=e.edge(o),c=e.node(o.v);return{sum:i.sum+l.weight*c.order,weight:i.weight+l.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}var cr=pt,rG=nG;function nG(e,t){var r={};cr.forEach(e,function(s,i){var o=r[s.v]={indegree:0,in:[],out:[],vs:[s.v],i};cr.isUndefined(s.barycenter)||(o.barycenter=s.barycenter,o.weight=s.weight)}),cr.forEach(t.edges(),function(s){var i=r[s.v],o=r[s.w];!cr.isUndefined(i)&&!cr.isUndefined(o)&&(o.indegree++,i.out.push(r[s.w]))});var n=cr.filter(r,function(s){return!s.indegree});return sG(n)}function sG(e){var t=[];function r(i){return function(o){o.merged||(cr.isUndefined(o.barycenter)||cr.isUndefined(i.barycenter)||o.barycenter>=i.barycenter)&&aG(i,o)}}function n(i){return function(o){o.in.push(i),--o.indegree===0&&e.push(o)}}for(;e.length;){var s=e.pop();t.push(s),cr.forEach(s.in.reverse(),r(s)),cr.forEach(s.out,n(s))}return cr.map(cr.filter(t,function(i){return!i.merged}),function(i){return cr.pick(i,["vs","i","barycenter","weight"])})}function aG(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}var Ui=pt,iG=sr,oG=lG;function lG(e,t){var r=iG.partition(e,function(d){return Ui.has(d,"barycenter")}),n=r.lhs,s=Ui.sortBy(r.rhs,function(d){return-d.i}),i=[],o=0,l=0,c=0;n.sort(cG(!!t)),c=fN(i,s,c),Ui.forEach(n,function(d){c+=d.vs.length,i.push(d.vs),o+=d.barycenter*d.weight,l+=d.weight,c=fN(i,s,c)});var u={vs:Ui.flatten(i,!0)};return l&&(u.barycenter=o/l,u.weight=l),u}function fN(e,t,r){for(var n;t.length&&(n=Ui.last(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function cG(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}var Zn=pt,dG=eG,uG=rG,fG=oG,hG=dP;function dP(e,t,r,n){var s=e.children(t),i=e.node(t),o=i?i.borderLeft:void 0,l=i?i.borderRight:void 0,c={};o&&(s=Zn.filter(s,function(x){return x!==o&&x!==l}));var u=dG(e,s);Zn.forEach(u,function(x){if(e.children(x.v).length){var g=dP(e,x.v,r,n);c[x.v]=g,Zn.has(g,"barycenter")&&mG(x,g)}});var d=uG(u,r);pG(d,c);var f=fG(d,n);if(o&&(f.vs=Zn.flatten([o,f.vs,l],!0),e.predecessors(o).length)){var h=e.node(e.predecessors(o)[0]),p=e.node(e.predecessors(l)[0]);Zn.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+p.order)/(f.weight+2),f.weight+=2}return f}function pG(e,t){Zn.forEach(e,function(r){r.vs=Zn.flatten(r.vs.map(function(n){return t[n]?t[n].vs:n}),!0)})}function mG(e,t){Zn.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var Ki=pt,gG=Vr.Graph,xG=yG;function yG(e,t,r){var n=vG(e),s=new gG({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return Ki.forEach(e.nodes(),function(i){var o=e.node(i),l=e.parent(i);(o.rank===t||o.minRank<=t&&t<=o.maxRank)&&(s.setNode(i),s.setParent(i,l||n),Ki.forEach(e[r](i),function(c){var u=c.v===i?c.w:c.v,d=s.edge(u,i),f=Ki.isUndefined(d)?0:d.weight;s.setEdge(u,i,{weight:e.edge(c).weight+f})}),Ki.has(o,"minRank")&&s.setNode(i,{borderLeft:o.borderLeft[t],borderRight:o.borderRight[t]}))}),s}function vG(e){for(var t;e.hasNode(t=Ki.uniqueId("_root")););return t}var bG=pt,wG=jG;function jG(e,t,r){var n={},s;bG.forEach(r,function(i){for(var o=e.parent(i),l,c;o;){if(l=e.parent(o),l?(c=n[l],n[l]=o):(c=s,s=o),c&&c!==o){t.setEdge(c,o);return}o=l}})}var ps=pt,NG=ZB,_G=QB,kG=hG,SG=xG,CG=wG,TG=Vr.Graph,hN=sr,EG=PG;function PG(e){var t=hN.maxRank(e),r=pN(e,ps.range(1,t+1),"inEdges"),n=pN(e,ps.range(t-1,-1,-1),"outEdges"),s=NG(e);mN(e,s);for(var i=Number.POSITIVE_INFINITY,o,l=0,c=0;c<4;++l,++c){AG(l%2?r:n,l%4>=2),s=hN.buildLayerMatrix(e);var u=_G(e,s);u<i&&(c=0,o=ps.cloneDeep(s),i=u)}mN(e,o)}function pN(e,t,r){return ps.map(t,function(n){return SG(e,n,r)})}function AG(e,t){var r=new TG;ps.forEach(e,function(n){var s=n.graph().root,i=kG(n,s,r,t);ps.forEach(i.vs,function(o,l){n.node(o).order=l}),CG(n,r,i.vs)})}function mN(e,t){ps.forEach(t,function(r){ps.forEach(r,function(n,s){e.node(n).order=s})})}var Pe=pt,RG=Vr.Graph,IG=sr,MG={positionX:zG};function OG(e,t){var r={};function n(s,i){var o=0,l=0,c=s.length,u=Pe.last(i);return Pe.forEach(i,function(d,f){var h=LG(e,d),p=h?e.node(h).order:c;(h||d===u)&&(Pe.forEach(i.slice(l,f+1),function(x){Pe.forEach(e.predecessors(x),function(g){var y=e.node(g),b=y.order;(b<o||p<b)&&!(y.dummy&&e.node(x).dummy)&&uP(r,g,x)})}),l=f+1,o=p)}),i}return Pe.reduce(t,n),r}function FG(e,t){var r={};function n(i,o,l,c,u){var d;Pe.forEach(Pe.range(o,l),function(f){d=i[f],e.node(d).dummy&&Pe.forEach(e.predecessors(d),function(h){var p=e.node(h);p.dummy&&(p.order<c||p.order>u)&&uP(r,h,d)})})}function s(i,o){var l=-1,c,u=0;return Pe.forEach(o,function(d,f){if(e.node(d).dummy==="border"){var h=e.predecessors(d);h.length&&(c=e.node(h[0]).order,n(o,u,f,l,c),u=f,l=c)}n(o,u,o.length,c,i.length)}),o}return Pe.reduce(t,s),r}function LG(e,t){if(e.node(t).dummy)return Pe.find(e.predecessors(t),function(r){return e.node(r).dummy})}function uP(e,t,r){if(t>r){var n=t;t=r,r=n}var s=e[t];s||(e[t]=s={}),s[r]=!0}function $G(e,t,r){if(t>r){var n=t;t=r,r=n}return Pe.has(e[t],r)}function DG(e,t,r,n){var s={},i={},o={};return Pe.forEach(t,function(l){Pe.forEach(l,function(c,u){s[c]=c,i[c]=c,o[c]=u})}),Pe.forEach(t,function(l){var c=-1;Pe.forEach(l,function(u){var d=n(u);if(d.length){d=Pe.sortBy(d,function(g){return o[g]});for(var f=(d.length-1)/2,h=Math.floor(f),p=Math.ceil(f);h<=p;++h){var x=d[h];i[u]===u&&c<o[x]&&!$G(r,u,x)&&(i[x]=u,i[u]=s[u]=s[x],c=o[x])}}})}),{root:s,align:i}}function qG(e,t,r,n,s){var i={},o=VG(e,t,r,s),l=s?"borderLeft":"borderRight";function c(f,h){for(var p=o.nodes(),x=p.pop(),g={};x;)g[x]?f(x):(g[x]=!0,p.push(x),p=p.concat(h(x))),x=p.pop()}function u(f){i[f]=o.inEdges(f).reduce(function(h,p){return Math.max(h,i[p.v]+o.edge(p))},0)}function d(f){var h=o.outEdges(f).reduce(function(x,g){return Math.min(x,i[g.w]-o.edge(g))},Number.POSITIVE_INFINITY),p=e.node(f);h!==Number.POSITIVE_INFINITY&&p.borderType!==l&&(i[f]=Math.max(i[f],h))}return c(u,o.predecessors.bind(o)),c(d,o.successors.bind(o)),Pe.forEach(n,function(f){i[f]=i[r[f]]}),i}function VG(e,t,r,n){var s=new RG,i=e.graph(),o=HG(i.nodesep,i.edgesep,n);return Pe.forEach(t,function(l){var c;Pe.forEach(l,function(u){var d=r[u];if(s.setNode(d),c){var f=r[c],h=s.edge(f,d);s.setEdge(f,d,Math.max(o(e,u,c),h||0))}c=u})}),s}function BG(e,t){return Pe.minBy(Pe.values(t),function(r){var n=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;return Pe.forIn(r,function(i,o){var l=UG(e,o)/2;n=Math.max(i+l,n),s=Math.min(i-l,s)}),n-s})}function GG(e,t){var r=Pe.values(t),n=Pe.min(r),s=Pe.max(r);Pe.forEach(["u","d"],function(i){Pe.forEach(["l","r"],function(o){var l=i+o,c=e[l],u;if(c!==t){var d=Pe.values(c);u=o==="l"?n-Pe.min(d):s-Pe.max(d),u&&(e[l]=Pe.mapValues(c,function(f){return f+u}))}})})}function WG(e,t){return Pe.mapValues(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var s=Pe.sortBy(Pe.map(e,n));return(s[1]+s[2])/2})}function zG(e){var t=IG.buildLayerMatrix(e),r=Pe.merge(OG(e,t),FG(e,t)),n={},s;Pe.forEach(["u","d"],function(o){s=o==="u"?t:Pe.values(t).reverse(),Pe.forEach(["l","r"],function(l){l==="r"&&(s=Pe.map(s,function(f){return Pe.values(f).reverse()}));var c=(o==="u"?e.predecessors:e.successors).bind(e),u=DG(e,s,r,c),d=qG(e,s,u.root,u.align,l==="r");l==="r"&&(d=Pe.mapValues(d,function(f){return-f})),n[o+l]=d})});var i=BG(e,n);return GG(n,i),WG(n,e.graph().align)}function HG(e,t,r){return function(n,s,i){var o=n.node(s),l=n.node(i),c=0,u;if(c+=o.width/2,Pe.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":u=-o.width/2;break;case"r":u=o.width/2;break}if(u&&(c+=r?u:-u),u=0,c+=(o.dummy?t:e)/2,c+=(l.dummy?t:e)/2,c+=l.width/2,Pe.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2;break}return u&&(c+=r?u:-u),u=0,c}}function UG(e,t){return e.node(t).width}var Zi=pt,fP=sr,KG=MG.positionX,ZG=YG;function YG(e){e=fP.asNonCompoundGraph(e),QG(e),Zi.forEach(KG(e),function(t,r){e.node(r).x=t})}function QG(e){var t=fP.buildLayerMatrix(e),r=e.graph().ranksep,n=0;Zi.forEach(t,function(s){var i=Zi.max(Zi.map(s,function(o){return e.node(o).height}));Zi.forEach(s,function(o){e.node(o).y=n+i/2}),n+=i+r})}var Be=pt,gN=VV,xN=sB,XG=TB,JG=sr.normalizeRanks,eW=RB,tW=sr.removeEmptyRanks,yN=FB,rW=BB,vN=WB,nW=EG,sW=ZG,xs=sr,aW=Vr.Graph,iW=oW;function oW(e,t){var r=t&&t.debugTiming?xs.time:xs.notime;r("layout",function(){var n=r("  buildLayoutGraph",function(){return yW(e)});r("  runLayout",function(){lW(n,r)}),r("  updateInputGraph",function(){cW(e,n)})})}function lW(e,t){t("    makeSpaceForEdgeLabels",function(){vW(e)}),t("    removeSelfEdges",function(){TW(e)}),t("    acyclic",function(){gN.run(e)}),t("    nestingGraph.run",function(){yN.run(e)}),t("    rank",function(){XG(xs.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){bW(e)}),t("    removeEmptyRanks",function(){tW(e)}),t("    nestingGraph.cleanup",function(){yN.cleanup(e)}),t("    normalizeRanks",function(){JG(e)}),t("    assignRankMinMax",function(){wW(e)}),t("    removeEdgeLabelProxies",function(){jW(e)}),t("    normalize.run",function(){xN.run(e)}),t("    parentDummyChains",function(){eW(e)}),t("    addBorderSegments",function(){rW(e)}),t("    order",function(){nW(e)}),t("    insertSelfEdges",function(){EW(e)}),t("    adjustCoordinateSystem",function(){vN.adjust(e)}),t("    position",function(){sW(e)}),t("    positionSelfEdges",function(){PW(e)}),t("    removeBorderNodes",function(){CW(e)}),t("    normalize.undo",function(){xN.undo(e)}),t("    fixupEdgeLabelCoords",function(){kW(e)}),t("    undoCoordinateSystem",function(){vN.undo(e)}),t("    translateGraph",function(){NW(e)}),t("    assignNodeIntersects",function(){_W(e)}),t("    reversePoints",function(){SW(e)}),t("    acyclic.undo",function(){gN.undo(e)})}function cW(e,t){Be.forEach(e.nodes(),function(r){var n=e.node(r),s=t.node(r);n&&(n.x=s.x,n.y=s.y,t.children(r).length&&(n.width=s.width,n.height=s.height))}),Be.forEach(e.edges(),function(r){var n=e.edge(r),s=t.edge(r);n.points=s.points,Be.has(s,"x")&&(n.x=s.x,n.y=s.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var dW=["nodesep","edgesep","ranksep","marginx","marginy"],uW={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},fW=["acyclicer","ranker","rankdir","align"],hW=["width","height"],pW={width:0,height:0},mW=["minlen","weight","width","height","labeloffset"],gW={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},xW=["labelpos"];function yW(e){var t=new aW({multigraph:!0,compound:!0}),r=pm(e.graph());return t.setGraph(Be.merge({},uW,hm(r,dW),Be.pick(r,fW))),Be.forEach(e.nodes(),function(n){var s=pm(e.node(n));t.setNode(n,Be.defaults(hm(s,hW),pW)),t.setParent(n,e.parent(n))}),Be.forEach(e.edges(),function(n){var s=pm(e.edge(n));t.setEdge(n,Be.merge({},gW,hm(s,mW),Be.pick(s,xW)))}),t}function vW(e){var t=e.graph();t.ranksep/=2,Be.forEach(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function bW(e){Be.forEach(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),s=e.node(t.w),i={rank:(s.rank-n.rank)/2+n.rank,e:t};xs.addDummyNode(e,"edge-proxy",i,"_ep")}})}function wW(e){var t=0;Be.forEach(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=Be.max(t,n.maxRank))}),e.graph().maxRank=t}function jW(e){Be.forEach(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function NW(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,s=0,i=e.graph(),o=i.marginx||0,l=i.marginy||0;function c(u){var d=u.x,f=u.y,h=u.width,p=u.height;t=Math.min(t,d-h/2),r=Math.max(r,d+h/2),n=Math.min(n,f-p/2),s=Math.max(s,f+p/2)}Be.forEach(e.nodes(),function(u){c(e.node(u))}),Be.forEach(e.edges(),function(u){var d=e.edge(u);Be.has(d,"x")&&c(d)}),t-=o,n-=l,Be.forEach(e.nodes(),function(u){var d=e.node(u);d.x-=t,d.y-=n}),Be.forEach(e.edges(),function(u){var d=e.edge(u);Be.forEach(d.points,function(f){f.x-=t,f.y-=n}),Be.has(d,"x")&&(d.x-=t),Be.has(d,"y")&&(d.y-=n)}),i.width=r-t+o,i.height=s-n+l}function _W(e){Be.forEach(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),s=e.node(t.w),i,o;r.points?(i=r.points[0],o=r.points[r.points.length-1]):(r.points=[],i=s,o=n),r.points.unshift(xs.intersectRect(n,i)),r.points.push(xs.intersectRect(s,o))})}function kW(e){Be.forEach(e.edges(),function(t){var r=e.edge(t);if(Be.has(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function SW(e){Be.forEach(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function CW(e){Be.forEach(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),s=e.node(r.borderBottom),i=e.node(Be.last(r.borderLeft)),o=e.node(Be.last(r.borderRight));r.width=Math.abs(o.x-i.x),r.height=Math.abs(s.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),Be.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function TW(e){Be.forEach(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function EW(e){var t=xs.buildLayerMatrix(e);Be.forEach(t,function(r){var n=0;Be.forEach(r,function(s,i){var o=e.node(s);o.order=i+n,Be.forEach(o.selfEdges,function(l){xs.addDummyNode(e,"selfedge",{width:l.label.width,height:l.label.height,rank:o.rank,order:i+ ++n,e:l.e,label:l.label},"_se")}),delete o.selfEdges})})}function PW(e){Be.forEach(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),s=n.x+n.width/2,i=n.y,o=r.x-s,l=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:s+2*o/3,y:i-l},{x:s+5*o/6,y:i-l},{x:s+o,y:i},{x:s+5*o/6,y:i+l},{x:s+2*o/3,y:i+l}],r.label.x=r.x,r.label.y=r.y}})}function hm(e,t){return Be.mapValues(Be.pick(e,t),Number)}function pm(e){var t={};return Be.forEach(e,function(r,n){t[n.toLowerCase()]=r}),t}var rl=pt,AW=sr,RW=Vr.Graph,IW={debugOrdering:MW};function MW(e){var t=AW.buildLayerMatrix(e),r=new RW({compound:!0,multigraph:!0}).setGraph({});return rl.forEach(e.nodes(),function(n){r.setNode(n,{label:n}),r.setParent(n,"layer"+e.node(n).rank)}),rl.forEach(e.edges(),function(n){r.setEdge(n.v,n.w,{},n.name)}),rl.forEach(t,function(n,s){var i="layer"+s;r.setNode(i,{rank:"same"}),rl.reduce(n,function(o,l){return r.setEdge(o,l,{style:"invis"}),l})}),r}var OW="0.8.5",FW={graphlib:Vr,layout:iW,debug:IW,util:{time:sr.time,notime:sr.notime},version:OW};const hP=t2(FW),_a=new hP.graphlib.Graph;_a.setDefaultEdgeLabel(()=>({}));const bN=172,wN=36,LW=(e,t,r="TB")=>{const n=r==="LR";return _a.setGraph({rankdir:r}),e.forEach(i=>{_a.setNode(i.id,{width:bN,height:wN})}),t.forEach(i=>{_a.setEdge(i.source,i.target)}),hP.layout(_a),{nodes:e.map(i=>{const o=_a.node(i.id);return i.targetPosition=n?ie.Left:ie.Top,i.sourcePosition=n?ie.Right:ie.Bottom,i.position={x:o.x-bN/2,y:o.y-wN/2},i}),edges:t}},$W=e=>{const[t,r]=m.useState({past:[],present:e,future:[]}),n=t.past.length>0,s=t.future.length>0,i=m.useCallback(c=>{JSON.stringify(c)!==JSON.stringify(t.present)&&r({past:[...t.past,t.present],present:c,future:[]})},[t.present]),o=m.useCallback(()=>{if(!n)return;const c=t.past[t.past.length-1],u=t.past.slice(0,t.past.length-1);r({past:u,present:c,future:[t.present,...t.future]})},[n,t.present,t.past,t.future]),l=m.useCallback(()=>{if(!s)return;const c=t.future[0],u=t.future.slice(1);r({past:[...t.past,t.present],present:c,future:u})},[s,t.present,t.past,t.future]);return{...t,set:i,undo:o,redo:l,canUndo:n,canRedo:s}},pP=m.createContext(void 0),DW=({children:e})=>{const[t,r,n]=Sq([]),[s,i,o]=Cq([]);m.useEffect(()=>{console.log("ReactFlow nodes state changed:",t.length,t)},[t]),m.useEffect(()=>{console.log("ReactFlow edges state changed:",s.length,s)},[s]);const[l,c]=m.useState(null),[u,d]=m.useState(null),{present:f,set:h,undo:p,redo:x,canUndo:g,canRedo:y}=$W({nodes:[],edges:[]}),[b,v]=m.useState(!1);m.useEffect(()=>{b||(JSON.stringify(f.nodes)!==JSON.stringify(t)||JSON.stringify(f.edges)!==JSON.stringify(s))&&(r(f.nodes),i(f.edges))},[f,b]);const j=m.useCallback((F,R)=>{console.log("Saving to history - Nodes:",JSON.stringify(F,null,2)),console.log("Saving to history - Edges:",JSON.stringify(R,null,2)),h({nodes:[...F],edges:[...R]})},[h]),N=m.useCallback(F=>{console.log("WorkflowContext: Connect:",F),i(R=>{const V=pT(F,R);return j(t,V),V})},[i,t,j]),_=m.useCallback(F=>{var V;console.log("WorkflowContext: Adding node:",F),console.log("WorkflowContext: Current nodes before adding:",t);const R={...F,id:F.id||`${((V=F.data)==null?void 0:V.nodeId)||"node"}_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,position:F.position||{x:0,y:0}};console.log("WorkflowContext: Final node to add:",R),r(W=>{console.log("WorkflowContext: Previous nodes in setter:",W);const q=[...W,R];return console.log("WorkflowContext: Updated nodes array:",q),j(q,s),q})},[t,r,s,j]),P=m.useCallback((F,R)=>{console.log("WorkflowContext: Node clicked:",R),c(R)},[]),C=m.useCallback((F,R)=>{r(V=>{const W=V.map(q=>q.id===F?{...q,data:{...q.data,...R}}:q);return j(W,s),W})},[r,s,j]),E=m.useCallback(F=>{if(!F&&l&&(F=l.id),!F)return;const R=t.filter(W=>W.id!==F),V=s.filter(W=>W.source!==F&&W.target!==F);r(R),i(V),j(R,V),(l==null?void 0:l.id)===F&&c(null)},[t,s,l,r,i,j]),S=m.useCallback(F=>{const R=t.find(q=>q.id===F);if(!R)return;const V={...R,id:`${R.data.nodeId}_${Date.now()}`,position:{x:R.position.x+50,y:R.position.y+50},selected:!1},W=[...t,V];r(W),j(W,s)},[t,s,r,j]),M=m.useCallback(()=>{if(!u)return;const F=u.getNodes().filter(z=>z.selected),R=u.getEdges().filter(z=>z.selected),V=new Set(F.map(z=>z.id)),W=u.getNodes().filter(z=>!z.selected),q=u.getEdges().filter(z=>!V.has(z.source)&&!V.has(z.target)&&!R.find(Z=>Z.id===z.id));r(W),i(q),j(W,q),c(null)},[u,r,i,j]),O=m.useCallback(()=>{r(F=>F.map(R=>({...R,selected:!0})))},[r]),A=m.useCallback(()=>{const{nodes:F,edges:R}=LW(t,s);r([...F]),i([...R]),j(F,R)},[t,s,r,i,j]),B=m.useCallback(()=>{g&&p()},[g,p]),k=m.useCallback(()=>{y&&x()},[y,x]),w=m.useCallback(()=>{console.log("Exporting workflow - ReactFlow Nodes:",t),console.log("Exporting workflow - ReactFlow Edges:",s),console.log("Exporting workflow - History Nodes:",f.nodes),console.log("Exporting workflow - History Edges:",f.edges);const F=t.length>0?t:f.nodes,R=s.length>0?s:f.edges;return console.log("Final export - Nodes:",F),console.log("Final export - Edges:",R),JSON.stringify({nodes:F,edges:R},null,2)},[t,s,f]),T=m.useCallback(F=>{try{v(!0),console.log("Raw JSON data:",F);const R=JSON.parse(F);console.log("Parsed data:",R),console.log("Data type:",typeof R),console.log("Data keys:",Object.keys(R));let V=[],W=[];if(R.workflow&&R.workflow.nodes&&R.workflow.edges)V=R.workflow.nodes,W=R.workflow.edges,console.log("Using workflow metadata format");else if(R.nodes&&R.edges)V=R.nodes,W=R.edges,console.log("Using direct format");else if(Array.isArray(R)&&R.length>=2)V=R[0],W=R[1],console.log("Using array format");else throw new Error("Invalid workflow format: cannot find nodes or edges");if(!Array.isArray(V)||!Array.isArray(W))throw new Error("Invalid workflow format: nodes and edges must be arrays");console.log("Nodes to import:",V),console.log("Nodes count:",V.length),console.log("Edges to import:",W),console.log("Edges count:",W.length),r(V),i(W),setTimeout(()=>{j(V,W),v(!1),console.log("Import completed. Current nodes:",V.length)},50)}catch(R){throw v(!1),console.error("Error importing workflow:",R),R}},[r,i,j]),I={nodes:t,edges:s,setNodes:r,setEdges:i,onNodesChange:n,onEdgesChange:o,onConnect:N,addNode:_,onNodeClick:P,selectedNode:l,updateNodeData:C,deleteNode:E,duplicateNode:S,deleteSelectedNodes:M,selectAllNodes:O,autoLayout:A,undo:B,redo:k,canUndo:g,canRedo:y,exportWorkflow:w,importWorkflow:T,setReactFlowInstance:d};return a.jsx(pP.Provider,{value:I,children:e})},Fo=()=>{const e=m.useContext(pP);if(e===void 0)throw new Error("useWorkflowContext must be used within a WorkflowProvider");return e},qW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-blue-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-blue-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-blue-500 flex items-center justify-center mr-1.5",children:a.jsx(RR,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})}),a.jsx(St,{type:"source",position:ie.Right,className:"!bg-blue-500 !border-0 w-1 h-1 -mr-[0.5px]"})]}),VW=m.memo(qW),BW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-pink-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-pink-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-pink-500 flex items-center justify-center mr-1.5",children:a.jsx(IR,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]}),a.jsxs("div",{className:"flex justify-end -mr-[0.5px]",children:[a.jsx(St,{type:"source",position:ie.Right,id:"true",className:"!bg-green-500 !border-0 w-1 h-1 !-right-[0.5px] !top-[35%]"}),a.jsx(St,{type:"source",position:ie.Right,id:"false",className:"!bg-red-500 !border-0 w-1 h-1 !-right-[0.5px] !top-[65%]"})]})]}),GW=m.memo(BW),WW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-amber-500/20":"border-gray-300"} bg-white`,children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-amber-500 flex items-center justify-center mr-1.5",children:a.jsx(z2,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})}),a.jsx(St,{type:"source",position:ie.Right,className:"!bg-amber-500 !border-0 w-1 h-1 -mr-[0.5px]"})]}),zW=m.memo(WW),HW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-emerald-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-emerald-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-emerald-500 flex items-center justify-center mr-1.5",children:a.jsx(qR,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})})]}),UW=m.memo(HW),KW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-purple-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-purple-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-purple-500 flex items-center justify-center mr-1.5",children:a.jsx(xa,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})}),a.jsx(St,{type:"source",position:ie.Right,className:"!bg-purple-500 !border-0 w-1 h-1 -mr-[0.5px]"})]}),ZW=m.memo(KW),YW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-orange-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-orange-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-orange-500 flex items-center justify-center mr-1.5",children:a.jsx(ya,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]}),a.jsxs("div",{className:"flex justify-end -mr-[0.5px]",children:[a.jsx(St,{type:"source",position:ie.Right,id:"body",className:"!bg-green-500 !border-0 w-1 h-1 !-right-[0.5px] !top-[35%]"}),a.jsx(St,{type:"source",position:ie.Right,id:"exit",className:"!bg-red-500 !border-0 w-1 h-1 !-right-[0.5px] !top-[65%]"})]})]}),QW=m.memo(YW),XW=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-cyan-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-cyan-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-cyan-500 flex items-center justify-center mr-1.5",children:a.jsx(Cs,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})}),a.jsx(St,{type:"source",position:ie.Right,className:"!bg-cyan-500 !border-0 w-1 h-1 -mr-[0.5px]"})]}),JW=m.memo(XW),ez=({data:e,selected:t})=>a.jsxs("div",{className:`px-2 py-1 rounded-md shadow-sm border min-w-[80px] ${t?"border-gray-300 ring-1 ring-lime-500/20":"border-gray-300"} bg-white`,children:[a.jsx(St,{type:"target",position:ie.Left,className:"!bg-lime-500 !border-0 w-1 h-1 -ml-[0.5px]"}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"h-3.5 w-3.5 rounded-sm text-lime-500 flex items-center justify-center mr-1.5",children:a.jsx(Yi,{className:"h-2.5 w-2.5"})}),a.jsx("div",{className:"min-w-0",children:a.jsx("div",{className:"font-medium truncate text-[10px] leading-tight text-black",children:e.label})})]})}),a.jsx(St,{type:"source",position:ie.Right,className:"!bg-lime-500 !border-0 w-1 h-1 -mr-[0.5px]"})]}),tz=m.memo(ez),rz=({id:e,sourceX:t,sourceY:r,targetX:n,targetY:s,sourcePosition:i,targetPosition:o,style:l={},data:c,markerEnd:u})=>{const[d,f,h]=fT({sourceX:t,sourceY:r,targetX:n,targetY:s});let p="#64748b",x="";(c==null?void 0:c.condition)==="true"?(p="#4ade80",x="True"):(c==null?void 0:c.condition)==="false"&&(p="#f87171",x="False");const g={...l,stroke:p,strokeWidth:2};return a.jsxs(a.Fragment,{children:[a.jsx(yi,{id:e,path:d,markerEnd:u,style:g}),x&&a.jsx(kq,{children:a.jsx("div",{style:{position:"absolute",transform:`translate(-50%, -50%) translate(${f}px,${h}px)`,fontSize:12,fontWeight:500,padding:"2px 6px",borderRadius:4,backgroundColor:p,color:"white",pointerEvents:"all"},className:"nodrag nopan",children:x})})]})},nz={actionNode:VW,conditionNode:GW,triggerNode:zW,outputNode:UW,dataNode:ZW,loopNode:QW,serviceNode:JW,waitNode:tz},sz={custom:rz},az=({editorRef:e})=>{const t=bc(),{nodes:r,edges:n,onNodesChange:s,onEdgesChange:i,onConnect:o,onNodeClick:l,addNode:c,undo:u,redo:d,autoLayout:f,selectAllNodes:h,deleteSelectedNodes:p,setReactFlowInstance:x}=Fo();m.useEffect(()=>{e&&(e.current={undo:u,redo:d,autoLayout:f,deleteSelectedNodes:p,selectAllNodes:h})},[e,u,d,f,p,h]),m.useEffect(()=>{t&&x(t)},[t,x]);const g=m.useCallback(_=>{_.preventDefault(),_.dataTransfer.dropEffect="move"},[]),y=m.useCallback(_=>{if(_.preventDefault(),!t)return;const P=_.currentTarget.getBoundingClientRect(),C=_.dataTransfer.getData("application/reactflow/type"),E=_.dataTransfer.getData("application/reactflow/data");if(!(!C||!E))try{const S=JSON.parse(E),M=t.project({x:_.clientX-P.left,y:_.clientY-P.top}),O={id:`${S.nodeId}_${Date.now()}`,type:C,position:M,data:{...S,parameters:S.parameters||{}}};c(O)}catch(S){console.error("AutomationCanvas: Failed to parse node data:",S)}},[t,c]),[b,v]=D.useState(null),j=m.useCallback((_,{nodeId:P})=>{v(P||null)},[]),N=m.useCallback(()=>{v(null)},[]);return a.jsx("div",{className:"flex-1 h-full bg-gray-900",children:a.jsxs(KT,{nodes:r,edges:n,onNodesChange:s,onEdgesChange:i,onConnect:o,onNodeClick:l,onConnectStart:j,onConnectEnd:N,nodeTypes:nz,edgeTypes:sz,onDragOver:g,onDrop:y,multiSelectionKeyCode:"Shift",selectionKeyCode:"Shift",deleteKeyCode:"Delete",selectionMode:ii.Partial,selectionOnDrag:!0,selectNodesOnDrag:!0,onKeyDown:_=>{_.key==="Delete"&&p()},fitView:!0,attributionPosition:"bottom-right",defaultEdgeOptions:{type:"custom",animated:!0},children:[a.jsx(qq,{}),a.jsx(Mq,{className:"border border-gray-800 shadow-sm bg-gray-800 text-white"})]})})},mm=[{id:"general",name:"Chung",icon:a.jsx(z2,{className:"h-4 w-4"}),color:"#f59e0b",bgColor:"#78350f",nodes:[{id:"start",label:"Bt u",icon:a.jsx(en,{className:"h-4 w-4"}),type:"triggerNode",description:"im bt u ca workflow. Khng c tham s.",parameters:{}},{id:"executeWorkflow",label:"Gi workflow",icon:a.jsx(UR,{className:"h-4 w-4"}),type:"actionNode",description:'Gi v thc thi mt workflow khc. Tham s: workflowId (string, v d: "login_process").',parameters:{workflowId:""}},{id:"end",label:"Kt thc",icon:a.jsx(u5,{className:"h-4 w-4"}),type:"outputNode",description:"im kt thc ca workflow. Khng c tham s.",parameters:{}},{id:"blocksGroup",label:"Nhm khi",icon:a.jsx(nd,{className:"h-4 w-4"}),type:"actionNode",description:'Nhm cc node  t chc workflow. Tham s: groupName (string, v d: "Authentication Steps").',parameters:{groupName:"Nhm 1"}},{id:"note",label:"Ghi ch",icon:a.jsx(Ss,{className:"h-4 w-4"}),type:"actionNode",description:'Thm ghi ch vo workflow. Tham s: text (string, v d: "This is a note").',parameters:{text:""}},{id:"workflowState",label:"Trng thi workflow",icon:a.jsx(en,{className:"h-4 w-4"}),type:"actionNode",description:'t trng thi ca workflow. Tham s: state (string, v d: "start", "pause", "stop").',parameters:{state:"start"}}]},{id:"browser",name:"Trnh duyt",icon:a.jsx(Cs,{className:"h-4 w-4"}),color:"#3b82f6",bgColor:"#1e3a8a",nodes:[{id:"openURL",label:"M URL",icon:a.jsx(BR,{className:"h-4 w-4"}),type:"actionNode",description:'M mt trang web. Tham s: url (string, v d: "https://www.example.com"), urlVariableRef (string, v d: "$targetUrl"), minWait (ms), maxWait (ms).',parameters:{url:"",urlVariableRef:"",minWait:1e3,maxWait:3e3}},{id:"imageSearch",label:"Tm hnh nh",icon:a.jsx(Sn,{className:"h-4 w-4"}),type:"actionNode",description:'Tm kim hnh nh trn cng c tm kim. Tham s: query (string, v d: "cats"), queryVariableRef (string, v d: "$searchQuery"), minWait (ms), maxWait (ms).',parameters:{query:"",queryVariableRef:"",minWait:1e3,maxWait:3e3}},{id:"activeTab",label:"Tab hin ti",icon:a.jsx(nd,{className:"h-4 w-4"}),type:"actionNode",description:"Chuyn ti tab ang hot ng. Khng c tham s.",parameters:{}},{id:"newTab",label:"Tab mi",icon:a.jsx(kn,{className:"h-4 w-4"}),type:"actionNode",description:"M mt tab mi. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:500,maxWait:2e3}},{id:"resourceStatus",label:"Trng thi ti nguyn",icon:a.jsx(Ss,{className:"h-4 w-4"}),type:"actionNode",description:'Kim tra trng thi ti nguyn trn trang. Tham s: resourceType (string, v d: "image", "script").',parameters:{resourceType:""}},{id:"switchTab",label:"Chuyn tab",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"actionNode",description:'Chuyn n tab khc. Tham s: tabIndex (number, v d: 0), tabIndexVariableRef (string, v d: "$tabIndex"), minWait (ms), maxWait (ms).',parameters:{tabIndex:0,tabIndexVariableRef:"",minWait:500,maxWait:2e3}},{id:"newWindow",label:"Ca s mi",icon:a.jsx(nd,{className:"h-4 w-4"}),type:"actionNode",description:"M ca s trnh duyt mi. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:500,maxWait:2e3}},{id:"goBack",label:"Quay li",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"actionNode",description:"Quay li trang trc. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:500,maxWait:2e3}},{id:"goForward",label:"i tip",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"actionNode",description:"i n trang tip theo. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:500,maxWait:2e3}},{id:"closeTab",label:"ng tab",icon:a.jsx(jn,{className:"h-4 w-4"}),type:"actionNode",description:"ng tab hin ti. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:500,maxWait:2e3}},{id:"reloadPage",label:"Ti li trang",icon:a.jsx(ya,{className:"h-4 w-4"}),type:"actionNode",description:"Ti li trang hin ti. Tham s: minWait (ms), maxWait (ms).",parameters:{minWait:1e3,maxWait:3e3}},{id:"getURL",label:"Ly URL",icon:a.jsx(QR,{className:"h-4 w-4"}),type:"actionNode",description:'Ly URL ca trang hin ti v lu vo bin. Tham s: resultVar (string, v d: "currentUrl").',parameters:{resultVar:""}}]},{id:"webInteraction",name:"Tng tc Web",icon:a.jsx(Go,{className:"h-4 w-4"}),color:"#ec4899",bgColor:"#831843",nodes:[{id:"click",label:"Click",icon:a.jsx(Go,{className:"h-4 w-4"}),type:"actionNode",description:'Click vo phn t. Tham s: selectorType (string, v d: "css"), selectorValue (string, v d: "#myButton"), selectorVariableRef (string, v d: "$buttonSelector"), clickType (string, v d: "left"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",clickType:"left",timeout:5e3,minWait:500,maxWait:2e3}},{id:"doubleClick",label:"Double Click",icon:a.jsx(Go,{className:"h-4 w-4"}),type:"actionNode",description:'Double click vo phn t. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$buttonSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"rightClick",label:"Right Click",icon:a.jsx(Go,{className:"h-4 w-4"}),type:"actionNode",description:'Click chut phi vo phn t. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$buttonSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"hover",label:"Hover",icon:a.jsx(Fy,{className:"h-4 w-4"}),type:"actionNode",description:'Di chut qua phn t. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$elementSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"focus",label:"Focus",icon:a.jsx(Fy,{className:"h-4 w-4"}),type:"actionNode",description:'t focus vo phn t. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$elementSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"type",label:"Nhp",icon:a.jsx(sd,{className:"h-4 w-4"}),type:"actionNode",description:'Nhp vn bn hoc gi tr t bin. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$inputSelector"), text (string), variableRef (string, v d: "$inputText"), delay (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",text:"",variableRef:"",delay:100,minWait:500,maxWait:2e3}},{id:"clearInput",label:"Xa input",icon:a.jsx(jn,{className:"h-4 w-4"}),type:"actionNode",description:'Xa ni dung trng nhp liu. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$inputSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"selectOption",label:"Chn option",icon:a.jsx(My,{className:"h-4 w-4"}),type:"actionNode",description:'Chn option t dropdown. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$dropdownSelector"), value (string), variableRef (string, v d: "$selectedValue"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",value:"",variableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"upload",label:"Upload file",icon:a.jsx(Ss,{className:"h-4 w-4"}),type:"actionNode",description:'Ti ln file. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$fileInputSelector"), filePath (string), filePathVariableRef (string, v d: "$filePath"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",filePath:"",filePathVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"download",label:"Download file",icon:a.jsx(Ss,{className:"h-4 w-4"}),type:"actionNode",description:'Ti xung file. Tham s: url (string), urlVariableRef (string, v d: "$downloadUrl"), savePath (string), savePathVariableRef (string, v d: "$savePath"), minWait (ms), maxWait (ms).',parameters:{url:"",urlVariableRef:"",savePath:"",savePathVariableRef:"",minWait:500,maxWait:2e3}},{id:"scroll",label:"Scroll",icon:a.jsx(Ly,{className:"h-4 w-4"}),type:"actionNode",description:'Cun trang. Tham s: direction (string, v d: "down"), directionVariableRef (string, v d: "$scrollDirection"), amount (number), amountVariableRef (string, v d: "$scrollAmount"), minWait (ms), maxWait (ms).',parameters:{direction:"down",directionVariableRef:"",amount:500,amountVariableRef:"",minWait:500,maxWait:2e3}},{id:"scrollToElement",label:"Scroll ti phn t",icon:a.jsx(Ly,{className:"h-4 w-4"}),type:"actionNode",description:'Cun n phn t. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$elementSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"pressKey",label:"Nhn phm",icon:a.jsx(sd,{className:"h-4 w-4"}),type:"actionNode",description:'Nhn phm. Tham s: key (string, v d: "Enter"), keyVariableRef (string, v d: "$keyToPress"), modifier (string), modifierVariableRef (string, v d: "$modifierKey"), minWait (ms), maxWait (ms).',parameters:{key:"Enter",keyVariableRef:"",modifier:"",modifierVariableRef:"",minWait:500,maxWait:2e3}},{id:"dragAndDrop",label:"Drag and Drop",icon:a.jsx(r5,{className:"h-4 w-4"}),type:"actionNode",description:'Ko v th phn t. Tham s: sourceSelectorType (string), sourceSelectorValue (string), sourceSelectorVariableRef (string, v d: "$sourceSelector"), targetSelectorType (string), targetSelectorValue (string), targetSelectorVariableRef (string, v d: "$targetSelector"), timeout (ms), minWait (ms), maxWait (ms).',parameters:{sourceSelectorType:"css",sourceSelectorValue:"",sourceSelectorVariableRef:"",targetSelectorType:"css",targetSelectorValue:"",targetSelectorVariableRef:"",timeout:5e3,minWait:500,maxWait:2e3}},{id:"getAttribute",label:"Ly Attribute",icon:a.jsx(W2,{className:"h-4 w-4"}),type:"actionNode",description:'Ly gi tr attribute ca phn t v lu vo bin. Tham s: selectorType (string), selectorValue (string), selectorVariableRef (string, v d: "$elementSelector"), attribute (string, v d: "data-id"), resultVar (string, v d: "elementId").',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",attribute:"",resultVar:"",timeout:5e3,minWait:500,maxWait:2e3}}]},{id:"controlFlow",name:"iu khin Lung",icon:a.jsx(td,{className:"h-4 w-4"}),color:"#8b5cf6",bgColor:"#4c1d95",nodes:[{id:"if",label:"If-Else",icon:a.jsx(td,{className:"h-4 w-4"}),type:"conditionNode",description:'R nhnh da trn iu kin. Tham s: condition (string, v d: "$myVar > 10"), conditionVariableRef (string, v d: "$conditionValue").',parameters:{condition:"",conditionVariableRef:""}},{id:"switch",label:"Switch-Case",icon:a.jsx(td,{className:"h-4 w-4"}),type:"conditionNode",description:'Chuyn lung da trn gi tr. Tham s: variable (string, v d: "status"), variableRef (string, v d: "$statusValue"), cases (array, v d: [{case: "success", action: "proceed"}]).',parameters:{variable:"",variableRef:"",cases:[]}},{id:"loop",label:"Vng lp",icon:a.jsx(ya,{className:"h-4 w-4"}),type:"loopNode",description:'Lp li hnh ng, lu bin m. Tham s: times (number, v d: 5), timesVariableRef (string, v d: "$loopCount"), loopVariable (string, v d: "i").',parameters:{times:5,timesVariableRef:"",loopVariable:"i"}},{id:"forEach",label:"For Each",icon:a.jsx(ya,{className:"h-4 w-4"}),type:"loopNode",description:'Lp qua mng, lu bin phn t. Tham s: array (string, v d: "myArray"), arrayVariableRef (string, v d: "$myArray"), itemVariable (string, v d: "item").',parameters:{array:"",arrayVariableRef:"",itemVariable:"item"}},{id:"while",label:"While",icon:a.jsx(ya,{className:"h-4 w-4"}),type:"loopNode",description:'Lp khi iu kin ng. Tham s: condition (string, v d: "$myVar < 10"), conditionVariableRef (string, v d: "$conditionValue").',parameters:{condition:"",conditionVariableRef:""}},{id:"break",label:"Break",icon:a.jsx(jn,{className:"h-4 w-4"}),type:"actionNode",description:"Thot khi vng lp hin ti. Khng c tham s.",parameters:{}},{id:"continue",label:"Continue",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"actionNode",description:"B qua ln lp hin ti. Khng c tham s.",parameters:{}},{id:"try",label:"Try-Catch",icon:a.jsx(c5,{className:"h-4 w-4"}),type:"actionNode",description:'Bt v x l li. Tham s: errorVar (string, v d: "errorMessage").',parameters:{errorVar:""}},{id:"return",label:"Return",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"actionNode",description:'Tr v gi tr v kt thc. Tham s: value (any, v d: "result"), variableRef (string, v d: "$returnValue").',parameters:{value:"",variableRef:""}},{id:"retry",label:"Retry",icon:a.jsx(ya,{className:"h-4 w-4"}),type:"actionNode",description:'Th li hnh ng khi li. Tham s: times (number, v d: 3), timesVariableRef (string, v d: "$retryCount"), delay (ms).',parameters:{times:3,timesVariableRef:"",delay:1e3}}]},{id:"data",name:"D liu",icon:a.jsx(xa,{className:"h-4 w-4"}),color:"#10b981",bgColor:"#064e3b",nodes:[{id:"variable",label:"Bin",icon:a.jsx(xa,{className:"h-4 w-4"}),type:"dataNode",description:'Khai bo hoc cp nht bin. Tham s: name (string, v d: "myVar"), value (any, v d: "value"), valueVariableRef (string, v d: "$inputValue").',parameters:{name:"",value:"",valueVariableRef:""}},{id:"array",label:"Mng",icon:a.jsx(xa,{className:"h-4 w-4"}),type:"dataNode",description:'To hoc cp nht mng. Tham s: name (string, v d: "myArray"), value (array, v d: []), valueVariableRef (string, v d: "$inputArray").',parameters:{name:"",value:[],valueVariableRef:""}},{id:"object",label:"i tng",icon:a.jsx(xa,{className:"h-4 w-4"}),type:"dataNode",description:'To hoc cp nht i tng. Tham s: name (string, v d: "myObject"), value (object, v d: {}), valueVariableRef (string, v d: "$inputObject").',parameters:{name:"",value:{},valueVariableRef:""}},{id:"math",label:"Ton hc",icon:a.jsx(kn,{className:"h-4 w-4"}),type:"dataNode",description:'Thc hin php tnh. Tham s: operation (string, v d: "add"), operands (array, v d: [1, 2]), operandsVariableRef (string, v d: "$inputOperands"), resultVar (string, v d: "sum").',parameters:{operation:"add",operands:[],operandsVariableRef:"",resultVar:""}},{id:"string",label:"Chui",icon:a.jsx(sd,{className:"h-4 w-4"}),type:"dataNode",description:'Thao tc vi chui. Tham s: operation (string, v d: "concat"), strings (array, v d: ["Hello", "World"]), stringsVariableRef (string, v d: "$inputStrings"), resultVar (string, v d: "resultString").',parameters:{operation:"concat",strings:[],stringsVariableRef:"",resultVar:""}},{id:"date",label:"Ngy",icon:a.jsx(Yi,{className:"h-4 w-4"}),type:"dataNode",description:'Thao tc vi ngy thng. Tham s: operation (string, v d: "now"), resultVar (string, v d: "currentDate").',parameters:{operation:"now",resultVar:""}},{id:"json",label:"JSON",icon:a.jsx($R,{className:"h-4 w-4"}),type:"dataNode",description:'Thao tc vi JSON. Tham s: operation (string, v d: "parse"), data (string, v d: "{"key": "value"}"), dataVariableRef (string, v d: "$inputJson"), resultVar (string, v d: "parsedJson").',parameters:{operation:"parse",data:"",dataVariableRef:"",resultVar:""}},{id:"regex",label:"RegExp",icon:a.jsx(Sn,{className:"h-4 w-4"}),type:"dataNode",description:'Tm kim vi biu thc chnh quy. Tham s: pattern (string, v d: "\\d+"), text (string), textVariableRef (string, v d: "$inputText"), flags (string, v d: "g"), resultVar (string, v d: "matches").',parameters:{pattern:"",text:"",textVariableRef:"",flags:"g",resultVar:""}},{id:"randomize",label:"Ngu nhin",icon:a.jsx(ca,{className:"h-4 w-4"}),type:"dataNode",description:'To gi tr ngu nhin. Tham s: type (string, v d: "number"), min (number), minVariableRef (string, v d: "$minValue"), max (number), maxVariableRef (string, v d: "$maxValue"), resultVar (string, v d: "randomValue").',parameters:{type:"number",min:1,minVariableRef:"",max:100,maxVariableRef:"",resultVar:""}},{id:"sort",label:"Sp xp",icon:a.jsx(L2,{className:"h-4 w-4"}),type:"dataNode",description:'Sp xp mng. Tham s: array (string, v d: "myArray"), arrayVariableRef (string, v d: "$inputArray"), order (string, v d: "ascending"), resultVar (string, v d: "sortedArray").',parameters:{array:"",arrayVariableRef:"",order:"ascending",resultVar:""}},{id:"filter",label:"Lc",icon:a.jsx(My,{className:"h-4 w-4"}),type:"dataNode",description:'Lc mng. Tham s: array (string, v d: "myArray"), arrayVariableRef (string, v d: "$inputArray"), condition (string, v d: "item > 10"), conditionVariableRef (string, v d: "$filterCondition"), resultVar (string, v d: "filteredArray").',parameters:{array:"",arrayVariableRef:"",condition:"",conditionVariableRef:"",resultVar:""}},{id:"map",label:"Map",icon:a.jsx(KR,{className:"h-4 w-4"}),type:"dataNode",description:'p dng hm cho mng. Tham s: array (string, v d: "myArray"), arrayVariableRef (string, v d: "$inputArray"), operation (string, v d: "item * 2"), operationVariableRef (string, v d: "$mapOperation"), resultVar (string, v d: "mappedArray").',parameters:{array:"",arrayVariableRef:"",operation:"",operationVariableRef:"",resultVar:""}}]},{id:"wait",name:"Ch i",icon:a.jsx(Yi,{className:"h-4 w-4"}),color:"#84cc16",bgColor:"#365314",nodes:[{id:"delay",label:"Ch",icon:a.jsx(Yi,{className:"h-4 w-4"}),type:"waitNode",description:'Tm dng thc thi. Tham s: duration (ms, v d: 1000), durationVariableRef (string, v d: "$waitTime").',parameters:{duration:1e3,durationVariableRef:""}},{id:"waitForPageLoad",label:"Ch trang ti",icon:a.jsx(Bo,{className:"h-4 w-4"}),type:"waitNode",description:'Ch trang ti hon tt. Tham s: timeout (ms, v d: 30000), timeoutVariableRef (string, v d: "$loadTimeout").',parameters:{timeout:3e4,timeoutVariableRef:""}},{id:"waitForSelector",label:"Ch phn t",icon:a.jsx(Bo,{className:"h-4 w-4"}),type:"waitNode",description:'Ch phn t xut hin. Tham s: selectorType (string, v d: "css"), selectorValue (string, v d: "#myElement"), selectorVariableRef (string, v d: "$elementSelector"), timeout (ms), timeoutVariableRef (string, v d: "$waitTimeout").',parameters:{selectorType:"css",selectorValue:"",selectorVariableRef:"",timeout:3e4,timeoutVariableRef:""}},{id:"waitForXPath",label:"Ch XPath",icon:a.jsx(Bo,{className:"h-4 w-4"}),type:"waitNode",description:"Ch phn t xc nh bng XPath. Tham s: selectorType, selectorValue, selectorVariableRef, timeout, timeoutVariableRef",parameters:{selectorType:"xpath",selectorValue:"",selectorVariableRef:"",timeout:3e4,timeoutVariableRef:""}},{id:"waitConnections",label:"Ch kt ni",icon:a.jsx(Bo,{className:"h-4 w-4"}),type:"waitNode",description:"Ch s kin hoc kt ni. Tham s: event, eventVariableRef, timeout, timeoutVariableRef",parameters:{event:"",eventVariableRef:"",timeout:3e4,timeoutVariableRef:""}}]},{id:"onlineServices",name:"Dch v Online",icon:a.jsx(Cs,{className:"h-4 w-4"}),color:"#06b6d4",bgColor:"#164e63",nodes:[{id:"mailSend",label:"Gi Email",icon:a.jsx(Oy,{className:"h-4 w-4"}),type:"serviceNode",description:'Gi email. Tham s: to (string), toVariableRef (string, v d: "$recipient"), subject (string), subjectVariableRef (string, v d: "$emailSubject"), body (string), bodyVariableRef (string, v d: "$emailContent"), minWait (ms), maxWait (ms).',parameters:{to:"",toVariableRef:"",subject:"",subjectVariableRef:"",body:"",bodyVariableRef:"",minWait:1e3,maxWait:3e3}},{id:"sms",label:"Gi SMS",icon:a.jsx(Oy,{className:"h-4 w-4"}),type:"serviceNode",description:'Gi SMS. Tham s: to (string), toVariableRef (string, v d: "$phoneNumber"), message (string), messageVariableRef (string, v d: "$smsContent"), minWait (ms), maxWait (ms).',parameters:{to:"",toVariableRef:"",message:"",messageVariableRef:"",minWait:1e3,maxWait:3e3}},{id:"apiCall",label:"Gi API",icon:a.jsx(Cs,{className:"h-4 w-4"}),type:"serviceNode",description:'Gi API RESTful. Tham s: url (string), urlVariableRef (string, v d: "$apiUrl"), method (string), methodVariableRef (string, v d: "$apiMethod"), headers (object), headersVariableRef (string, v d: "$apiHeaders"), body (object), bodyVariableRef (string, v d: "$apiPayload"), resultVar (string, v d: "apiResult"), minWait (ms), maxWait (ms).',parameters:{url:"",urlVariableRef:"",method:"GET",methodVariableRef:"",headers:{},headersVariableRef:"",body:{},bodyVariableRef:"",resultVar:"",minWait:500,maxWait:2e3}},{id:"webhook",label:"Webhook",icon:a.jsx(Cs,{className:"h-4 w-4"}),type:"serviceNode",description:'Gi d liu n webhook. Tham s: url (string), urlVariableRef (string, v d: "$webhookUrl"), payload (object), payloadVariableRef (string, v d: "$webhookPayload"), resultVar (string, v d: "webhookResult"), minWait (ms), maxWait (ms).',parameters:{url:"",urlVariableRef:"",payload:{},payloadVariableRef:"",resultVar:"",minWait:500,maxWait:2e3}},{id:"chatgpt",label:"ChatGPT",icon:a.jsx(JR,{className:"h-4 w-4"}),type:"serviceNode",description:'Tng tc vi ChatGPT API. Tham s: prompt (string, v d: "Hello, how are you?"), promptVariableRef (string, v d: "$chatPrompt"), model (string, v d: "gpt-3.5-turbo"), resultVar (string, v d: "chatResponse"), minWait (ms), maxWait (ms).',parameters:{prompt:"",promptVariableRef:"",model:"gpt-3.5-turbo",resultVar:"",minWait:1e3,maxWait:3e3}},{id:"translate",label:"Dch",icon:a.jsx(V2,{className:"h-4 w-4"}),type:"serviceNode",description:'Dch vn bn. Tham s: text (string), textVariableRef (string, v d: "$textToTranslate"), sourceLang (string, v d: "auto"), targetLang (string, v d: "en"), resultVar (string, v d: "translatedText"), minWait (ms), maxWait (ms).',parameters:{text:"",textVariableRef:"",sourceLang:"auto",targetLang:"en",resultVar:"",minWait:500,maxWait:2e3}},{id:"notification",label:"Thng bo",icon:a.jsx(ER,{className:"h-4 w-4"}),type:"serviceNode",description:"Gi thng bo qua knh. Tham s: channel, channelVariableRef, message, messageVariableRef, minWait, maxWait",parameters:{channel:"telegram",channelVariableRef:"",message:"",messageVariableRef:"",minWait:500,maxWait:2e3}},{id:"calendar",label:"Lch",icon:a.jsx(MR,{className:"h-4 w-4"}),type:"serviceNode",description:"Thao tc vi lch. Tham s: action, actionVariableRef, event, eventVariableRef, resultVar, minWait, maxWait",parameters:{action:"add",actionVariableRef:"",event:{},eventVariableRef:"",resultVar:"",minWait:500,maxWait:2e3}},{id:"database",label:"C s d liu",icon:a.jsx(xa,{className:"h-4 w-4"}),type:"serviceNode",description:"Tng tc vi c s d liu. Tham s: operation, operationVariableRef, table, tableVariableRef, data, dataVariableRef, resultVar, minWait, maxWait",parameters:{operation:"select",operationVariableRef:"",table:"",tableVariableRef:"",data:{},dataVariableRef:"",resultVar:"",minWait:500,maxWait:2e3}},{id:"storage",label:"Lu tr Cloud",icon:a.jsx(B2,{className:"h-4 w-4"}),type:"serviceNode",description:"Tng tc vi lu tr m my. Tham s: service, serviceVariableRef, operation, operationVariableRef, path, pathVariableRef, data, dataVariableRef, resultVar, minWait, maxWait",parameters:{service:"dropbox",serviceVariableRef:"",operation:"upload",operationVariableRef:"",path:"",pathVariableRef:"",data:null,dataVariableRef:"",resultVar:"",minWait:500,maxWait:2e3}}]}];function iz(){const[e,t]=m.useState(""),[r,n]=m.useState(mm.reduce((l,c)=>(l[c.id]=!0,l),{})),s=(l,c,u)=>{console.log("NodePanel: Starting drag with:",{type:c,data:u}),l.dataTransfer.setData("application/reactflow/type",c),l.dataTransfer.setData("application/reactflow/data",JSON.stringify({nodeId:u.id,label:u.label,description:u.description,parameters:u.parameters})),l.dataTransfer.effectAllowed="move";const d=l.currentTarget;d.style.opacity="0.5",setTimeout(()=>{d.style.opacity="1"},100)},i=l=>{n(c=>({...c,[l]:!c[l]}))},o=e.trim()===""?mm:mm.map(l=>({...l,nodes:l.nodes.filter(c=>c.label.toLowerCase().includes(e.toLowerCase())||c.description.toLowerCase().includes(e.toLowerCase()))})).filter(l=>l.nodes.length>0);return a.jsxs("div",{className:"flex flex-col h-full overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx(Sn,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Tm kim node...",className:"w-full pl-8 pr-2 py-1 text-sm border border-gray-300 rounded",value:e,onChange:l=>t(l.target.value)}),e&&a.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",onClick:()=>t(""),children:a.jsx(jn,{className:"h-3 w-3"})})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:o.map(l=>a.jsxs("div",{className:"mb-2",children:[a.jsxs("button",{className:"flex items-center justify-between w-full text-left rounded px-2 py-1.5 mb-1 text-white text-sm font-medium transition-colors",style:{backgroundColor:l.bgColor},onClick:()=>i(l.id),children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2",children:l.icon}),a.jsx("span",{children:l.name})]}),a.jsx("div",{children:r[l.id]?a.jsx(L2,{className:"h-3 w-3 text-white"}):a.jsx(SR,{className:"h-3 w-3 text-white"})})]}),r[l.id]&&a.jsx("div",{className:"pl-1 space-y-1",children:l.nodes.map(c=>a.jsxs("div",{className:"flex items-center rounded px-2 py-1.5 text-xs bg-white border border-gray-200 hover:bg-gray-50 cursor-grab select-none transition-opacity duration-150",draggable:!0,onDragStart:u=>s(u,c.type,c),style:{touchAction:"none"},children:[a.jsx("div",{className:"h-4 w-4 flex items-center justify-center mr-2",style:{color:l.color},children:c.icon}),a.jsx("div",{className:"flex-1",children:c.label})]},c.id))})]},l.id))})]})}const oz={url:"a ch URL cn m hoc gi request",selector:"CSS selector  tm phn t trn trang",timeout:"Thi gian ch ti a (ms) trc khi ht thi gian",postActionDelay:"Thi gian ch sau khi hnh ng hon thnh (ms)",text:"Vn bn  nhp hoc s dng",outputVariable:"Tn bin  lu kt qu",visible:"Kim tra phn t c hin th hay khng"},lz={url:"URL",selector:"Selector",text:"Vn bn",timeout:"Thi gian ch (ms)",postActionDelay:" tr",outputVariable:"Bin u ra",ignoreCache:"B qua cache",activate:"Kch hot",identifier:"nh danh",identifierType:"Loi nh danh",urlPattern:"Mu URL",clickType:"Loi click",button:"Nt chut",x:"Ta  X",y:"Ta  Y",moveType:"Kiu di chuyn",sourceSelector:"Selector ngun",targetSelector:"Selector ch",behavior:"Hnh vi",block:"V tr",deltaX:"Delta X",deltaY:"Delta Y",delay:" tr g phm",replace:"Thay th ni dung",name:"Tn",value:"Gi tr",type:"Kiu",amount:"S lng",attribute:"Thuc tnh",length:" di",customFormat:"nh dng ty chnh",code:"M",input:"u vo",inputType:"Kiu u vo",operation:"Thao tc",condition:"iu kin",description:"M t",times:"S ln",varName:"Tn bin",maxIterations:"S lp ti a",duration:"Thi lng",minScrolls:"S ln cun ti thiu",maxScrolls:"S ln cun ti a",minDistance:"Khong cch ti thiu",maxDistance:"Khong cch ti a",interval:"Khong thi gian",filename:"Tn file",saveDirectory:"Th mc lu",method:"Phng thc",headers:"Headers",body:"Body",message:"Thng ip",level:"Cp ",scriptId:"ID script",inputParameters:"Tham s u vo",waitForCompletion:"Ch hon thnh",filepath:"ng dn file",multiple:"Nhiu file",idleTime:"Thi gian ch",idleConnections:"Kt ni ch",maxTries:"S ln th",intervalBetweenTries:"Khong cch gia cc ln th",smoothness:" mt"},cz=()=>{const{selectedNode:e,updateNodeData:t,deleteNode:r,duplicateNode:n}=Fo();if(!e)return a.jsxs("div",{className:"p-4 text-center text-gray-500 bg-white h-full",children:[a.jsx(fl,{className:"h-12 w-12 mx-auto mb-3 opacity-40"}),a.jsx("h3",{className:"text-lg font-medium mb-1",children:"Cha chn node"}),a.jsx("p",{className:"text-sm",children:"Chn mt node  xem v chnh sa thuc tnh"})]});const s=(c,u)=>{if(!e||!e.data)return;const d={...e.data.parameters,[c]:u};t(e.id,{parameters:d})},i=(c,u,d)=>{if(!e||!e.data||!e.data.parameters)return;const f=e.data.parameters[c];let h={min:0,max:5e3};typeof f=="object"&&f!==null&&typeof f.min<"u"&&typeof f.max<"u"&&(h={min:typeof f.min=="number"?f.min:0,max:typeof f.max=="number"?f.max:5e3}),h[u]=d,s(c,h)},o=c=>c==="method"?["GET","POST","PUT","DELETE","PATCH"]:c==="level"?["info","warn","error","debug"]:c==="clickType"||c==="button"?["left","right","middle"]:c==="behavior"?["smooth","auto"]:c==="block"?["start","center","end","nearest"]:c==="moveType"?["element","coordinates"]:c==="identifierType"?["index","id","title","url"]:c==="type"?["string","number","boolean","array","object"]:null,l=(c,u)=>{const d=lz[c]||c,f=oz[c]||"";if(typeof u=="object"&&u!==null&&"min"in u&&"max"in u)return a.jsxs("div",{className:"mb-6 pb-2 border-b border-gray-100",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48 z-10",children:f})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Min (ms)"}),a.jsx("input",{type:"number",min:"0",value:u.min,onChange:p=>i(c,"min",Number(p.target.value)),className:"w-full p-1.5 rounded bg-white border border-gray-300 text-gray-700 text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Max (ms)"}),a.jsx("input",{type:"number",min:"0",value:u.max,onChange:p=>i(c,"max",Number(p.target.value)),className:"w-full p-1.5 rounded bg-white border border-gray-300 text-gray-700 text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Khong thi gian ngu nhin t ",u.min,"ms n ",u.max,"ms"]})]},c);const h=o(c);return h?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48 z-10",children:f})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:u,onChange:p=>s(c,p.target.value),className:"w-full p-2 pr-8 rounded bg-white border border-gray-300 text-gray-700 text-sm appearance-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:h.map(p=>a.jsx("option",{value:p,children:p},p))}),a.jsx(_o,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]},c):typeof u=="boolean"?a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:`param-${c}`,checked:u,onChange:p=>s(c,p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("label",{htmlFor:`param-${c}`,className:"text-sm",children:d}),f&&a.jsxs("div",{className:"text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48",children:f})]})]})},c):typeof u=="number"?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48",children:f})]})]}),a.jsx("input",{type:"number",value:u,onChange:p=>s(c,Number(p.target.value)),className:"w-full p-2 rounded bg-white border border-gray-300 text-gray-700 text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},c):Array.isArray(u)?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48",children:f})]})]}),a.jsxs("div",{className:"border border-gray-300 rounded p-1 bg-white shadow-sm",children:[u.map((p,x)=>a.jsxs("div",{className:"flex mb-1",children:[a.jsx("input",{type:"text",value:p,onChange:g=>{const y=[...u];y[x]=g.target.value,s(c,y)},className:"flex-1 p-1 rounded bg-white border border-gray-300 text-gray-700 text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"}),a.jsx("button",{onClick:()=>{const g=u.filter((y,b)=>b!==x);s(c,g)},className:"ml-1 p-1 rounded bg-red-100 text-red-500 hover:bg-red-200",children:a.jsx(jn,{className:"h-3 w-3"})})]},x)),a.jsx("button",{onClick:()=>s(c,[...u,""]),className:"w-full mt-1 p-1 rounded bg-blue-100 text-blue-600 hover:bg-blue-200 text-xs",children:"Thm"})]})]},c):typeof u=="object"&&u!==null?a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48",children:f})]})]}),a.jsx("textarea",{value:JSON.stringify(u,null,2),onChange:p=>{try{const x=JSON.parse(p.target.value);s(c,x)}catch(x){console.error("Invalid JSON input:",x)}},className:"w-full p-2 rounded bg-white border border-gray-300 text-gray-700 text-sm font-mono focus:ring-1 focus:ring-blue-500 focus:border-blue-500",rows:3})]},c):a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"text-sm font-medium",children:d}),f&&a.jsxs("div",{className:"ml-1 text-gray-500 cursor-help group relative",children:[a.jsx(Gn,{className:"h-3.5 w-3.5"}),a.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-gray-800 text-white text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity w-48",children:f})]})]}),a.jsx("input",{type:"text",value:u,onChange:p=>s(c,p.target.value),className:"w-full p-2 rounded bg-white border border-gray-300 text-gray-700 text-sm focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]},c)};return a.jsxs("div",{className:"p-4 bg-white h-full text-gray-700 overflow-y-auto",children:[a.jsx("div",{className:"flex items-center justify-between mb-4 pb-2 border-b border-gray-200",children:a.jsx("h3",{className:"text-lg font-medium text-blue-600",children:e.data.label})}),e.data.description&&a.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-md text-sm text-gray-600",children:e.data.description}),e.data.parameters&&Object.entries(e.data.parameters).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 font-medium text-sm border-b border-gray-200 pb-2 text-gray-600",children:"Tham s"}),Object.entries(e.data.parameters).map(([c,u])=>l(c,u))]}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-between",children:[a.jsxs("button",{onClick:()=>n(e.id),className:"px-3 py-1.5 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded-md text-sm flex items-center gap-1.5 transition-colors shadow-sm",children:[a.jsx(wn,{className:"h-3.5 w-3.5"}),"Nhn i"]}),a.jsxs("button",{onClick:()=>r(e.id),className:"px-3 py-1.5 bg-red-100 text-red-600 hover:bg-red-200 rounded-md text-sm flex items-center gap-1.5 transition-colors shadow-sm",children:[a.jsx(jn,{className:"h-3.5 w-3.5"}),"Xa"]})]})]})};function dz(){const{nodes:e}=Fo(),[t,r]=m.useState([]),[n,s]=m.useState(""),[i,o]=m.useState(!0);m.useEffect(()=>{const h=[];e.forEach(p=>{var g,y;const x=p.data;if(x.nodeId==="variable"){const b=(g=x.parameters)==null?void 0:g.name,v=(y=x.parameters)==null?void 0:y.value;b&&h.push({name:b,value:v||"",type:l(v),description:`c to bi node ${p.id}`,nodeId:p.id})}Object.entries(x.parameters||{}).forEach(([b,v])=>{if(typeof v=="string"&&v.startsWith("$")){const j=v.substring(1);h.find(N=>N.name===j)||h.push({name:j,value:"[Cha nh ngha]",type:"string",description:`c tham chiu trong ${x.label||p.type}`})}})}),r(h)},[e]);const l=h=>typeof h=="number"?"number":typeof h=="boolean"?"boolean":typeof h=="object"?"object":!isNaN(Number(h))&&h!==""?"number":h==="true"||h==="false"?"boolean":"string",c=t.filter(h=>{var p;return h.name.toLowerCase().includes(n.toLowerCase())||((p=h.description)==null?void 0:p.toLowerCase().includes(n.toLowerCase()))}),u=(h,p)=>{h.dataTransfer.setData("text/plain",`$${p.name}`),h.dataTransfer.setData("application/variable",JSON.stringify(p)),h.dataTransfer.effectAllowed="copy"},d=h=>{navigator.clipboard.writeText(`$${h}`)},f=h=>{switch(h){case"string":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"number":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"boolean":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";case"object":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};return a.jsxs("div",{className:"bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 w-80 flex flex-col h-full",children:[a.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qy,{className:"h-5 w-5 text-purple-600"}),a.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Bin"})]}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>o(!i),children:i?"":"+"})]}),i&&a.jsxs("div",{className:"relative",children:[a.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(Ve,{placeholder:"Tm bin...",value:n,onChange:h=>s(h.target.value),className:"pl-9"})]})]}),i&&a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[a.jsx(qy,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Cha c bin no"}),a.jsx("p",{className:"text-xs mt-1",children:'To node "Bin"  bt u'})]}):c.map((h,p)=>a.jsxs("div",{className:"group bg-gray-50 dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700 hover:border-purple-300 dark:hover:border-purple-600 transition-colors cursor-move",draggable:!0,onDragStart:x=>u(x,h),title:"Ko  s dng bin ny",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx(VR,{className:"h-4 w-4 text-purple-600 flex-shrink-0"}),a.jsxs("span",{className:"font-mono text-sm font-medium text-gray-900 dark:text-white truncate",children:["$",h.name]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(io,{className:`text-xs ${f(h.type)}`,children:h.type}),a.jsx(ee,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(h.name),title:"Sao chp tham chiu",children:a.jsx(wn,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Gi tr:"})," ",h.value==="[Cha nh ngha]"?a.jsx("span",{className:"text-red-500",children:h.value}):a.jsx("span",{className:"font-mono",children:h.value})]}),h.description&&a.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:h.description})]},`${h.name}-${p}`))}),i&&a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:a.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:[" ",a.jsx("strong",{children:"Mo:"})," Ko bin vo node  s dng, hoc g $  t ng hon thnh"]})})]})}const uz=({isOpen:e,onClose:t,workflowData:r,workflowName:n})=>{const[s,i]=m.useState(`${n||"workflow"}.json`),[o,l]=m.useState(!1),c=()=>{const d=new Blob([r],{type:"application/json"}),f=URL.createObjectURL(d),h=document.createElement("a");h.href=f,h.download=s,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(f),t()},u=async()=>{try{await navigator.clipboard.writeText(r),l(!0),setTimeout(()=>l(!1),2e3)}catch(d){console.error("Failed to copy to clipboard:",d)}};return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(tn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(In,{children:[a.jsx(rn,{children:"Export Workflow"}),a.jsx(nn,{children:"Export your workflow as a JSON file or copy to clipboard."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"filename",children:"File Name"}),a.jsx(Ve,{id:"filename",value:s,onChange:d=>i(d.target.value),placeholder:"workflow.json"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{children:"Workflow Data Preview"}),a.jsx(oc,{value:r,readOnly:!0,className:"font-mono text-sm h-40 resize-none"})]})]}),a.jsxs(gr,{className:"gap-2",children:[a.jsx(ee,{variant:"outline",onClick:t,children:"Cancel"}),a.jsxs(ee,{variant:"outline",onClick:u,children:[o?a.jsx(fi,{className:"h-4 w-4 mr-2"}):a.jsx(wn,{className:"h-4 w-4 mr-2"}),o?"Copied!":"Copy to Clipboard"]}),a.jsxs(ee,{onClick:c,children:[a.jsx(Za,{className:"h-4 w-4 mr-2"}),"Download JSON"]})]})]})})},fz=({isOpen:e,onClose:t,onImport:r})=>{const[n,s]=m.useState(""),[i,o]=m.useState(""),[l,c]=m.useState(!1),u=p=>{try{const x=JSON.parse(p);return!x.nodes||!x.edges?'Invalid workflow format. Must contain "nodes" and "edges" properties.':!Array.isArray(x.nodes)||!Array.isArray(x.edges)?'Invalid workflow format. "nodes" and "edges" must be arrays.':null}catch{return"Invalid JSON format."}},d=m.useCallback(p=>{var y;const x=(y=p.target.files)==null?void 0:y[0];if(!x)return;const g=new FileReader;g.onload=b=>{var j;const v=(j=b.target)==null?void 0:j.result;s(v),o("")},g.readAsText(x)},[]),f=async()=>{const p=u(n);if(p){o(p);return}c(!0);try{r(n),t(),s(""),o("")}catch{o("Failed to import workflow. Please check the format.")}finally{c(!1)}},h=p=>{s(p.target.value),o("")};return a.jsx(Rn,{open:e,onOpenChange:t,children:a.jsxs(tn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(In,{children:[a.jsx(rn,{children:"Import Workflow"}),a.jsx(nn,{children:"Import a workflow from a JSON file or paste JSON data directly."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{children:"Upload JSON File"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{variant:"outline",className:"relative",children:[a.jsx("input",{type:"file",accept:".json",onChange:d,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Choose File"]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Select a .json workflow file"})]})]}),a.jsx("div",{className:"text-center text-sm text-muted-foreground",children:" OR "}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"json-data",children:"Paste JSON Data"}),a.jsx(oc,{id:"json-data",value:n,onChange:h,placeholder:"Paste workflow JSON data here...",className:"font-mono text-sm h-40 resize-none"})]}),i&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:i})]}),a.jsxs(gr,{children:[a.jsx(ee,{variant:"outline",onClick:t,disabled:l,children:"Cancel"}),a.jsxs(ee,{onClick:f,disabled:!n.trim()||l,children:[a.jsx(Zl,{className:"h-4 w-4 mr-2"}),l?"Importing...":"Import Workflow"]})]})]})})},jN=e=>(console.log(" DEBUG - formatNodesForBackend input nodes:",e),e.map(({selected:t,dragging:r,positionAbsolute:n,width:s,height:i,id:o,type:l,position:c,data:u,...d})=>{const f={id:o,type:l,position:c||{x:0,y:0},data:u||{}};return console.log(" DEBUG - Formatted node:",f),f})),NN=e=>(console.log(" DEBUG - formatEdgesForBackend input edges:",e),e.map(({selected:t,animated:r,style:n,markerEnd:s,id:i,source:o,target:l,sourceHandle:c,targetHandle:u,type:d,data:f,...h})=>{const p={id:i,from:o,to:l,type:d||"default",sourceHandle:c,targetHandle:u,data:f||{}};return console.log(" DEBUG - Formatted edge:",p),p})),hz=e=>e?e.map(t=>({id:t.id,source:t.from,target:t.to,type:t.type||"custom",sourceHandle:t.sourceHandle,targetHandle:t.targetHandle,data:t.data||{}})):[],pz=({workflowId:e})=>{const{toast:t}=yr(),{nodes:r,edges:n,setNodes:s,setEdges:i}=Fo(),{createWorkflow:o,updateWorkflow:l,isCreatingWorkflow:c,isUpdatingWorkflow:u}=sx(),[d,f]=m.useState({id:e,name:"Untitled Workflow"}),[h,p]=m.useState(!1),{data:x,isLoading:g}=Ke({queryKey:["workflow",e],queryFn:()=>Vt.getWorkflow(e),enabled:!!e});m.useEffect(()=>{if(x){console.log(" DEBUG - Fetched workflow data:",x);const P=x.nodes||[],C=x.edges||[],E=hz(C);console.log(" DEBUG - Nodes from backend:",P),console.log(" DEBUG - Edges from backend:",C),f({id:x.id,name:x.name}),s(P),i(E)}},[x,s,i]);const y=m.useCallback(()=>{if(console.log(" DEBUG - handleSave called with nodes:",r),console.log(" DEBUG - handleSave called with edges:",n),r.length===0&&n.length===0&&!e)return console.log(" DEBUG - No content to save, skipping"),Promise.resolve();const P=jN(r),C=NN(n);console.log(" DEBUG - Formatted nodes for backend:",P),console.log(" DEBUG - Formatted edges for backend:",C);const E={name:d.name.trim()||"Untitled Workflow",workflowContent:{nodes:P,edges:C}};return console.log(" DEBUG - Final data to save:",E),new Promise((S,M)=>{d.id?l({id:d.id,data:E},{onSuccess:O=>{console.log(" DEBUG - Update success:",O),t({title:"Workflow Updated"}),S(O)},onError:O=>{console.error(" DEBUG - Update error:",O),t({title:"Update Failed",variant:"destructive"}),M(O)}}):o(E,{onSuccess:O=>{console.log(" DEBUG - Create success:",O),O&&O.id?(f(A=>({...A,id:O.id,name:O.name})),t({title:"Workflow Created"}),S(O)):M(new Error("Create did not return a valid workflow."))},onError:O=>{console.error(" DEBUG - Create error:",O),t({title:"Create Failed",variant:"destructive"}),M(O)}})})},[d,r,n,o,l,t,f,e]),b=m.useCallback(()=>{if(r.length===0&&n.length===0&&!e)return;const P=jN(r),C=NN(n),E={name:d.name.trim()||"Untitled Workflow",workflowContent:{nodes:P,edges:C}};d.id?l({id:d.id,data:E}):o(E)},[d,r,n,o,l,e]);return{currentWorkflow:d,isEditingName:h,isLoading:g||c||u,handleSave:y,saveOnUnload:b,handleStartEditingName:()=>p(!0),handleNameChange:P=>f(C=>({...C,name:P})),handleNameBlur:()=>{p(!1),y().catch(P=>console.error("Auto-save on name blur failed:",P))},handleKeyDown:P=>{P.key==="Enter"&&(P.preventDefault(),p(!1),y().catch(C=>console.error("Auto-save on enter key failed:",C)))}}},mz=e=>{const t=m.useRef();m.useEffect(()=>{t.current=e},[e]),m.useEffect(()=>{const r=n=>{t.current&&t.current(n)};return window.addEventListener("beforeunload",r),()=>{window.removeEventListener("beforeunload",r)}},[])},gz=({onBackToList:e,workflowId:t,onSaveSuccess:r})=>{const{currentWorkflow:n,isEditingName:s,isLoading:i,handleSave:o,saveOnUnload:l,handleStartEditingName:c,handleNameChange:u,handleNameBlur:d,handleKeyDown:f}=pz({workflowId:t}),{undo:h,redo:p,autoLayout:x,deleteSelectedNodes:g,exportWorkflow:y,importWorkflow:b}=Fo();mz(()=>{console.log("Before Unload event triggered! Saving work..."),l()});const[v,j]=D.useState(!1),[N,_]=D.useState(!1),P=async()=>{try{await o()}catch(k){console.error("Auto-save on back button failed",k)}finally{e()}},C=()=>j(!0),E=()=>_(!0),S=()=>j(!1),M=()=>_(!1),O=k=>{try{b(k);const w=JSON.parse(k);w.metadata&&w.metadata.name&&u(w.metadata.name)}catch(w){throw console.error("Import failed:",w),w}},A=()=>console.log("Execute workflow"),B=D.useRef({undo:h,redo:p,autoLayout:x,deleteSelectedNodes:g});return a.jsxs("div",{className:"h-screen flex flex-col",children:[a.jsxs("div",{className:"bg-white border-b border-gray-200 flex items-center justify-between px-4 py-2 shadow-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-md text-gray-600",title:"Back to workflows",children:a.jsx(CR,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center",children:s?a.jsx("input",{type:"text",value:n.name,onChange:k=>u(k.target.value),onBlur:d,onKeyDown:f,autoFocus:!0,className:"bg-gray-100 text-lg px-2 py-1 rounded-md"}):a.jsx("h1",{className:"text-lg font-medium cursor-pointer",onClick:c,children:i?"Loading...":n.name})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>B.current.undo(),className:"p-2",title:"Undo",children:a.jsx(m5,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>B.current.redo(),className:"p-2",title:"Redo",children:a.jsx(l5,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"}),a.jsx("button",{onClick:()=>B.current.autoLayout(),className:"p-2",title:"Auto Layout",children:a.jsx(a5,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>B.current.deleteSelectedNodes(),className:"p-2",title:"Delete Selected",children:a.jsx(p5,{className:"h-4 w-4"})}),a.jsx("div",{className:"w-px h-5 bg-gray-200 mx-1"}),a.jsx("button",{onClick:o,disabled:i,className:"p-2 disabled:opacity-50",title:"Save workflow",children:a.jsx(B2,{className:"h-4 w-4"})}),a.jsx("button",{onClick:C,className:"p-2",title:"Export",children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx("button",{onClick:E,className:"p-2",title:"Import",children:a.jsx(Zl,{className:"h-4 w-4"})}),a.jsxs("button",{onClick:A,className:"px-3 py-1.5 flex items-center gap-1.5 bg-green-600 hover:bg-green-500 rounded-md text-white text-sm",children:[a.jsx(en,{className:"h-3.5 w-3.5"})," Run"]})]})]}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx("div",{className:"w-48 border-r bg-white",children:a.jsx(iz,{})}),a.jsx("div",{className:"flex-1",children:a.jsx(az,{editorRef:B})}),a.jsxs("div",{className:"w-80 border-l bg-white flex flex-col",children:[a.jsx("div",{className:"flex-1",children:a.jsx(cz,{})}),a.jsx("div",{className:"h-80 border-t",children:a.jsx(dz,{})})]})]}),a.jsx(uz,{isOpen:v,onClose:S,workflowData:y(),workflowName:n.name}),a.jsx(fz,{isOpen:N,onClose:M,onImport:O})]})},xz=e=>a.jsx(DW,{children:a.jsx(gz,{...e})});function yz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}yz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Lo=e=>typeof e=="number"&&!isNaN(e),ra=e=>typeof e=="string",An=e=>typeof e=="function",vz=e=>ra(e)||Lo(e),vg=e=>ra(e)||An(e)?e:null,bz=(e,t)=>e===!1||Lo(e)&&e>0?e:t,bg=e=>m.isValidElement(e)||ra(e)||An(e)||Lo(e);function wz(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}function jz({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:i,position:o,preventExitTransition:l,done:c,nodeRef:u,isIn:d,playToast:f}){let h=r?`${e}--${o}`:e,p=r?`${t}--${o}`:t,x=m.useRef(0);return m.useLayoutEffect(()=>{let g=u.current,y=h.split(" "),b=v=>{v.target===u.current&&(f(),g.removeEventListener("animationend",b),g.removeEventListener("animationcancel",b),x.current===0&&v.type!=="animationcancel"&&g.classList.remove(...y))};g.classList.add(...y),g.addEventListener("animationend",b),g.addEventListener("animationcancel",b)},[]),m.useEffect(()=>{let g=u.current,y=()=>{g.removeEventListener("animationend",y),n?wz(g,c,s):c()};d||(l?y():(x.current=1,g.className+=` ${p}`,g.addEventListener("animationend",y)))},[d]),D.createElement(D.Fragment,null,i)}}function _N(e,t){return{content:mP(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function mP(e,t,r=!1){return m.isValidElement(e)&&!ra(e.type)?m.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):An(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function Nz({closeToast:e,theme:t,ariaLabel:r="close"}){return D.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:n=>{n.stopPropagation(),e(!0)},"aria-label":r},D.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},D.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function _z({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:i,controlledProgress:o,progress:l,rtl:c,isIn:u,theme:d}){let f=s||o&&l===0,h={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};o&&(h.transform=`scaleX(${l})`);let p=bn("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":c}),x=An(i)?i({rtl:c,type:n,defaultClassName:p}):bn(p,i),g={[o&&l>=1?"onTransitionEnd":"onAnimationEnd"]:o&&l<1?null:()=>{u&&r()}};return D.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},D.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),D.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:x,style:h,...g}))}var kz=1,gP=()=>`${kz++}`;function Sz(e,t,r){let n=1,s=0,i=[],o=[],l=t,c=new Map,u=new Set,d=v=>(u.add(v),()=>u.delete(v)),f=()=>{o=Array.from(c.values()),u.forEach(v=>v())},h=({containerId:v,toastId:j,updateId:N})=>{let _=v?v!==e:e!==1,P=c.has(j)&&N==null;return _||P},p=(v,j)=>{c.forEach(N=>{var _;(j==null||j===N.props.toastId)&&((_=N.toggle)==null||_.call(N,v))})},x=v=>{var j,N;(N=(j=v.props)==null?void 0:j.onClose)==null||N.call(j,v.removalReason),v.isActive=!1},g=v=>{if(v==null)c.forEach(x);else{let j=c.get(v);j&&x(j)}f()},y=()=>{s-=i.length,i=[]},b=v=>{var j,N;let{toastId:_,updateId:P}=v.props,C=P==null;v.staleId&&c.delete(v.staleId),v.isActive=!0,c.set(_,v),f(),r(_N(v,C?"added":"updated")),C&&((N=(j=v.props).onOpen)==null||N.call(j))};return{id:e,props:l,observe:d,toggle:p,removeToast:g,toasts:c,clearQueue:y,buildToast:(v,j)=>{if(h(j))return;let{toastId:N,updateId:_,data:P,staleId:C,delay:E}=j,S=_==null;S&&s++;let M={...l,style:l.toastStyle,key:n++,...Object.fromEntries(Object.entries(j).filter(([A,B])=>B!=null)),toastId:N,updateId:_,data:P,isIn:!1,className:vg(j.className||l.toastClassName),progressClassName:vg(j.progressClassName||l.progressClassName),autoClose:j.isLoading?!1:bz(j.autoClose,l.autoClose),closeToast(A){c.get(N).removalReason=A,g(N)},deleteToast(){let A=c.get(N);if(A!=null){if(r(_N(A,"removed")),c.delete(N),s--,s<0&&(s=0),i.length>0){b(i.shift());return}f()}}};M.closeButton=l.closeButton,j.closeButton===!1||bg(j.closeButton)?M.closeButton=j.closeButton:j.closeButton===!0&&(M.closeButton=bg(l.closeButton)?l.closeButton:!0);let O={content:v,props:M,staleId:C};l.limit&&l.limit>0&&s>l.limit&&S?i.push(O):Lo(E)?setTimeout(()=>{b(O)},E):b(O)},setProps(v){l=v},setToggle:(v,j)=>{let N=c.get(v);N&&(N.toggle=j)},isToastActive:v=>{var j;return(j=c.get(v))==null?void 0:j.isActive},getSnapshot:()=>o}}var Xt=new Map,go=[],wg=new Set,Cz=e=>wg.forEach(t=>t(e)),xP=()=>Xt.size>0;function Tz(){go.forEach(e=>vP(e.content,e.options)),go=[]}var Ez=(e,{containerId:t})=>{var r;return(r=Xt.get(t||1))==null?void 0:r.toasts.get(e)};function yP(e,t){var r;if(t)return!!((r=Xt.get(t))!=null&&r.isToastActive(e));let n=!1;return Xt.forEach(s=>{s.isToastActive(e)&&(n=!0)}),n}function Pz(e){if(!xP()){go=go.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||vz(e))Xt.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Xt.get(e.containerId);t?t.removeToast(e.id):Xt.forEach(r=>{r.removeToast(e.id)})}}var Az=(e={})=>{Xt.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function vP(e,t){bg(e)&&(xP()||go.push({content:e,options:t}),Xt.forEach(r=>{r.buildToast(e,t)}))}function Rz(e){var t;(t=Xt.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function bP(e,t){Xt.forEach(r=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===r.id)&&r.toggle(e,t==null?void 0:t.id)})}function Iz(e){let t=e.containerId||1;return{subscribe(r){let n=Sz(t,e,Cz);Xt.set(t,n);let s=n.observe(r);return Tz(),()=>{s(),Xt.delete(t)}},setProps(r){var n;(n=Xt.get(t))==null||n.setProps(r)},getSnapshot(){var r;return(r=Xt.get(t))==null?void 0:r.getSnapshot()}}}function Mz(e){return wg.add(e),()=>{wg.delete(e)}}function Oz(e){return e&&(ra(e.toastId)||Lo(e.toastId))?e.toastId:gP()}function $o(e,t){return vP(e,t),t.toastId}function qc(e,t){return{...t,type:t&&t.type||e,toastId:Oz(t)}}function Vc(e){return(t,r)=>$o(t,qc(e,r))}function at(e,t){return $o(e,qc("default",t))}at.loading=(e,t)=>$o(e,qc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Fz(e,{pending:t,error:r,success:n},s){let i;t&&(i=ra(t)?at.loading(t,s):at.loading(t.render,{...s,...t}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null){at.dismiss(i);return}let h={type:u,...o,...s,data:f},p=ra(d)?{render:d}:d;return i?at.update(i,{...h,...p}):at(p.render,{...h,...p}),f},c=An(e)?e():e;return c.then(u=>l("success",n,u)).catch(u=>l("error",r,u)),c}at.promise=Fz;at.success=Vc("success");at.info=Vc("info");at.error=Vc("error");at.warning=Vc("warning");at.warn=at.warning;at.dark=(e,t)=>$o(e,qc("default",{theme:"dark",...t}));function Lz(e){Pz(e)}at.dismiss=Lz;at.clearWaitingQueue=Az;at.isActive=yP;at.update=(e,t={})=>{let r=Ez(e,t);if(r){let{props:n,content:s}=r,i={delay:100,...n,...t,toastId:t.toastId||e,updateId:gP()};i.toastId!==e&&(i.staleId=e);let o=i.render||s;delete i.render,$o(o,i)}};at.done=e=>{at.update(e,{progress:1})};at.onChange=Mz;at.play=e=>bP(!0,e);at.pause=e=>bP(!1,e);function $z(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=m.useRef(Iz(e)).current;s(e);let i=(t=m.useSyncExternalStore(r,n,n))==null?void 0:t.slice();function o(l){if(!i)return[];let c=new Map;return e.newestOnTop&&i.reverse(),i.forEach(u=>{let{position:d}=u.props;c.has(d)||c.set(d,[]),c.get(d).push(u)}),Array.from(c,u=>l(u[0],u[1]))}return{getToastToRender:o,isToastActive:yP,count:i==null?void 0:i.length}}function Dz(e){let[t,r]=m.useState(!1),[n,s]=m.useState(!1),i=m.useRef(null),o=m.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:u,onClick:d,closeOnClick:f}=e;Rz({id:e.toastId,containerId:e.containerId,fn:r}),m.useEffect(()=>{if(e.pauseOnFocusLoss)return h(),()=>{p()}},[e.pauseOnFocusLoss]);function h(){document.hasFocus()||b(),window.addEventListener("focus",y),window.addEventListener("blur",b)}function p(){window.removeEventListener("focus",y),window.removeEventListener("blur",b)}function x(C){if(e.draggable===!0||e.draggable===C.pointerType){v();let E=i.current;o.canCloseOnClick=!0,o.canDrag=!0,E.style.transition="none",e.draggableDirection==="x"?(o.start=C.clientX,o.removalDistance=E.offsetWidth*(e.draggablePercent/100)):(o.start=C.clientY,o.removalDistance=E.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function g(C){let{top:E,bottom:S,left:M,right:O}=i.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&e.pauseOnHover&&C.clientX>=M&&C.clientX<=O&&C.clientY>=E&&C.clientY<=S?b():y()}function y(){r(!0)}function b(){r(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",N),document.addEventListener("pointerup",_)}function j(){document.removeEventListener("pointermove",N),document.removeEventListener("pointerup",_)}function N(C){let E=i.current;if(o.canDrag&&E){o.didMove=!0,t&&b(),e.draggableDirection==="x"?o.delta=C.clientX-o.start:o.delta=C.clientY-o.start,o.start!==C.clientX&&(o.canCloseOnClick=!1);let S=e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;E.style.transform=`translate3d(${S},0)`,E.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function _(){j();let C=i.current;if(o.canDrag&&o.didMove&&C){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}let P={onPointerDown:x,onPointerUp:g};return l&&c&&(P.onMouseEnter=b,e.stacked||(P.onMouseLeave=y)),f&&(P.onClick=C=>{d&&d(C),o.canCloseOnClick&&u(!0)}),{playToast:y,pauseToast:b,isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:P}}var qz=typeof window<"u"?m.useLayoutEffect:m.useEffect,Bc=({theme:e,type:t,isLoading:r,...n})=>D.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...n});function Vz(e){return D.createElement(Bc,{...e},D.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Bz(e){return D.createElement(Bc,{...e},D.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Gz(e){return D.createElement(Bc,{...e},D.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Wz(e){return D.createElement(Bc,{...e},D.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function zz(){return D.createElement("div",{className:"Toastify__spinner"})}var jg={info:Bz,warning:Vz,success:Gz,error:Wz,spinner:zz},Hz=e=>e in jg;function Uz({theme:e,type:t,isLoading:r,icon:n}){let s=null,i={theme:e,type:t};return n===!1||(An(n)?s=n({...i,isLoading:r}):m.isValidElement(n)?s=m.cloneElement(n,i):r?s=jg.spinner():Hz(t)&&(s=jg[t](i))),s}var Kz=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:i}=Dz(e),{closeButton:o,children:l,autoClose:c,onClick:u,type:d,hideProgressBar:f,closeToast:h,transition:p,position:x,className:g,style:y,progressClassName:b,updateId:v,role:j,progress:N,rtl:_,toastId:P,deleteToast:C,isIn:E,isLoading:S,closeOnClick:M,theme:O,ariaLabel:A}=e,B=bn("Toastify__toast",`Toastify__toast-theme--${O}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":_},{"Toastify__toast--close-on-click":M}),k=An(g)?g({rtl:_,position:x,type:d,defaultClassName:B}):bn(B,g),w=Uz(e),T=!!N||!c,I={closeToast:h,type:d,theme:O},F=null;return o===!1||(An(o)?F=o(I):m.isValidElement(o)?F=m.cloneElement(o,I):F=Nz(I)),D.createElement(p,{isIn:E,done:C,position:x,preventExitTransition:r,nodeRef:n,playToast:i},D.createElement("div",{id:P,tabIndex:0,onClick:u,"data-in":E,className:k,...s,style:y,ref:n,...E&&{role:j,"aria-label":A}},w!=null&&D.createElement("div",{className:bn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},w),mP(l,e,!t),F,!e.customProgressBar&&D.createElement(_z,{...v&&!T?{key:`p-${v}`}:{},rtl:_,theme:O,delay:c,isRunning:t,isIn:E,closeToast:h,hide:f,type:d,className:b,controlledProgress:T,progress:N||0})))},Zz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Yz=jz(Zz("bounce",!0)),Qz={position:"top-right",transition:Yz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Xz(e){let t={...Qz,...e},r=e.stacked,[n,s]=m.useState(!0),i=m.useRef(null),{getToastToRender:o,isToastActive:l,count:c}=$z(t),{className:u,style:d,rtl:f,containerId:h,hotKeys:p}=t;function x(y){let b=bn("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":f});return An(u)?u({position:y,rtl:f,defaultClassName:b}):bn(b,vg(u))}function g(){r&&(s(!0),at.play())}return qz(()=>{var y;if(r){let b=i.current.querySelectorAll('[data-in="true"]'),v=12,j=(y=t.position)==null?void 0:y.includes("top"),N=0,_=0;Array.from(b).reverse().forEach((P,C)=>{let E=P;E.classList.add("Toastify__toast--stacked"),C>0&&(E.dataset.collapsed=`${n}`),E.dataset.pos||(E.dataset.pos=j?"top":"bot");let S=N*(n?.2:1)+(n?0:v*C);E.style.setProperty("--y",`${j?S:S*-1}px`),E.style.setProperty("--g",`${v}`),E.style.setProperty("--s",`${1-(n?_:0)}`),N+=E.offsetHeight,_+=.025})}},[n,c,r]),m.useEffect(()=>{function y(b){var v;let j=i.current;p(b)&&((v=j.querySelector('[tabIndex="0"]'))==null||v.focus(),s(!1),at.pause()),b.key==="Escape"&&(document.activeElement===j||j!=null&&j.contains(document.activeElement))&&(s(!0),at.play())}return document.addEventListener("keydown",y),()=>{document.removeEventListener("keydown",y)}},[p]),D.createElement("section",{ref:i,className:"Toastify",id:h,onMouseEnter:()=>{r&&(s(!1),at.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},o((y,b)=>{let v=b.length?{...d}:{...d,pointerEvents:"none"};return D.createElement("div",{tabIndex:-1,className:x(y),"data-stacked":r,style:v,key:`c-${y}`},b.map(({content:j,props:N})=>D.createElement(Kz,{...N,stacked:r,collapseAll:g,isIn:l(N.toastId,N.containerId),key:`t-${N.key}`},j)))}))}const Jz=({workflows:e,onCreateNew:t,onEdit:r,onRunWorkflow:n,onDelete:s,onStopWorkflow:i,onDuplicate:o})=>{const[l,c]=m.useState(""),u=p=>p?new Date(p).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",d=p=>{s(p)},f=p=>{o(p.id)},h=e.filter(p=>p.name.toLowerCase().includes(l.toLowerCase())||p.description&&p.description.toLowerCase().includes(l.toLowerCase()));return a.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[a.jsx(Xz,{position:"bottom-right",theme:"light"}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Automation Workflows"}),a.jsxs("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded-md text-white text-sm transition-colors flex items-center gap-2 shadow-sm",children:[a.jsx(kn,{className:"h-4 w-4"}),"Create New Workflow"]})]}),a.jsx("div",{className:"mb-6",children:a.jsx("input",{type:"text",placeholder:"Search workflows...",value:l,onChange:p=>c(p.target.value),className:"w-full bg-white border border-gray-300 rounded-md p-3 text-sm text-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 shadow-sm"})}),a.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg border border-gray-200",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Last Updated"}),a.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:h.length>0?h.map(p=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"font-medium text-gray-900",children:p.name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:p.description||"No description"})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("div",{className:"text-sm text-gray-500",children:u(p.updatedAt)})}),a.jsx("td",{className:"px-6 py-4 text-center",children:a.jsxs("div",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${p.isRunning?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:[a.jsx("div",{className:`h-2 w-2 mr-1.5 rounded-full ${p.isRunning?"bg-green-400":"bg-gray-400"}`}),p.isRunning?"Running":"Stopped"]})}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{onClick:()=>r(p.id),className:"p-1.5 bg-blue-100 text-blue-600 hover:bg-blue-200 rounded transition-colors shadow-sm",title:"Edit",children:a.jsx(Im,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>f(p),className:"p-1.5 bg-gray-100 text-gray-600 hover:bg-gray-200 rounded transition-colors shadow-sm",title:"Duplicate",children:a.jsx(wn,{className:"h-4 w-4"})}),p.isRunning?a.jsx("button",{onClick:()=>i==null?void 0:i(p.id),className:"p-1.5 bg-red-100 text-red-600 hover:bg-red-200 rounded transition-colors shadow-sm",title:"Stop",children:a.jsx(o5,{className:"h-4 w-4"})}):a.jsx("button",{onClick:()=>n(p),className:"p-1.5 bg-green-100 text-green-600 hover:bg-green-200 rounded transition-colors shadow-sm",title:"Run",children:a.jsx(en,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>d(p.id),className:"p-1.5 bg-red-100 text-red-600 hover:bg-red-200 rounded transition-colors shadow-sm",title:"Delete",children:a.jsx(ro,{className:"h-4 w-4"})})]})})]},p.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:l?"No workflows match your search":"No workflows yet. Create one to get started!"})})})]})})]})};function eH(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var iy="ScrollArea",[wP,RH]=xr(iy),[tH,jr]=wP(iy),jP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[f,h]=m.useState(null),[p,x]=m.useState(null),[g,y]=m.useState(null),[b,v]=m.useState(0),[j,N]=m.useState(0),[_,P]=m.useState(!1),[C,E]=m.useState(!1),S=it(t,O=>c(O)),M=wo(s);return a.jsx(tH,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:_,onScrollbarXEnabledChange:P,scrollbarY:g,onScrollbarYChange:y,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:N,children:a.jsx(Me.div,{dir:M,...o,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});jP.displayName=iy;var NP="ScrollAreaViewport",_P=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=jr(NP,r),l=m.useRef(null),c=it(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Me.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_P.displayName=NP;var on="ScrollAreaScrollbar",oy=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jr(on,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(rH,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(nH,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(kP,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(ly,{...n,ref:t}):null});oy.displayName=on;var rH=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jr(on,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(ys,{present:r||i,children:a.jsx(kP,{"data-state":i?"visible":"hidden",...n,ref:t})})}),nH=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=jr(on,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Wc(()=>c("SCROLL_END"),100),[l,c]=eH("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(ys,{present:r||l!=="hidden",children:a.jsx(ly,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),kP=m.forwardRef((e,t)=>{const r=jr(on,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=Wc(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return oi(r.viewport,c),oi(r.content,c),a.jsx(ys,{present:n||i,children:a.jsx(ly,{"data-state":i?"visible":"hidden",...s,ref:t})})}),ly=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=jr(on,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=PP(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return cH(h,o.current,l,p)}return r==="horizontal"?a.jsx(sH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,p=kN(h,l,s.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(aH,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,p=kN(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),sH=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=jr(on,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=it(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(CP,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gc(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),RP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Wl(o.paddingLeft),paddingEnd:Wl(o.paddingRight)}})}})}),aH=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=jr(on,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=it(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(CP,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gc(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),RP(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Wl(o.paddingTop),paddingEnd:Wl(o.paddingBottom)}})}})}),[iH,SP]=wP(on),CP=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=jr(on,r),[x,g]=m.useState(null),y=it(t,S=>g(S)),b=m.useRef(null),v=m.useRef(""),j=p.viewport,N=n.content-n.viewport,_=mn(d),P=mn(c),C=Wc(f,10);function E(S){if(b.current){const M=S.clientX-b.current.left,O=S.clientY-b.current.top;u({x:M,y:O})}}return m.useEffect(()=>{const S=M=>{const O=M.target;(x==null?void 0:x.contains(O))&&_(M,N)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[j,x,N,_]),m.useEffect(P,[n,P]),oi(x,C),oi(p.content,C),a.jsx(iH,{scope:r,scrollbar:x,hasThumb:s,onThumbChange:mn(i),onThumbPointerUp:mn(o),onThumbPositionChange:P,onThumbPointerDown:mn(l),children:a.jsx(Me.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:ze(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),b.current=x.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(S))}),onPointerMove:ze(e.onPointerMove,E),onPointerUp:ze(e.onPointerUp,S=>{const M=S.target;M.hasPointerCapture(S.pointerId)&&M.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=v.current,p.viewport&&(p.viewport.style.scrollBehavior=""),b.current=null})})})}),Gl="ScrollAreaThumb",TP=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=SP(Gl,e.__scopeScrollArea);return a.jsx(ys,{present:r||s.hasThumb,children:a.jsx(oH,{ref:t,...n})})}),oH=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=jr(Gl,r),o=SP(Gl,r),{onThumbPositionChange:l}=o,c=it(t,f=>o.onThumbChange(f)),u=m.useRef(void 0),d=Wc(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=dH(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Me.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ze(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,g=f.clientY-p.top;o.onThumbPointerDown({x,y:g})}),onPointerUp:ze(e.onPointerUp,o.onThumbPointerUp)})});TP.displayName=Gl;var cy="ScrollAreaCorner",EP=m.forwardRef((e,t)=>{const r=jr(cy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(lH,{...e,ref:t}):null});EP.displayName=cy;var lH=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=jr(cy,r),[i,o]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return oi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),oi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Me.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Wl(e){return e?parseInt(e,10):0}function PP(e,t){const r=e/t;return isNaN(r)?0:r}function Gc(e){const t=PP(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function cH(e,t,r,n="ltr"){const s=Gc(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return AP([c,u],f)(e)}function kN(e,t,r="ltr"){const n=Gc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Vm(e,c);return AP([0,o],[0,l])(u)}function AP(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function RP(e,t){return e>0&&e<t}var dH=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Wc(e,t){const r=mn(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function oi(e,t){const r=mn(t);dr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var IP=jP,uH=_P,fH=EP;const MP=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(IP,{ref:n,className:ne("relative overflow-hidden",e),...r,children:[a.jsx(uH,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(OP,{}),a.jsx(fH,{})]}));MP.displayName=IP.displayName;const OP=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(oy,{ref:n,orientation:t,className:ne("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(TP,{className:"relative flex-1 rounded-full bg-border"})}));OP.displayName=oy.displayName;function hH({open:e,onOpenChange:t,onRun:r,workflow:n,profiles:s,groups:i}){const[o,l]=m.useState("profile"),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(5),[x,g]=m.useState(""),y=m.useMemo(()=>x?s.filter(N=>N.name.toLowerCase().includes(x.toLowerCase())):s,[s,x]),b=N=>{N.preventDefault(),o==="profile"&&c?r({mode:"profile",profileId:c}):o==="group"&&d&&r({mode:"group",groupId:d,threads:h}),t(!1)},v=()=>{l("profile"),u(""),f(""),p(5),g("")},j=o==="profile"&&!c||o==="group"&&!d;return a.jsx(Rn,{open:e,onOpenChange:N=>{N||v(),t(N)},children:a.jsxs(tn,{className:"sm:max-w-md",children:[a.jsxs(In,{children:[a.jsxs(rn,{children:["Run Workflow: ",n==null?void 0:n.name]}),a.jsx(nn,{children:"Choose how you want to execute this workflow."})]}),a.jsxs("form",{onSubmit:b,className:"space-y-4 py-2",children:[a.jsxs(Ys,{value:o,onValueChange:N=>l(N),className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Qt,{value:"profile",id:"r-profile",className:"sr-only"}),a.jsxs(Le,{htmlFor:"r-profile",className:`flex flex-col items-center justify-center rounded-md border-2 p-4 cursor-pointer hover:bg-accent hover:text-accent-foreground ${o==="profile"?"border-primary":"border-muted"}`,children:[a.jsx(gn,{className:"mb-3 h-6 w-6"}),"Run on Profile"]})]}),a.jsxs("div",{children:[a.jsx(Qt,{value:"group",id:"r-group",className:"sr-only"}),a.jsxs(Le,{htmlFor:"r-group",className:`flex flex-col items-center justify-center rounded-md border-2 p-4 cursor-pointer hover:bg-accent hover:text-accent-foreground ${o==="group"?"border-primary":"border-muted"}`,children:[a.jsx(ko,{className:"mb-3 h-6 w-6"}),"Run on Group"]})]})]}),o==="profile"?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{children:"Select a Profile"}),a.jsxs("div",{className:"relative",children:[a.jsx(Sn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(Ve,{placeholder:"Search profile...",className:"pl-8",value:x,onChange:N=>g(N.target.value)})]}),a.jsx(MP,{className:"h-48 w-full rounded-md border",children:a.jsx("div",{className:"p-2",children:a.jsx(Ys,{value:c,onValueChange:u,children:y.length>0?y.map(N=>a.jsxs(Le,{htmlFor:N.id,className:`flex items-center gap-3 rounded-md p-2 cursor-pointer border-2 ${c===N.id?"border-primary":"border-transparent"}`,children:[a.jsx(Qt,{value:N.id,id:N.id}),a.jsx("span",{className:"font-medium",children:N.name})]},N.id)):a.jsx("p",{className:"p-4 text-center text-sm text-muted-foreground",children:"No profiles found."})})})})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{children:"Select Group"}),(i==null?void 0:i.length)>0?a.jsxs(rt,{onValueChange:f,value:d,children:[a.jsx(et,{children:a.jsx(nt,{placeholder:"Select a group to run on"})}),a.jsx(tt,{children:i.map(N=>a.jsxs(re,{value:N.id,children:[N.name," (",N.profileCount||0," profiles)"]},N.id))})]}):a.jsxs("div",{className:"text-sm text-yellow-600 flex items-center gap-2 p-3 border border-yellow-200 bg-yellow-50 rounded-md",children:[a.jsx(Vg,{className:"h-4 w-4"}),a.jsx("span",{children:"No groups available. Please create a group first."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Le,{htmlFor:"threads",children:"Concurrent Threads"}),a.jsx(Ve,{id:"threads",type:"number",min:1,max:50,value:h,onChange:N=>p(Number(N.target.value))})]})]}),a.jsxs(gr,{className:"mt-6",children:[a.jsx(ee,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{type:"submit",disabled:j,className:"gap-2",children:[a.jsx(en,{className:"h-4 w-4"}),"Run Workflow"]})]})]})]})})}function SN(){const{workflows:e,isLoadingWorkflows:t,duplicateWorkflow:r,deleteWorkflow:n}=sx(),{profiles:s,groups:i,launchProfileWithWorkflow:o,launchGroupWithWorkflow:l}=Fk(""),[c,u]=m.useState("list"),[d,f]=m.useState(null),[h,p]=m.useState(null),[x,g]=m.useState(!1),y=()=>{f(null),u("editor")},b=E=>{const S=e.find(M=>M.id===E);S?(f(S),u("editor")):console.error("Could not find the workflow to edit with ID:",E)},v=E=>{p(E),g(!0)},j=E=>{window.confirm("Are you sure you want to delete this workflow?")&&n(E)},N=E=>{window.confirm("Do you want to create a copy of this workflow?")&&r(E)},_=()=>{u("list"),f(null)},P=E=>{console.log("Stop workflow clicked for ID:",E),alert("Stop workflow functionality will be implemented later")},C=E=>{if(!h){console.error("No workflow selected to run.");return}E.mode==="profiles"?E.profileIds.forEach(S=>{o({profileId:S,workflowId:h.id})}):E.mode==="group"&&l({groupId:E.groupId,workflowId:h.id,threads:E.threads}),g(!1)};return t?a.jsx("div",{className:"p-6",children:"Loading workflows..."}):a.jsxs("div",{className:"h-screen bg-white text-gray-800",children:[c==="list"?a.jsx(Jz,{workflows:e,onCreateNew:y,onStopWorkflow:P,onEdit:b,onRunWorkflow:v,onDelete:j,onDuplicate:N}):a.jsx(Dx,{children:a.jsx(xz,{onBackToList:_,workflowId:d==null?void 0:d.id})}),h&&a.jsx(hH,{open:x,onOpenChange:g,workflow:h,profiles:s,groups:i,onRun:C})]})}function pH(){const[e,t]=No();return m.useEffect(()=>{t("/")},[t]),a.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[a.jsx(ka,{className:"h-8 w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2",children:"Redirecting to dashboard..."})]})}function kr({path:e,component:t}){const{user:r,isLoading:n}=hi();return a.jsx(gm,{path:e,children:n?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(ka,{className:"h-8 w-8 animate-spin text-primary"})}):r?a.jsx(t,{}):a.jsx(lA,{to:"/auth"})})}var LN;const mH=typeof window<"u"&&((LN=window.platform)==null?void 0:LN.isElectron)===!0;function gH(){return a.jsx(h2,{hook:mH?m2:void 0,children:a.jsxs(oA,{children:[a.jsx(gm,{path:"/auth",component:kI}),a.jsx(kr,{path:"/",component:()=>a.jsx(Nr,{children:a.jsx(bv,{})})}),a.jsx(kr,{path:"/profile",component:()=>a.jsx(Nr,{children:a.jsx(bv,{})})}),a.jsx(kr,{path:"/network",component:()=>a.jsx(Nr,{children:a.jsx(oM,{})})}),a.jsx(kr,{path:"/automation",component:()=>a.jsx(Nr,{children:a.jsx(SN,{})})}),a.jsx(kr,{path:"/workflow",component:()=>a.jsx(Nr,{children:a.jsx(SN,{})})}),a.jsx(kr,{path:"/settings",component:()=>a.jsx(Nr,{children:a.jsx(NM,{})})}),a.jsx(kr,{path:"/store",component:()=>a.jsx(Nr,{children:a.jsx(AM,{})})}),a.jsx(kr,{path:"/upgrade",component:()=>a.jsx(Nr,{children:a.jsx(J6,{})})}),a.jsx(kr,{path:"/deposit",component:()=>a.jsx(Nr,{children:a.jsx(NO,{})})}),a.jsx(kr,{path:"/guide",component:()=>a.jsx(Nr,{children:a.jsx(GO,{})})}),a.jsx(kr,{path:"/home",component:()=>a.jsx(Nr,{children:a.jsx(pH,{})})}),a.jsx(gm,{component:x5})]})})}function xH(){return a.jsx(RA,{client:Se,children:a.jsx(wI,{children:a.jsxs(yO,{children:[a.jsx(gH,{}),a.jsx(WA,{})]})})})}r2(document.getElementById("root")).render(a.jsx(xH,{}));
